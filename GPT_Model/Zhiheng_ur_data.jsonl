{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: self::add_ajax_events();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_ajax_events() {"}, {"role": "assistant", "content": "Function content: $ajax_events = array(\n\t\t\t'user_input_dropped'        => true,\n\t\t\t'user_form_submit'          => true,\n\t\t\t'update_profile_details'    => true,\n\t\t\t'profile_pic_upload'        => true,\n\t\t\t'ajax_login_submit'         => true,\n\t\t\t'send_test_email'           => false,\n\t\t\t'create_form'               => false,\n\t\t\t'rated'                     => false,\n\t\t\t'dashboard_widget'          => false,\n\t\t\t'dismiss_notice'            => false,\n\t\t\t'import_form_action'        => false,\n\t\t\t'template_licence_check'    => false,\n\t\t\t'captcha_setup_check'       => false,\n\t\t\t'install_extension'         => false,\n\t\t\t'profile_pic_remove'        => false,\n\t\t\t'form_save_action'          => false,\n\t\t\t'allow_usage_dismiss'       => false,\n\t\t\t'cancel_email_change'       => false,\n\t\t\t'email_setting_status'      => false,\n\t\t\t'locked_form_fields_notice' => false,\n\t\t\t'search_global_settings'    => false,\n\t\t\t'php_notice_dismiss'        => false,\n\t\t\t'locate_form_action'        => false,\n\t\t);\n\n\t\tforeach ( $ajax_events as $ajax_event => $nopriv ) {\n\t\t\tadd_action( 'wp_ajax_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\n\t\t\tif ( $nopriv ) {\n\t\t\t\tadd_action( 'wp_ajax_nopriv_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function search_global_settings() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_search_global_settings', 'security' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function allow_usage_dismiss() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'allow_usage_nonce', '_wpnonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_form_submit() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter to modify user capability.\n\t\t * Default value is 'create_users'.\n\t\t */\n\t\t$current_user_capability = apply_filters( 'ur_registration_user_capability', 'create_users' );\n\n\t\tif ( is_user_logged_in() && ! current_user_can( 'administrator' ) && ! current_user_can( $current_user_capability ) ) { //phpcs:ignore\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'You are already logged in.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_profile_details() {"}, {"role": "assistant", "content": "Function content: if ( ! check_ajax_referer( 'user_registration_profile_details_save_nonce', 'security', false ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function profile_pic_upload() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_profile_picture_upload_nonce', 'security' );\n\n\t\t$nonce = isset( $_REQUEST['security'] ) ? sanitize_text_field( wp_unslash( $_REQUEST['security'] ) ) : false;\n\n\t\t$flag = wp_verify_nonce( $nonce, 'user_registration_profile_picture_upload_nonce' );\n\n\t\tif ( true != $flag || is_wp_error( $flag ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ajax_login_submit() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'ur_login_form_save_nonce', 'security' );\n\n\t\t$nonce = isset( $_REQUEST['security'] ) ? sanitize_text_field( wp_unslash( $_REQUEST['security'] ) ) : false;\n\t\t$flag  = wp_verify_nonce( $nonce, 'ur_login_form_save_nonce' );\n\n\t\tif ( false === $flag || is_wp_error( $flag ) ) {\n\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => esc_html__( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_test_email() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'test_email_nonce', 'nonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_send_json_error( array( 'message' => __( 'You do not have permission to send test email.', 'user-registration' ) ) );\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function locate_form_action() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\t\ttry {\n\t\t\tcheck_ajax_referer( 'process-locate-ajax-nonce', 'security' );\n\t\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\t\twp_send_json_error( array( 'message' => __( 'You do not have permission.', 'user-registration' ) ) );\n\t\t\t\twp_die( -1 );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function\n\t *\n\t * @throws Exception Throws If Empty Form Data.\n\t */\n\tpublic static function user_input_dropped() {"}, {"role": "assistant", "content": "Function content: try {\n\t\t\tcheck_ajax_referer( 'user_input_dropped_nonce', 'security' );\n\n         $form_field_id = ( isset( $_POST['form_field_id'] ) ) ? $_POST['form_field_id'] : null; //phpcs:ignore\n\n\t\t\tif ( null == $form_field_id || '' == $form_field_id ) {\n\t\t\t\tthrow new Exception( 'Empty form data' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function import_form_action() {"}, {"role": "assistant", "content": "Function content: try {\n\t\t\tcheck_ajax_referer( 'ur_import_form_save_nonce', 'security' );\n\t\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\t\twp_send_json_error( array( 'message' => __( 'You do not have permission.', 'user-registration' ) ) );\n\t\t\t\twp_die( -1 );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function form_save_action() {"}, {"role": "assistant", "content": "Function content: try {\n\t\t\tcheck_ajax_referer( 'ur_form_save_nonce', 'security' );\n\n\t\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\t\tthrow new Exception( __( \"You don't have enough permission to perform this task. Please contact the Administrator.\", 'user-registration' ) );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function dashboard_widget() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'dashboard-widget', 'security' );\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_send_json_error( array( 'message' => __( 'You do not have permission.', 'user-registration' ) ) );\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_regex_pass( $value ) {"}, {"role": "assistant", "content": "Function content: $field_regex = \"/[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*/\";\n\n\t\tif ( preg_match( $field_regex, $value, $match ) ) :\n\t\t\tif ( null !== $match && count( $match ) == 1 && $match[0] === $value ) {\n\t\t\t\treturn true;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function sweep_array( &$array ) {"}, {"role": "assistant", "content": "Function content: foreach ( $array as $key => &$value ) {\n\t\t\tif ( 'field_key' === $key ) {\n\t\t\t\t$field_key = $value;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function rated() {"}, {"role": "assistant", "content": "Function content: if ( ! current_user_can( 'manage_user_registration' ) ) {\n\t\t\twp_die( - 1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function dismiss_notice() {"}, {"role": "assistant", "content": "Function content: $notice_id   = isset( $_POST['notice_id'] ) ? wp_unslash( sanitize_key( $_POST['notice_id'] ) ) : '';   // phpcs:ignore WordPress.Security.NonceVerification\n\t\t$notice_type = isset( $_POST['notice_type'] ) ? wp_unslash( sanitize_key( $_POST['notice_type'] ) ) : '';   // phpcs:ignore WordPress.Security.NonceVerification\n\t\tcheck_admin_referer( $notice_type . '-nonce', 'security' );\n\t\tif ( ! empty( $_POST['dismissed'] ) ) {\n\t\t\tif ( ! empty( $_POST['dismiss_forever'] ) && ur_string_to_bool( sanitize_text_field( wp_unslash( $_POST['dismiss_forever'] ) ) ) ) {\n\t\t\t\tupdate_option( 'user_registration_' . $notice_id . '_notice_dismissed', true );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function profile_pic_remove() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_profile_picture_remove_nonce', 'security' );\n\t\t$nonce = isset( $_REQUEST['security'] ) ? sanitize_text_field( wp_unslash( $_REQUEST['security'] ) ) : false;\n\n\t\t$flag = wp_verify_nonce( $nonce, 'user_registration_profile_picture_remove_nonce' );\n\n\t\tif ( true != $flag || is_wp_error( $flag ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function template_licence_check() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_template_licence_check', 'security' );\n\n\t\tif ( empty( $_POST['plan'] ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'plan'         => '',\n\t\t\t\t\t'errorCode'    => 'no_plan_specified',\n\t\t\t\t\t'errorMessage' => esc_html__( 'No Plan specified.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function captcha_setup_check() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_captcha_setup_check', 'security' );\n\n\t\tif ( ur_check_captch_keys() ) {\n\t\t\twp_send_json_success(\n\t\t\t\tarray(\n\t\t\t\t\t'is_captcha_setup' => true,\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function install_extension() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'updates' );\n\n\t\tif ( empty( $_POST['slug'] ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'slug'         => '',\n\t\t\t\t\t'errorCode'    => 'no_plugin_specified',\n\t\t\t\t\t'errorMessage' => esc_html__( 'No plugin specified.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_form() {"}, {"role": "assistant", "content": "Function content: ob_start();\n\n\t\tcheck_ajax_referer( 'user_registration_create_form', 'security' );\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_send_json_error( array( 'message' => __( 'You do not have permission to create form.', 'user-registration' ) ) );\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function cancel_email_change() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'cancel_email_change_nonce', '_wpnonce' );\n\n\t\t$user_id = isset( $_POST['cancel_email_change'] ) ? absint( wp_unslash( $_POST['cancel_email_change'] ) ) : false;\n\n\t\tif ( ! $user_id ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function email_setting_status() {"}, {"role": "assistant", "content": "Function content: $security = isset( $_POST['security'] ) ? sanitize_text_field( wp_unslash( $_POST['security'] ) ) : '';\n\t\tif ( '' === $security || ! wp_verify_nonce( $security, 'email_setting_status_nonce' ) ) {\n\t\t\twp_send_json_error( 'Nonce verification failed' );\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function locked_form_fields_notice() {"}, {"role": "assistant", "content": "Function content: $security = isset( $_POST['security'] ) ? sanitize_text_field( wp_unslash( $_POST['security'] ) ) : '';\n\t\tif ( '' === $security || ! wp_verify_nonce( $security, 'locked_form_fields_notice_nonce' ) ) {\n\t\t\twp_send_json_error( 'Nonce verification failed' );\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function php_notice_dismiss() {"}, {"role": "assistant", "content": "Function content: $current_date = gmdate( 'Y-m-d' );\n\t\t$prompt_count = get_option( 'user_registration_php_deprecated_notice_prompt_count', 0 );\n\n\t\tupdate_option( 'user_registration_php_deprecated_notice_last_prompt_date', $current_date );\n\t\tupdate_option( 'user_registration_php_deprecated_notice_prompt_count', ++$prompt_count );\n\n\t\treturn false;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: if ( function_exists( '__autoload' ) ) {\n\t\t\tspl_autoload_register( '__autoload' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_file_name_from_class( $class ) {"}, {"role": "assistant", "content": "Function content: return 'class-' . str_replace( '_', '-', $class ) . '.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function load_file( $path ) {"}, {"role": "assistant", "content": "Function content: if ( $path && is_readable( $path ) ) {\n\t\t\tinclude_once $path;\n\n\t\t\treturn true;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function autoload( $class ) {"}, {"role": "assistant", "content": "Function content: $class = strtolower( $class );\n\t\t$file  = $this->get_file_name_from_class( $class );\n\t\t$path  = '';\n\n\t\tif ( strpos( $class, 'ur_shortcode_' ) === 0 ) {\n\t\t\t$path = $this->include_path . 'shortcodes/';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function dispatch() {"}, {"role": "assistant", "content": "Function content: parent::dispatch();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function handle_cron_healthcheck() {"}, {"role": "assistant", "content": "Function content: if ( $this->is_process_running() ) {\n\t\t\t// Background process already running.\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function schedule_event() {"}, {"role": "assistant", "content": "Function content: if ( ! wp_next_scheduled( $this->cron_hook_identifier ) ) {\n\t\t\twp_schedule_event( time() + 10, $this->cron_interval_identifier, $this->cron_hook_identifier );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_updating() {"}, {"role": "assistant", "content": "Function content: return false === $this->is_queue_empty();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function task( $callback ) {"}, {"role": "assistant", "content": "Function content: if ( ! defined( 'UR_UPDATING' ) ) {\n\t\t\tdefine( 'UR_UPDATING', true );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function complete() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version();\n\t\tparent::complete();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'admin_notices', array( __CLASS__, 'notices' ) );\n\t\tadd_action( 'user_registration_before_registration_form', array( __CLASS__, 'flush_w3tc_cache' ) );\n\t\tadd_action( 'user_registration_before_registration_form', array( __CLASS__, 'flush_wpsuper_cache' ) );\n\t\tadd_action( 'user_registration_before_registration_form', array( __CLASS__, 'flush_wprocket_cache' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function flush_w3tc_cache() {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'w3tc_pgcache_flush' ) ) {\n\t\t\t$post_id = get_the_ID();\n\t\t\tw3tc_pgcache_flush_post( $post_id );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function flush_wpsuper_cache() {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'wpsc_delete_post_cache' ) ) {\n\t\t\t$post_id = get_the_ID();\n\t\t\twpsc_delete_post_cache( $post_id );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function flush_wprocket_cache() {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'rocket_clean_post' ) ) {\n\t\t\t$post_id = get_the_ID();\n\t\t\trocket_clean_post( $post_id );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_nocache_constants( $return = true ) {"}, {"role": "assistant", "content": "Function content: ur_maybe_define_constant( 'DONOTCACHEPAGE', true );\n\t\tur_maybe_define_constant( 'DONOTCACHEOBJECT', true );\n\t\tur_maybe_define_constant( 'DONOTCACHEDB', true );\n\t\treturn $return;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function notices() {"}, {"role": "assistant", "content": "Function content: if ( ! function_exists( 'w3tc_pgcache_flush' ) || ! function_exists( 'w3_instance' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_filter( 'cron_schedules', array( $this, 'add_schedules' ) );\n\t\tadd_action( 'init', array( $this, 'schedule_events' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_schedules( $schedules = array() ) {"}, {"role": "assistant", "content": "Function content: /*Adds once in biweekly to the existing schedules*/\n\t\t$schedules['biweekly'] = array(\n\t\t\t'interval' => ( DAY_IN_SECONDS * 15 ),\n\t\t\t'display'  => __( 'Every 15 days', 'user-registration' ),\n\t\t);\n\n\t\treturn $schedules;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function schedule_events() {"}, {"role": "assistant", "content": "Function content: $this->usage_cron();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function usage_cron() {"}, {"role": "assistant", "content": "Function content: if ( ! wp_next_scheduled( 'user_registration_usage_stats_scheduled_events' ) && ur_option_checked( 'user_registration_allow_usage_tracking', false ) ) {\n\t\t\twp_schedule_event( time(), 'biweekly', 'user_registration_usage_stats_scheduled_events' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_action( 'user_registration_after_register_user_action', array( $this, 'set_approval_status' ), 5, 3 );\n\t\tadd_action( 'user_registration_after_register_user_action', array( $this, 'set_denial_status' ), 5, 3 );\n\t\tadd_action( 'admin_init', array( __CLASS__, 'approve_user_after_verification' ) );\n\t\tadd_action( 'admin_init', array( __CLASS__, 'deny_user_after_verification' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function approve_user_after_verification() {"}, {"role": "assistant", "content": "Function content: if ( ! isset( $_GET['ur_approval_token'] ) || empty( $_GET['ur_approval_token'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function deny_user_after_verification() {"}, {"role": "assistant", "content": "Function content: if ( ! isset( $_GET['ur_denial_token'] ) || empty( $_GET['ur_denial_token'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function approved_success() {"}, {"role": "assistant", "content": "Function content: echo '<div class=\"notice notice-success\"><p>' . esc_html__( 'User approved successfully.', 'user-registration' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function denied_success() {"}, {"role": "assistant", "content": "Function content: echo '<div class=\"notice notice-success\"><p>' . esc_html__( 'User denied successfully.', 'user-registration' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function invalid_approval_token_message() {"}, {"role": "assistant", "content": "Function content: echo \"<div class='notice notice-error'><p>\" . esc_html__( 'The token is invalid. Please try again.', 'user-registration' ) . '</p></div>';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function email_approval_disabled_message() {"}, {"role": "assistant", "content": "Function content: echo '<div class=\"notice notice-warning\"><p>' . esc_html__( 'Failed to approve user. Email Approval Option is Disabled.', 'user-registration' ) . '</p></div>';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function email_denial_disabled_message() {"}, {"role": "assistant", "content": "Function content: echo '<div class=\"notice notice-warning\"><p>' . esc_html__( 'Failed to deny user. Email Approval Option is Disabled.', 'user-registration' ) . '</p></div>';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_token( $user_id ) {"}, {"role": "assistant", "content": "Function content: $length         = 50;\n\t\t$token          = '';\n\t\t$code_alphabet  = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\t\t$code_alphabet .= 'abcdefghijklmnopqrstuvwxyz';\n\t\t$code_alphabet .= '0123456789';\n\t\t$max            = strlen( $code_alphabet );\n\n\t\tfor ( $i = 0; $i < $length; $i++ ) {\n\t\t\t$token .= $code_alphabet[ random_int( 0, $max - 1 ) ];\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_approval_status( $valid_form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: $form_id      = isset( $form_id ) ? $form_id : get_user_meta( $this->user->ID, 'ur_form_id', true );\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\n\t\tif ( ( 'admin_approval' == $login_option || 'admin_approval_after_email_confirmation' == $login_option ) ) {\n\t\t\t$token = $this->get_token( $user_id );\n\t\t\tupdate_user_meta( $user_id, 'ur_confirm_approval_token', $token );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_denial_status( $valid_form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: $form_id      = isset( $form_id ) ? $form_id : get_user_meta( $this->user->ID, 'ur_form_id', true );\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\n\t\tif ( ( 'admin_approval' == $login_option || 'admin_approval_after_email_confirmation' == $login_option ) ) {\n\t\t\t$token = $this->get_token( $user_id );\n\t\t\tupdate_user_meta( $user_id, 'ur_confirm_denial_token', $token );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: if ( is_admin() ) {\n\t\t\tadd_filter( 'manage_users_columns', array( $this, 'add_column_head' ) );\n\t\t\tadd_action( 'load-users.php', array( $this, 'trigger_query_actions' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function trigger_query_actions() {"}, {"role": "assistant", "content": "Function content: $resend_verification_sent = isset( $_REQUEST['resend_verification_sent'] ) ? sanitize_key( $_REQUEST['resend_verification_sent'] ) : false;\n\t\tif ( $resend_verification_sent ) {\n\t\t\tadd_action( 'admin_notices', array( $this, 'ur_admin_notice_resend_verification_sent' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_admin_notice_resend_verification_sent() {"}, {"role": "assistant", "content": "Function content: echo '<div class=\"notice-success notice is-dismissible\"><p>' . esc_html__( 'Verification Email Sent Successfully !! ', 'user-registration' ) . '</p></div>';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_column_head( $columns ) {"}, {"role": "assistant", "content": "Function content: if ( ! current_user_can( 'edit_user' ) ) {\n\t\t\treturn $columns;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_enqueue_script() {"}, {"role": "assistant", "content": "Function content: wp_register_style( 'user-registration-css', UR()->plugin_url() . '/assets/css/user-registration.css', array(), UR_VERSION );\n\t\twp_enqueue_style( 'user-registration-css' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_registration_message() {"}, {"role": "assistant", "content": "Function content: $default = __( 'User successfully registered. Login to continue.', 'user-registration' );\n\t\t$message = get_option( 'user_registration_successful_email_verified_message', $default );\n\t\t$message = ur_string_translation( 0, 'user_registration_successful_email_verified_message', $message );\n\t\treturn ur_print_notice( $message );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_email_confirmed_admin_await_message() {"}, {"role": "assistant", "content": "Function content: $default = __( 'Email has successfully been verified. Now, please wait until the admin approves you to give access for the login.', 'user-registration' );\n\t\t$message = get_option( 'user_registration_pro_email_verified_admin_approval_await_message', $default );\n\t\t$message = ur_string_translation( 0, 'user_registration_pro_email_verified_admin_approval_await_message', $message );\n\t\treturn ur_print_notice( $message );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_registration_error_message() {"}, {"role": "assistant", "content": "Function content: return ur_print_notice( esc_html__( 'Token Mismatch!', 'user-registration' ), 'error' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_token_expired_message() {"}, {"role": "assistant", "content": "Function content: return ur_print_notice( esc_html__( 'Token Expired . Please request for new verification email.', 'user-registration' ), 'error' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_resend_email_token_message() {"}, {"role": "assistant", "content": "Function content: return ur_print_notice( esc_html__( 'Verification Email Sent!', 'user-registration' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function custom_resend_email_token_error_message() {"}, {"role": "assistant", "content": "Function content: return ur_print_notice( esc_html__( 'User does not exist!', 'user-registration' ), 'error' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_token_before_authenticate() {"}, {"role": "assistant", "content": "Function content: $user_reg_successful = false;\n\n\t\tadd_action( 'login_enqueue_scripts', array( $this, 'ur_enqueue_script' ), 1 );\n\n\t\t// Condition for resending token.\n\t\tif (isset($_GET['ur_resend_id']) && isset($_GET['ur_resend_token']) && ur_string_to_bool($_GET['ur_resend_token'])) { //phpcs:ignore;\n\t\t\tif ( empty( $_REQUEST['_wpnonce'] ) || ! wp_verify_nonce( wp_unslash( sanitize_key( $_REQUEST['_wpnonce'] ) ), 'ur_resend_token' ) ) {\n\t\t\t\tdie( esc_html__( 'Action failed. Please refresh the page and retry.', 'user-registration' ) );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function edit_email_confirmation_handler() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\tif ( ! isset( $_GET['confirm_email'] ) || ! isset( $_GET['confirm_key'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_token( $user_id ) {"}, {"role": "assistant", "content": "Function content: $length         = 50;\n\t\t$token          = '';\n\t\t$code_alphabet  = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\t\t$code_alphabet .= 'abcdefghijklmnopqrstuvwxyz';\n\t\t$code_alphabet .= '0123456789';\n\t\t$max            = strlen( $code_alphabet );\n\n\t\tfor ( $i = 0; $i < $length; $i++ ) {\n\t\t\t$token .= $code_alphabet[ random_int( 0, $max - 1 ) ];\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_email_status( $valid_form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: $form_id      = isset( $form_id ) ? $form_id : 0;\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\n\t\tif ( 'email_confirmation' === $login_option || 'admin_approval_after_email_confirmation' === $login_option ) {\n\t\t\t$token = $this->get_token( $user_id );\n\t\t\tupdate_user_meta( $user_id, 'ur_confirm_email', 0 );\n\t\t\tupdate_user_meta( $user_id, 'ur_confirm_email_token', $token );\n\n\t\t\tif ( 'admin_approval_after_email_confirmation' === $login_option ) {\n\t\t\t\tupdate_user_meta( $user_id, 'ur_admin_approval_after_email_confirmation', 'false' );\n\t\t\t\tupdate_user_meta( $user_id, 'ur_user_status', 0 );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_email_status( WP_User $user, $password ) {"}, {"role": "assistant", "content": "Function content: $form_id = ur_get_form_id_by_userid( $user->ID );\n\n\t\t$general_login_option = get_option( 'user_registration_general_setting_login_options', 'default' );\n\n\t\tif ( 'email_confirmation' === ur_get_user_login_option( $user->ID ) ) {\n\t\t\t$email_status = get_user_meta( $user->ID, 'ur_confirm_email', true );\n\t\t\t/**\n\t\t\t * Action before check email status on login\n\t\t\t *\n\t\t\t * @param bool $email_status The email status.\n\t\t\t * @param array $user The user data.\n\t\t\t */\n\t\t\tdo_action( 'ur_user_before_check_email_status_on_login', $email_status, $user );\n\n\t\t\t$website = isset( $_SERVER['SERVER_NAME'] ) && isset( $_SERVER['REQUEST_URI'] ) ? $_SERVER['SERVER_NAME'] . $_SERVER['REQUEST_URI'] : '';   //phpcs:ignore WordPress.Security.ValidatedSanitizedInput\n\n\t\t\t$url = ( ! empty( $_SERVER['HTTPS'] ) ) ? 'https://' . $website : 'http://' . $website;\n\t\t\t$url = substr( $url, 0, strpos( $url, '?' ) );\n\t\t\t$url = wp_nonce_url( $url . '?ur_resend_id=' . crypt_the_string( $user->ID . '_' . time(), 'e' ) . '&ur_resend_token=true', 'ur_resend_token' );\n\n\t\t\tif ( '0' === $email_status ) {\n\t\t\t\t/* translators: %s - Resend Verification Link. */\n\t\t\t\t$message = '<strong>' . __( 'ERROR:', 'user-registration' ) . '</strong> ' . sprintf( __( 'Your account is still pending approval. Verify your email by clicking on the link sent to your email. %s', 'user-registration' ), '<a id=\"resend-email\" href=\"' . esc_url( $url ) . '\">' . __( 'Resend Verification Link', 'user-registration' ) . '</a>' );\n\t\t\t\treturn new WP_Error( 'user_email_not_verified', $message );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function my_simple_crypt( $string, $action ) {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'UR_Email_Confirmation::my_simple_crypt', '1.4.0', 'crypt_the_string' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function getToken( $user_id ) {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'UR_Email_Confirmation::getToken', '1.4.0', 'UR_Email_Confirmation::get_token' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'user_registration_email_send_before', array( __CLASS__, 'ur_send_email_before' ) );\n\t\tadd_action( 'user_registration_email_send_after', array( __CLASS__, 'ur_send_email_after' ) );\n\n\t\tadd_action(\n\t\t\t'user_registration_after_register_user_action',\n\t\t\tarray(\n\t\t\t\t__CLASS__,\n\t\t\t\t'ur_after_register_mail',\n\t\t\t),\n\t\t\t10,\n\t\t\t3\n\t\t);\n\t\tadd_action(\n\t\t\t'user_registration_save_profile_details',\n\t\t\tarray(\n\t\t\t\t__CLASS__,\n\t\t\t\t'ur_profile_details_changed_mail',\n\t\t\t),\n\t\t\t8,\n\t\t\t2\n\t\t);\n\n\t\t// to check the current page name.\n\t\tglobal $pagenow;\n\n\t\t// adds the hook if it is for reset password.\n\t\tif ( ( is_admin() && 'users.php' === $pagenow ) || ( is_admin() && 'resetpassword' === isset( $_GET['action'] ) ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\tadd_filter( 'retrieve_password_message', array( __CLASS__, 'ur_retrieve_password_message' ), 20, 4 );\n\t\t\tadd_filter( 'retrieve_password_title', array( __CLASS__, 'ur_retrieve_password_title' ), 20, 3 );\n\t\t\tadd_filter( 'wp_mail_content_type', array( __CLASS__, 'ur_get_content_type' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_send_email_before() {"}, {"role": "assistant", "content": "Function content: add_filter( 'wp_mail_from', array( __CLASS__, 'ur_sender_email' ) );\n\t\tadd_filter( 'wp_mail_from_name', array( __CLASS__, 'ur_sender_name' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_send_email_after() {"}, {"role": "assistant", "content": "Function content: remove_filter( 'wp_mail_from', array( __CLASS__, 'ur_sender_email' ) );\n\t\tremove_filter( 'wp_mail_from_name', array( __CLASS__, 'ur_sender_name' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_content_type() {"}, {"role": "assistant", "content": "Function content: return 'text/html';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_sender_email() {"}, {"role": "assistant", "content": "Function content: $sender_email = get_option( 'user_registration_email_from_address', get_option( 'admin_email' ) );\n\t\treturn $sender_email;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_sender_name() {"}, {"role": "assistant", "content": "Function content: $sender_name = get_option( 'user_registration_email_from_name', esc_attr( get_bloginfo( 'name', 'display' ) ) );\n\t\treturn $sender_name;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_header() {"}, {"role": "assistant", "content": "Function content: $header       = array(\n\t\t\t'From:' . self::ur_sender_name() . ' <' . self::ur_sender_email() . '>',\n\t\t\t'Reply-To:' . self::ur_sender_email(),\n\t\t\t'Content-Type:text/html; charset=UTF-8',\n\t\t);\n\t\t$sender_email = self::ur_sender_email();\n\t\t$sender_name  = self::ur_sender_name();\n\n\t\t/**\n\t\t * Hook to modify user email header such as from name, reply to etc.\n\t\t *\n\t\t * @param array $header Default Header.\n\t\t * @param string $sender_email Sender Email.\n\t\t * @param string $sender_name Sender Name.\n\t\t *\n\t\t * @return array $header\n\t\t */\n\t\t$header = apply_filters( 'user_registration_modify_user_email_header', $header, $sender_email, $sender_name );\n\n\t\treturn $header;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_after_register_mail( $valid_form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: $valid_form_data = ur_array_clone( $valid_form_data );\n\t\t$login_option    = ur_get_user_login_option( $user_id );\n\n\t\tif ( ( 'email_confirmation' !== $login_option || 'admin_approval_after_email_confirmation' !== $login_option ) && ur_option_checked( 'user_registration_email_setting_disable_email' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_profile_details_changed_mail( $user_id, $form_id ) {"}, {"role": "assistant", "content": "Function content: if ( ur_option_checked( 'user_registration_email_setting_disable_email' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_mail_to_user( $email, $username, $user_id, $data_html, $name_value, $attachments, $template_id ) {"}, {"role": "assistant", "content": "Function content: $form_id      = ur_get_form_id_by_userid( $user_id );\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\t\t$attachment   = isset( $attachments['user'] ) ? $attachments['user'] : '';\n\t\t$status       = ur_get_user_approval_status( $user_id );\n\t\t$email_status = get_user_meta( $user_id, 'ur_confirm_email', true );\n\t\t$email_status = ! metadata_exists( 'user', $user_id, 'ur_confirm_email' ) ? true : $email_status;\n\t\t$email_token  = get_user_meta( $user_id, 'ur_confirm_email_token', true );\n\t\t// Get User Status when admin approval after email confirmation login option enabled in form.\n\t\tif ( 'admin_approval_after_email_confirmation' === $login_option ) {\n\t\t\t$user_status = get_user_meta( $user_id, 'ur_admin_approval_after_email_confirmation', true );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_mail_to_admin( $user_email, $username, $user_id, $data_html, $name_value, $attachments, $template_id ) {"}, {"role": "assistant", "content": "Function content: $header = array(\n\t\t\t'Reply-To:' . $user_email,\n\t\t\t'Content-Type: text/html; charset=UTF-8',\n\t\t);\n\n\t\t/**\n\t\t * Hook to modify admin email header.\n\t\t *\n\t\t * @param array $header Default Header.\n\t\t * @param string $user_email User Email.\n\t\t *\n\t\t * @return array $header\n\t\t */\n\t\t$header = apply_filters( 'user_registration_modify_admin_email_header', $header, $user_email );\n\n\t\t$attachment  = isset( $attachments['admin'] ) ? $attachments['admin'] : '';\n\t\t$admin_email = get_option( 'user_registration_admin_email_receipents', get_option( 'admin_email' ) );\n\t\t$admin_email = explode( ',', $admin_email );\n\t\t$admin_email = array_map( 'trim', $admin_email );\n\n\t\t$subject  = get_option( 'user_registration_admin_email_subject', __( 'A New User Registered', 'user-registration' ) );\n\t\t$settings = new UR_Settings_Admin_Email();\n\n\t\t$form_id = ur_get_form_id_by_userid( $user_id );\n\t\t$message = $settings->ur_get_admin_email();\n\t\t$message = get_option( 'user_registration_admin_email', $message );\n\n\t\t$values = array(\n\t\t\t'username'   => $username,\n\t\t\t'email'      => $user_email,\n\t\t\t'all_fields' => $data_html,\n\t\t\t'user_id'    => $user_id,\n\t\t\t'form_id'    => $form_id,\n\t\t);\n\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\n\t\t// If enabled approval via email setting.\n\t\tif ( ( 'admin_approval' === $login_option || 'admin_approval_after_email_confirmation' === $login_option ) ) {\n\t\t\t$values['approval_token'] = get_user_meta( $user_id, 'ur_confirm_approval_token', true );\n\t\t\t$values['denial_token']   = get_user_meta( $user_id, 'ur_confirm_denial_token', true );\n\t\t\t$values['approval_link']  = '<a href=\"' . admin_url( '/' ) . '?ur_approval_token=' . $values['approval_token'] . '\">' . esc_html__( 'Approve Now', 'user-registration' ) . '</a><br />';\n\t\t\t$values['denial_link']    = '<a href=\"' . admin_url( '/' ) . '?ur_denial_token=' . $values['denial_token'] . '\">' . esc_html__( 'Deny Now', 'user-registration' ) . '</a><br />';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_approve_link_in_email( $user_email, $username, $user_id, $data_html, $name_value, $attachments, $template_id ) {"}, {"role": "assistant", "content": "Function content: $header = array(\n\t\t\t'Reply-To:' . $user_email,\n\t\t\t'Content-Type: text/html; charset=UTF-8',\n\t\t);\n\n\t\t/**\n\t\t * Hook to modify admin email header.\n\t\t *\n\t\t * @param array $header Default Header.\n\t\t * @param string $user_email User Email.\n\t\t *\n\t\t * @return array $header\n\t\t */\n\t\t$header = apply_filters( 'user_registration_modify_admin_email_header', $header, $user_email );\n\n\t\t$attachment  = isset( $attachments['admin'] ) ? $attachments['admin'] : '';\n\t\t$admin_email = get_option( 'user_registration_approval_link_email_receipents', get_option( 'admin_email' ) );\n\t\t$admin_email = explode( ',', $admin_email );\n\t\t$admin_email = array_map( 'trim', $admin_email );\n\n\t\t$subject  = get_option( 'user_registration_approval_link_email_subject', __( 'Approval Link For New User Registration', 'user-registration' ) );\n\t\t$settings = new UR_Settings_Approval_Link_Email();\n\n\t\t$form_id = ur_get_form_id_by_userid( $user_id );\n\n\t\t$message = $settings->ur_get_approval_link_email();\n\t\t$message = get_option( 'user_registration_approval_link_email', $message );\n\n\t\t$values = array(\n\t\t\t'username'   => $username,\n\t\t\t'email'      => $user_email,\n\t\t\t'all_fields' => $data_html,\n\t\t\t'user_id'    => $user_id,\n\t\t\t'form_id'    => $form_id,\n\t\t);\n\n\t\t$login_option = ur_get_user_login_option( $user_id );\n\n\t\t// If enabled approval via email setting.\n\t\tif ( ( 'admin_approval' === $login_option || 'admin_approval_after_email_confirmation' === $login_option ) ) {\n\t\t\t$values['approval_token'] = get_user_meta( $user_id, 'ur_confirm_approval_token', true );\n\t\t\t$values['denial_token']   = get_user_meta( $user_id, 'ur_confirm_denial_token', true );\n\t\t\t$values['approval_link']  = '<a href=\"' . admin_url( '/' ) . '?ur_approval_token=' . $values['approval_token'] . '\">' . esc_html__( 'Approve Now', 'user-registration' ) . '</a><br />';\n\t\t\t$values['denial_link']    = '<a href=\"' . admin_url( '/' ) . '?ur_denial_token=' . $values['denial_token'] . '\">' . esc_html__( 'Deny Now', 'user-registration' ) . '</a><br />';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function status_change_email( $email, $username, $status, $form_id ) {"}, {"role": "assistant", "content": "Function content: // Get name value pair to replace smart tag.\n\t\t$name_value = self::user_data_smart_tags( $email );\n\n\t\t$values = array(\n\t\t\t'username' => $username,\n\t\t\t'email'    => $email,\n\t\t\t'form_id'  => $form_id,\n\t\t);\n\n\t\t$user = get_user_by( 'login', $username );\n\n\t\t$current_language = ur_get_current_language();\n\n\t\tif ( $user ) {\n\t\t\t$current_language = get_user_meta( $user->ID, 'ur_registered_language' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function lost_password_email( $user_login, $user_data, $key ) {"}, {"role": "assistant", "content": "Function content: $user     = get_user_by( 'login', $user_login );\n\t\t$email    = isset( $user->data->user_email ) ? sanitize_email( $user->data->user_email ) : '';\n\t\t$username = isset( $user->data->user_login ) ? sanitize_text_field( $user->data->user_login ) : '';\n\t\t$user_id  = isset( $user->ID ) ? sanitize_text_field( $user->ID ) : '';\n\t\t$form_id  = ur_get_form_id_by_userid( $user_id );\n\n\t\tif ( empty( $email ) || empty( $username ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_retrieve_password_message( $message, $key, $user_login, $user_data ) {"}, {"role": "assistant", "content": "Function content: $user     = get_user_by( 'login', $user_login );\n\t\t$email    = isset( $user->data->user_email ) ? sanitize_email( $user->data->user_email ) : '';\n\t\t$username = isset( $user->data->user_login ) ? sanitize_text_field( $user->data->user_login ) : '';\n\t\t$user_id  = isset( $user->ID ) ? sanitize_text_field( $user->ID ) : '';\n\t\t$form_id  = ur_get_form_id_by_userid( $user_id );\n\n\t\tif ( empty( $email ) || empty( $username ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_retrieve_password_title( $title, $user_login, $user_data ) {"}, {"role": "assistant", "content": "Function content: $user     = get_user_by( 'login', $user_login );\n\t\t$email    = isset( $user->data->user_email ) ? sanitize_email( $user->data->user_email ) : '';\n\t\t$username = isset( $user->data->user_login ) ? sanitize_text_field( $user->data->user_login ) : '';\n\t\t$user_id  = isset( $user->ID ) ? sanitize_text_field( $user->ID ) : '';\n\t\t$form_id  = ur_get_form_id_by_userid( $user_id );\n\n\t\t$key = '';\n\n\t\tif ( empty( $email ) || empty( $username ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_profile_changed_email_to_admin( $user_email, $username, $user_id, $data_html, $name_value, $attachments ) {"}, {"role": "assistant", "content": "Function content: $header = array(\n\t\t\t'Reply-To:' . $user_email,\n\t\t\t'Content-Type: text/html; charset=UTF-8',\n\t\t);\n\t\t/**\n\t\t * Hook to modify admin email header.\n\t\t *\n\t\t * @param array $header Default Header.\n\t\t * @param string $user_email User Email.\n\t\t *\n\t\t * @return array $header\n\t\t */\n\t\t$header = apply_filters( 'user_registration_modify_admin_email_header', $header, $user_email );\n\n\t\t$attachment  = isset( $attachments['admin'] ) ? $attachments['admin'] : '';\n\t\t$admin_email = get_option( 'user_registration_edit_profile_email_receipents', get_option( 'admin_email' ) );\n\t\t$admin_email = explode( ',', $admin_email );\n\t\t$admin_email = array_map( 'trim', $admin_email );\n\n\t\t$subject  = get_option( 'user_registration_profile_details_changed_email_subject', esc_html__( 'Profile Details Changed Email: {{blog_info}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_profile_changed_email_to_user( $user_email, $username, $user_id, $data_html, $name_value, $attachments ) {"}, {"role": "assistant", "content": "Function content: $header = array(\n\t\t\t'Reply-To:' . $user_email,\n\t\t\t'Content-Type: text/html; charset=UTF-8',\n\t\t);\n\n\t\t$attachment = isset( $attachments['user'] ) ? $attachments['user'] : '';\n\t\t$subject    = get_option( 'user_registration_profile_details_updated_email_subject', esc_html__( 'Profile Details Updated Email: {{blog_info}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function confirm_email_address_change_by_admin( $user_email, $username, $user_id, $data_html, $name_value, $attachments ) {"}, {"role": "assistant", "content": "Function content: $header = array(\n\t\t\t'Reply-To:' . $user_email,\n\t\t\t'Content-Type: text/html; charset=UTF-8',\n\t\t);\n\n\t\t$attachment = isset( $attachments['user'] ) ? $attachments['user'] : '';\n\t\t$subject    = get_option( 'user_registration_confirm_email_address_change_subject', esc_html__( 'Confirm Email Address Change Email: {{blog_info}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_data_smart_tags( $email ) {"}, {"role": "assistant", "content": "Function content: $name_value = array();\n\t\t$user       = get_user_by( 'email', $email );\n\t\t$user_id    = isset( $user->ID ) ? absint( $user->ID ) : 0;\n\n\t\t$user_fields = ur_get_user_table_fields();\n\n\t\tforeach ( $user_fields as $field ) {\n\t\t\t$name_value[ $field ] = isset( $user->data->$field ) ? $user->data->$field : '';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function parse_smart_tags( $content = '', $values = array(), $name_value = array() ) {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Hook to process the smart tags.\n\t\t *\n\t\t * @param string $content The message content.\n\t\t * @param int $values The values.\n\t\t * @param int $name_values The name values.\n\t\t *\n\t\t * @return string $content\n\t\t */\n\t\t$content = apply_filters( 'user_registration_process_smart_tags', $content, $values, $name_value );\n\t\treturn $content;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_process_and_send_email( $email, $subject, $message, $header, $attachment, $template_id ) {"}, {"role": "assistant", "content": "Function content: $message = user_registration_process_email_content( $message, $template_id );\n\t\twp_mail( $email, $subject, $message, $header, $attachment, $template_id );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: if ( ! function_exists( 'register_block_type' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function enqueue_block_editor_assets() {"}, {"role": "assistant", "content": "Function content: global $pagenow;\n\t\t$enqueue_script = array( 'wp-blocks', 'wp-element', 'wp-i18n', 'wp-editor', 'wp-components' );\n\n\t\twp_register_style(\n\t\t\t'user-registration-block-editor',\n\t\t\tUR()->plugin_url() . '/assets/css/user-registration.css',\n\t\t\tarray( 'wp-edit-blocks' ),\n\t\t\tUR_VERSION\n\t\t);\n\n\t\tif ( 'widgets.php' === $pagenow ) {\n\t\t\tunset( $enqueue_script[ array_search( 'wp-editor', $enqueue_script ) ] );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_block() {"}, {"role": "assistant", "content": "Function content: register_block_type(\n\t\t\t'user-registration/form-selector',\n\t\t\tarray(\n\t\t\t\t'attributes'      => array(\n\t\t\t\t\t'formId'      => array(\n\t\t\t\t\t\t'type' => 'string',\n\t\t\t\t\t),\n\t\t\t\t\t'formType'    => array(\n\t\t\t\t\t\t'type' => 'string',\n\t\t\t\t\t),\n\t\t\t\t\t'shortcode'   => array(\n\t\t\t\t\t\t'type' => 'string',\n\t\t\t\t\t),\n\t\t\t\t\t'redirectUrl' => array(\n\t\t\t\t\t\t'type' => 'string',\n\t\t\t\t\t),\n\t\t\t\t\t'logoutUrl'   => array(\n\t\t\t\t\t\t'type' => 'string',\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t\t'editor_script'   => 'user-registration-block-editor',\n\t\t\t\t'editor_style'    => 'user-registration-block-editor',\n\t\t\t\t'render_callback' => array( $this, 'render_callback' ),\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function render_callback( $attr ) {"}, {"role": "assistant", "content": "Function content: $form_type = ! empty( $attr['formType'] ) ? _sanitize_text_fields( $attr['formType'] ) : 'registration_form';\n\t\tif ( 'registration_form' === $form_type ) {\n\t\t\t$form_id = ! empty( $attr['formId'] ) ? absint( $attr['formId'] ) : 0;\n\n\t\t\tif ( empty( $form_id ) ) {\n\t\t\t\treturn '';\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ( $class ) {"}, {"role": "assistant", "content": "Function content: return $class . ' ur-gutenberg-editor';\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function () {"}, {"role": "assistant", "content": "Function content: echo '<fieldset disabled>';\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function () {"}, {"role": "assistant", "content": "Function content: echo '</fieldset>';\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'template_redirect', array( __CLASS__, 'redirect_reset_password_link' ) );\n\n\t\tif ( ! ur_option_checked( 'user_registration_ajax_form_submission_on_edit_profile', false ) ) {\n\t\t\tadd_action( 'template_redirect', array( __CLASS__, 'save_profile_details' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function redirect_reset_password_link() {"}, {"role": "assistant", "content": "Function content: $page_id                     = ur_get_page_id( 'myaccount' );\n\t\t$is_ur_login_or_account_page = ur_find_my_account_in_page( $page_id );\n\n\t\tif ( $is_ur_login_or_account_page && ! empty( $_GET['key'] ) && ! empty( $_GET['login'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification\n\t\t\t$value = sprintf( '%s:%s', sanitize_text_field( wp_unslash( $_GET['login'] ) ), sanitize_text_field( wp_unslash( $_GET['key'] ) ) ); // phpcs:ignore WordPress.Security.NonceVerification\n\t\t\tUR_Shortcode_My_Account::set_reset_password_cookie( $value );\n\n\t\t\twp_safe_redirect( add_query_arg( 'show-reset-form', 'true', ur_lostpassword_url() ) );\n\t\t\texit;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function save_profile_details() {"}, {"role": "assistant", "content": "Function content: $profile_endpoint = get_option( 'user_registration_myaccount_edit_profile_endpoint', 'edit-profile' );\n\t\tif ( isset( $_SERVER['REQUEST_METHOD'] ) && 'POST' !== strtoupper( wp_unslash( sanitize_key( $_SERVER['REQUEST_METHOD'] ) ) ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_form_data_from_post( $form_id ) {"}, {"role": "assistant", "content": "Function content: $form_field_data = ur_get_form_field_data( $form_id );\n\n\t\t$fields = array();\n\n\t\tforeach ( $form_field_data as $field ) {\n\t\t\t$field_name = $field->general_setting->field_name;\n\t\t\t$key        = 'user_registration_' . $field_name;\n\n\t\t\t$field_obj             = new StdClass();\n\t\t\t$field_obj->field_name = $field_name;\n\n\t\t\t$value = '';\n\n\t\t\tswitch ( $field->field_key ) {\n\t\t\t\tcase 'checkbox':\n\t\t\t\t\tif ( isset( $_POST[ $key ] ) && is_array( $_POST[ $key ] ) ) { // phpcs:ignore\n\t\t\t\t\t\t$value = wp_unslash( $_POST[ $key ] ); // phpcs:ignore\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_confirmation_email( $user, $new_email, $form_id ) {"}, {"role": "assistant", "content": "Function content: $from_name    = apply_filters( 'wp_mail_from_name', get_option( 'user_registration_email_from_name', esc_attr( get_bloginfo( 'name', 'display' ) ) ) );\n\t\t$sender_email = apply_filters( 'wp_mail_from', get_option( 'user_registration_email_from_address', get_option( 'admin_email' ) ) );\n\t\t$to           = $new_email;\n\t\t$template_id  = ur_get_single_post_meta( $form_id, 'user_registration_select_email_template' );\n\t\t$settings     = new UR_Settings_Confirm_Email_Address_Change_Email();\n\t\t$subject      = get_option( 'user_registration_confirm_email_address_change_email_subject', __( 'Confirm Your Email Address Change', 'user-registration' ) );\n\n\t\t$username  = isset( $user->data->user_login ) ? sanitize_text_field( $user->data->user_login ) : '';\n\t\t$data_html = '<table class=\"user-registration-email__entries\" cellpadding=\"0\" cellspacing=\"0\"><tbody>';\n\t\t$user_id   = isset( $user->ID ) ? sanitize_text_field( $user->ID ) : '';\n\t\t$form_id   = ur_get_form_id_by_userid( $user_id );\n\n\t\t$values = array(\n\t\t\t'username'           => $username,\n\t\t\t'user_email'         => $user->user_email,\n\t\t\t'all_fields'         => $data_html,\n\t\t\t'form_id'            => $form_id,\n\t\t\t'user_id'            => $user_id,\n\t\t\t'user_pending_email' => $new_email,\n\t\t);\n\n\t\t$name_value = array();\n\n\t\t$message     = $settings->ur_get_confirm_email_address_change_email();\n\t\t$message     = get_option( 'user_registration_confirm_email_address_change_email', $message );\n\t\t$template_id = ur_get_single_post_meta( $form_id, 'user_registration_select_email_template' );\n\t\t/**\n\t\t * Filter to modify the change email content.\n\t\t *\n\t\t * @param string $message The message.\n\t\t */\n\t\t$message = apply_filters( 'user_registration_email_change_email_content', $message );\n\t\t$message = UR_Emailer::parse_smart_tags( $message, $values, $name_value );\n\t\t$subject = UR_Emailer::parse_smart_tags( $subject, $values, $name_value );\n\n\t\t$headers = array(\n\t\t\t'From:' . $from_name . ' <' . $sender_email . '>',\n\t\t\t'Content-Type:text/html; charset=UTF-8',\n\t\t);\n\n\t\t$attachment = '';\n\n\t\tupdate_user_meta( $user->ID, 'user_registration_pending_email', $new_email );\n\t\tupdate_user_meta( $user->ID, 'user_registration_pending_email_expiration', time() + DAY_IN_SECONDS );\n\t\tif ( ur_option_checked( 'uret_override_confirm_email_address_change_email', true ) ) {\n\t\t\tlist( $message, $subject ) = user_registration_email_content_overrider( $form_id, $settings, $message, $subject );\n\t\t\t$message                   = UR_Emailer::parse_smart_tags( $message, $values, $name_value );\n\t\t\t$subject                   = UR_Emailer::parse_smart_tags( $subject, $values, $name_value );\n\n\t\t\tUR_Emailer::user_registration_process_and_send_email( $to, $subject, $message, $headers, $attachment, $template_id );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function delete_pending_email_change( $user_id ) {"}, {"role": "assistant", "content": "Function content: delete_user_meta( $user_id, 'user_registration_email_confirm_key' );\n\t\tdelete_user_meta( $user_id, 'user_registration_pending_email' );\n\t\tdelete_user_meta( $user_id, 'user_registration_pending_email_expiration' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function save_account_details( $user_id ) {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'UR_Form_Handler::save_account_details', '1.4.1', 'UR_Form_Handler::save_change_password' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function save_change_password() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_SERVER['REQUEST_METHOD'] ) && 'POST' !== strtoupper( sanitize_text_field( wp_unslash( $_SERVER['REQUEST_METHOD'] ) ) ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function process_login() {"}, {"role": "assistant", "content": "Function content: $nonce_value = isset( $_POST['_wpnonce'] ) ? sanitize_key( $_POST['_wpnonce'] ) : '';\n\t\t$nonce_value = isset( $_POST['user-registration-login-nonce'] ) ? sanitize_key( $_POST['user-registration-login-nonce'] ) : $nonce_value;\n\n\t\tif ( ! empty( $_POST['login'] ) && wp_verify_nonce( $nonce_value, 'user-registration-login' ) ) {\n\t\t\tur_process_login( $nonce_value );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function process_lost_password() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_POST['ur_reset_password'] ) && isset( $_POST['user_login'] ) && isset( $_POST['_wpnonce'] ) && wp_verify_nonce( sanitize_key( $_POST['_wpnonce'] ), 'lost_password' ) ) {\n\n\t\t\t$recaptcha_value = isset( $_POST['g-recaptcha-response'] ) ? ur_clean( sanitize_text_field( wp_unslash( $_POST['g-recaptcha-response'] ) ) ) : '';\n\t\t\t/**\n\t\t\t * Filter to modify the lost password options enable recaptcha.\n\t\t\t * Default value is false.\n\t\t\t */\n\t\t\t$recaptcha_enabled   = ur_string_to_bool( apply_filters( 'user_registration_lost_password_options_enable_recaptcha', false ) );\n\t\t\t$recaptcha_type      = get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' );\n\t\t\t$invisible_recaptcha = ur_option_checked( 'user_registration_captcha_setting_invisible_recaptcha_v2', false );\n\n\t\t\tif ( 'v2' === $recaptcha_type && ! $invisible_recaptcha ) {\n\t\t\t\t$site_key   = get_option( 'user_registration_captcha_setting_recaptcha_site_key' );\n\t\t\t\t$secret_key = get_option( 'user_registration_captcha_setting_recaptcha_site_secret' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function process_reset_password() {"}, {"role": "assistant", "content": "Function content: $posted_fields = array(\n\t\t\t'ur_reset_password',\n\t\t\t'password_1',\n\t\t\t'password_2',\n\t\t\t'reset_key',\n\t\t\t'reset_login',\n\t\t\t'_wpnonce',\n\t\t);\n\n\t\tforeach ( $posted_fields as $field ) {\n\t\t\tif ( ! isset( $_POST[ $field ] ) ) {\n\t\t\t\treturn;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function export_confirmation_request() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_REQUEST['action'] ) && 'confirmaction' === $_REQUEST['action'] ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\tif ( ! isset( $_GET['request_id'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\t\treturn;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_form( $id = '', $args = array() ) {"}, {"role": "assistant", "content": "Function content: $forms = array();\n\t\t/**\n\t\t * Filter to modify the form args.\n\t\t *\n\t\t * @param array $args The form args.\n\t\t */\n\t\t$args = apply_filters( 'user_registration_get_form_args', $args );\n\n\t\tif ( is_numeric( $id ) ) {\n\t\t\t$the_post = get_post( absint( $id ) );\n\n\t\t\tif ( $the_post && 'user_registration' === $the_post->post_type ) {\n\t\t\t\t$the_post->post_content = str_replace( '\"noopener noreferrer\"', \"'noopener noreferrer'\", $the_post->post_content );\n\t\t\t\t$the_post->post_content = str_replace( '\"noopener\"', \"'noopener'\", $the_post->post_content );\n\n\t\t\t\tif ( isset( $args['publish'] ) ) {\n\t\t\t\t\tif ( ( $args['publish'] && 'publish' === $the_post->post_type ) || ( ! $args['publish'] && 'publish' !== $the_post->post_type ) ) {\n\t\t\t\t\t\treturn array();\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_form_fields( $form_id, $args = array() ) {"}, {"role": "assistant", "content": "Function content: $hide_fields = array(\n\t\t\t'user_confirm_password',\n\t\t\t'user_confirm_email',\n\t\t);\n\n\t\t$fields_dict = array();\n\n\t\tif ( is_numeric( $form_id ) ) {\n\n\t\t\t$form_data = $this->get_form( $form_id, $args );\n\n\t\t\tforeach ( $form_data as $sec ) {\n\t\t\t\tforeach ( $sec as $fields ) {\n\t\t\t\t\tforeach ( $fields as $field ) {\n\t\t\t\t\t\tif ( ! isset( $field->general_setting->field_name ) ) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create( $title = '', $template = 'blank', $args = array(), $data = array() ) {"}, {"role": "assistant", "content": "Function content: if ( empty( $title ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_user_ip_after_profile_update( $user_id, $form_id ) {"}, {"role": "assistant", "content": "Function content: $user_ip = ur_get_ip_address();\n\t\tupdate_user_meta( $user_id, 'ur_user_ip', $user_ip );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'user_registration_enqueue_scripts', array( __CLASS__, 'load_scripts' ), 5 );\n\t\tadd_action( 'user_registration_my_account_enqueue_scripts', array( __CLASS__, 'load_scripts' ), 5 );\n\t\tadd_action( 'before-user-registration-my-account-shortcode', array( __CLASS__, 'load_my_account_scripts' ) );\n\t\tadd_action( 'wp_print_scripts', array( __CLASS__, 'localize_printed_scripts' ), 5 );\n\t\tadd_action( 'wp_print_footer_scripts', array( __CLASS__, 'localize_printed_scripts' ), 5 );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_styles() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies filters to enqueue styles for the User Registration plugin.\n\t\t *\n\t\t * @param string $filter_name The name of the filter hook, 'user_registration_enqueue_styles'.\n\t\t * @param array  $styles      An array containing style information for different components.\n\t\t *                            Each component is identified by a unique key, and its details include:\n\t\t *                            - 'src'     (string) The source URL of the stylesheet.\n\t\t *                            - 'deps'    (string|array) Dependencies for the stylesheet.\n\t\t *                            - 'version' (string) The version of the stylesheet.\n\t\t *                            - 'media'   (string) The media attribute for the stylesheet.\n\t\t *                            - 'has_rtl' (bool) Whether the stylesheet has a right-to-left (RTL) version.\n\t\t *\n\t\t * @return array The filtered array of styles for enqueuing.\n\t\t */\n\t\treturn apply_filters(\n\t\t\t'user_registration_enqueue_styles',\n\t\t\tarray(\n\t\t\t\t'sweetalert2'               => array(\n\t\t\t\t\t'src'     => UR()->plugin_url() . '/assets/css/sweetalert2/sweetalert2.min.css',\n\t\t\t\t\t'deps'    => '',\n\t\t\t\t\t'version' => '10.16.7',\n\t\t\t\t\t'media'   => 'all',\n\t\t\t\t),\n\t\t\t\t'user-registration-general' => array(\n\t\t\t\t\t'src'     => self::get_asset_url( 'assets/css/user-registration.css' ),\n\t\t\t\t\t'deps'    => '',\n\t\t\t\t\t'version' => UR_VERSION,\n\t\t\t\t\t'media'   => 'all',\n\t\t\t\t\t'has_rtl' => true,\n\t\t\t\t),\n\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_my_account_scripts() {"}, {"role": "assistant", "content": "Function content: return apply_filters(\n\t\t\t'user_registration_enqueue_my_account_styles',\n\t\t\tarray(\n\t\t\t\t/**\n\t\t\t\t * Applies a filter to retrieve the breakpoint for small-screen styles.\n\t\t\t\t *\n\t\t\t\t * @param string $filter_name The name of the filter hook, 'user_registration_style_smallscreen_breakpoint'.\n\t\t\t\t * @param string $breakpoint  The default breakpoint value for small screens, in pixels.\n\t\t\t\t *\n\t\t\t\t * @return string The filtered breakpoint value for small-screen styles.\n\t\t\t\t */\n\t\t\t\t'user-registration-smallscreen'       => array(\n\t\t\t\t\t'src'     => self::get_asset_url( 'assets/css/user-registration-smallscreen.css' ),\n\t\t\t\t\t'deps'    => '',\n\t\t\t\t\t'version' => UR_VERSION,\n\t\t\t\t\t'media'   => 'only screen and (max-width: ' . apply_filters( 'user_registration_style_smallscreen_breakpoint', $breakpoint = '768px' ) . ')',\n\t\t\t\t\t'has_rtl' => true,\n\t\t\t\t),\n\t\t\t\t'user-registration-my-account-layout' => array(\n\t\t\t\t\t'src'     => self::get_asset_url( 'assets/css/my-account-layout.css' ),\n\t\t\t\t\t'deps'    => '',\n\t\t\t\t\t'version' => UR_VERSION,\n\t\t\t\t\t'media'   => 'all',\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_asset_url( $path ) {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies a filter to retrieve the URL of an asset (e.g., stylesheet or script).\n\t\t *\n\t\t * @param string $filter_name The name of the filter hook, 'user_registration_get_asset_url'.\n\t\t * @param string $url         The default URL of the asset, generated using plugins_url and the provided path.\n\t\t * @param string $path        The relative path to the asset within the plugin.\n\t\t *\n\t\t * @return string The filtered URL of the asset.\n\t\t */\n\t\treturn apply_filters( 'user_registration_get_asset_url', plugins_url( $path, UR_PLUGIN_FILE ), $path );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_script( $handle, $path, $deps = array( 'jquery' ), $version = UR_VERSION, $in_footer = true ) {"}, {"role": "assistant", "content": "Function content: self::$scripts[] = $handle;\n\t\twp_register_script( $handle, $path, $deps, $version, $in_footer );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function enqueue_script( $handle, $path = '', $deps = array( 'jquery' ), $version = UR_VERSION, $in_footer = true ) {"}, {"role": "assistant", "content": "Function content: if ( ! in_array( $handle, self::$scripts ) && $path ) {\n\t\t\tself::register_script( $handle, $path, $deps, $version, $in_footer );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_style( $handle, $path, $deps = array(), $version = UR_VERSION, $media = 'all', $has_rtl = false ) {"}, {"role": "assistant", "content": "Function content: self::$styles[] = $handle;\n\t\twp_register_style( $handle, $path, $deps, $version, $media );\n\n\t\tif ( $has_rtl ) {\n\t\t\twp_style_add_data( $handle, 'rtl', 'replace' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function enqueue_style( $handle, $path = '', $deps = array(), $version = UR_VERSION, $media = 'all', $has_rtl = false ) {"}, {"role": "assistant", "content": "Function content: if ( ! in_array( $handle, self::$styles ) && $path ) {\n\t\t\tself::register_style( $handle, $path, $deps, $version, $media, $has_rtl );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_scripts() {"}, {"role": "assistant", "content": "Function content: $suffix                = defined( 'SCRIPT_DEBUG' ) && SCRIPT_DEBUG ? '' : '.min';\n\t\t$recaptcha_site_key_v3 = get_option( 'user_registration_captcha_setting_recaptcha_site_key_v3' );\n\t\t$register_scripts      = array(\n\t\t\t'ur-inputmask'               => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/inputmask/jquery.inputmask.bundle' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '4.0.0-beta.58',\n\t\t\t),\n\t\t\t'flatpickr'                  => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/flatpickr/flatpickr.min.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '4.6.9',\n\t\t\t),\n\t\t\t'ur-jquery-validate'         => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/jquery.validate' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '1.19.5',\n\t\t\t),\n\t\t\t'user-registration'          => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/user-registration' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery', 'ur-jquery-validate', 'ur-inputmask' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-form-validator'          => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/user-registration-form-validator' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery', 'user-registration' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-lost-password'           => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/lost-password' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery', 'user-registration' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-password-strength-meter' => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/password-strength-meter' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery', 'password-strength-meter' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-recaptcha'               => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/user-registration-recaptcha' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-google-recaptcha'        => array(\n\t\t\t\t'src'     => 'https://www.google.com/recaptcha/api.js?onload=onloadURCallback&render=explicit',\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => '2.0.0',\n\t\t\t),\n\t\t\t'ur-google-recaptcha-v3'     => array(\n\t\t\t\t'src'     => 'https://www.google.com/recaptcha/api.js?render=' . $recaptcha_site_key_v3,\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => '3.0.0',\n\t\t\t),\n\t\t\t'ur-recaptcha-hcaptcha'      => array(\n\t\t\t\t'src'     => 'https://hcaptcha.com/1/api.js?onload=onloadURCallback&render=explicit',\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-recaptcha-cloudflare'    => array(\n\t\t\t\t'src'     => 'https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit&onload=onloadURCallback',\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => '',\n\t\t\t),\n\t\t\t'ur-my-account'              => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/my-account' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery', 'user-registration' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'ur-login'                   => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/ur-login' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t\t'tooltipster'                => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/tooltipster/tooltipster.bundle' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '4.2.8',\n\t\t\t),\n\t\t\t'selectWoo'                  => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/selectWoo/selectWoo.full' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '5.0.0',\n\t\t\t),\n\t\t\t'sweetalert2'                => array(\n\t\t\t\t'src'     => UR()->plugin_url() . '/assets/js/sweetalert2/sweetalert2.min.js',\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => '10.16.7',\n\t\t\t),\n\t\t\t'ur-common'                  => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/js/frontend/ur-common' . $suffix . '.js' ),\n\t\t\t\t'deps'    => array( 'jquery' ),\n\t\t\t\t'version' => UR_VERSION,\n\t\t\t),\n\t\t);\n\t\tforeach ( $register_scripts as $name => $props ) {\n\t\t\tself::register_script( $name, $props['src'], $props['deps'], $props['version'] );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_styles() {"}, {"role": "assistant", "content": "Function content: $register_styles = array(\n\t\t\t'jquery-ui-css' => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/css/jquery-ui/jquery-ui.css' ),\n\t\t\t\t'deps'    => '',\n\t\t\t\t'version' => '1.12.1',\n\t\t\t\t'media'   => 'all',\n\t\t\t\t'has_rtl' => false,\n\t\t\t),\n\t\t\t'flatpickr'     => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/css/flatpickr/flatpickr.min.css' ),\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => '4.6.9',\n\t\t\t\t'media'   => 'all',\n\t\t\t\t'has_rtl' => false,\n\t\t\t),\n\t\t\t'select2'       => array(\n\t\t\t\t'src'     => self::get_asset_url( 'assets/css/select2/select2.css' ),\n\t\t\t\t'deps'    => array(),\n\t\t\t\t'version' => '4.0.6',\n\t\t\t\t'has_rtl' => false,\n\t\t\t),\n\t\t);\n\n\t\tforeach ( $register_styles as $name => $props ) {\n\t\t\tself::register_style( $name, $props['src'], $props['deps'], $props['version'], 'all', $props['has_rtl'] );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function load_scripts() {"}, {"role": "assistant", "content": "Function content: global $post;\n\n\t\tif ( ! did_action( 'before_user_registration_init' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function load_my_account_scripts() {"}, {"role": "assistant", "content": "Function content: global $post;\n\n\t\t// CSS Styles.\n\t\tif ( $enqueue_styles = self::get_my_account_scripts() ) { //phpcs:ignore\n\t\t\tforeach ( $enqueue_styles as $handle => $args ) {\n\t\t\t\tif ( ! isset( $args['has_rtl'] ) ) {\n\t\t\t\t\t$args['has_rtl'] = false;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function localize_script( $handle ) {"}, {"role": "assistant", "content": "Function content: if ( ! in_array( $handle, self::$wp_localize_scripts ) && wp_script_is( $handle ) && ( $data = self::get_script_data( $handle ) ) ) { //phpcs:ignore\n\t\t\t$name                        = str_replace( '-', '_', $handle ) . '_params';\n\t\t\tself::$wp_localize_scripts[] = $handle;\n\t\t\t/**\n\t\t\t * Applies a filter to customize the localized data before it is passed to a script.\n\t\t\t *\n\t\t\t * This filter allows developers to modify the localized data associated with a specific script handle\n\t\t\t * before it is passed to the corresponding script using wp_localize_script.\n\t\t\t *\n\t\t\t * @param string $filter_name The name of the filter hook, dynamically generated based on the script handle.\n\t\t\t * @param array  $data        The default localized data obtained using self::get_script_data.\n\t\t\t *\n\t\t\t * @return array The filtered localized data to be passed to the script.\n\t\t\t */\n\t\t\twp_localize_script( $handle, $name, apply_filters( $name, $data ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_script_data( $handle ) {"}, {"role": "assistant", "content": "Function content: switch ( $handle ) {\n\t\t\tcase 'user-registration':\n\t\t\t\treturn array(\n\t\t\t\t\t'ajax_url'                          => admin_url( 'admin-ajax.php' ),\n\t\t\t\t\t'user_registration_form_data_save'  => wp_create_nonce( 'user_registration_form_data_save_nonce' ),\n\t\t\t\t\t'user_registration_profile_details_save' => wp_create_nonce( 'user_registration_profile_details_save_nonce' ),\n\t\t\t\t\t'user_registration_profile_picture_upload_nonce' => wp_create_nonce( 'user_registration_profile_picture_upload_nonce' ),\n\t\t\t\t\t'user_registration_profile_picture_remove_nonce' => wp_create_nonce( 'user_registration_profile_picture_remove_nonce' ),\n\t\t\t\t\t'form_required_fields'              => ur_get_required_fields(),\n\t\t\t\t\t'login_option'                      => get_option( 'user_registration_general_setting_login_options' ),\n\t\t\t\t\t'recaptcha_type'                    => get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' ),\n\t\t\t\t\t'user_registration_profile_picture_uploading' => esc_html__( 'Uploading...', 'user-registration' ),\n\t\t\t\t\t'user_registration_profile_picture_removing' => esc_html__( 'Removing...', 'user-registration' ),\n\t\t\t\t\t'ajax_submission_on_edit_profile'   => ur_option_checked( 'user_registration_ajax_form_submission_on_edit_profile', false ),\n\t\t\t\t\t'message_required_fields'           => get_option( 'user_registration_form_submission_error_message_required_fields', esc_html__( 'This field is required.', 'user-registration' ) ),\n\t\t\t\t\t'message_email_fields'              => get_option( 'user_registration_form_submission_error_message_email', esc_html__( 'Please enter a valid email address.', 'user-registration' ) ),\n\t\t\t\t\t'message_url_fields'                => get_option( 'user_registration_form_submission_error_message_website_URL', esc_html__( 'Please enter a valid URL.', 'user-registration' ) ),\n\t\t\t\t\t'message_number_fields'             => get_option( 'user_registration_form_submission_error_message_number', esc_html__( 'Please enter a valid number.', 'user-registration' ) ),\n\t\t\t\t\t'message_confirm_password_fields'   => get_option( 'user_registration_form_submission_error_message_confirm_password', esc_html__( 'Password and confirm password not matched.', 'user-registration' ) ),\n\t\t\t\t\t'message_min_words_fields'          => get_option( 'user_registration_form_submission_error_message_min_words', esc_html__( 'Please enter at least %qty% words.', 'user-registration' ) ),\n\t\t\t\t\t'message_validate_phone_number'     => get_option( 'user_registration_form_submission_error_message_phone_number', esc_html__( 'Please enter a valid phone number.', 'user-registration' ) ),\n\t\t\t\t\t'message_username_character_fields' => get_option( 'user_registration_form_submission_error_message_disallow_username_character', esc_html__( 'Please enter a valid username.', 'user-registration' ) ),\n\t\t\t\t\t'message_confirm_email_fields'      => get_option( 'user_registration_form_submission_error_message_confirm_email', esc_html__( 'Email and confirm email not matched.', 'user-registration' ) ),\n\t\t\t\t\t'message_confirm_number_field_max'  => esc_html__( 'Please enter a value less than or equal to %qty%.', 'user-registration' ),\n\t\t\t\t\t'message_confirm_number_field_min'  => esc_html__( 'Please enter a value greater than or equal to %qty%.', 'user-registration' ),\n\t\t\t\t\t'message_confirm_number_field_step' => esc_html__( 'Please enter a multiple of %qty%.', 'user-registration' ),\n\t\t\t\t\t'ursL10n'                           => array(\n\t\t\t\t\t\t'user_successfully_saved' => get_option( 'user_registration_successful_form_submission_message_manual_registation', esc_html__( 'User successfully registered.', 'user-registration' ) ),\n\t\t\t\t\t\t'user_under_approval'     => get_option( 'user_registration_successful_form_submission_message_admin_approval', esc_html__( 'User registered. Wait until admin approves your registration.', 'user-registration' ) ),\n\t\t\t\t\t\t'user_email_pending'      => get_option( 'user_registration_successful_form_submission_message_email_confirmation', esc_html__( 'User registered. Verify your email by clicking on the link sent to your email.', 'user-registration' ) ),\n\t\t\t\t\t\t'captcha_error'           => get_option( 'user_registration_form_submission_error_message_recaptcha', esc_html__( 'Captcha code error, please try again.', 'user-registration' ) ),\n\t\t\t\t\t\t'hide_password_title'     => esc_html__( 'Hide Password', 'user-registration' ),\n\t\t\t\t\t\t'show_password_title'     => esc_html__( 'Show Password', 'user-registration' ),\n\t\t\t\t\t\t'i18n_total_field_value_zero' => esc_html__( 'Total field value should be greater than zero.', 'user-registration' ),\n\t\t\t\t\t\t'i18n_discount_total_zero' => esc_html__('Discounted amount cannot be less than or equals to Zero. Please adjust your coupon code.', 'user-registration' ),\n\t\t\t\t\t\t'password_strength_error' => esc_html__( 'Password strength is not strong enough', 'user-registration' ),\n\t\t\t\t\t),\n\t\t\t\t\t'is_payment_compatible'             => true,\n\t\t\t\t);\n\t\t\tbreak;\n\n\t\t\tcase 'ur-password-strength-meter':\n\t\t\t\treturn array(\n\t\t\t\t\t'home_url'             => home_url(),\n\t\t\t\t\t'i18n_password_error'  => esc_attr__( 'Please enter a stronger password.', 'user-registration' ),\n\t\t\t\t\t'pwsL10n'              => array(\n\t\t\t\t\t\t'shortpw'  => esc_html__( 'Very Weak', 'user-registration' ),\n\t\t\t\t\t\t'bad'      => esc_html__( 'Weak', 'user-registration' ),\n\t\t\t\t\t\t'good'     => esc_html__( 'Medium', 'user-registration' ),\n\t\t\t\t\t\t'strong'   => esc_html__( 'Strong', 'user-registration' ),\n\t\t\t\t\t\t'mismatch' => esc_html__( 'Password with confirm password not matched.', 'user-registration' ),\n\n\t\t\t\t\t),\n\t\t\t\t\t/**\n\t\t\t\t\t * Applies a filter to customize the message displayed for strong password requirements.\n\t\t\t\t\t *\n\t\t\t\t\t * This filter allows developers to modify the default strong password message provided for user guidance.\n\t\t\t\t\t *\n\t\t\t\t\t * @param string $filter_name The name of the filter hook, 'user_registration_strong_password_message'.\n\t\t\t\t\t * @param string $default_message The default message for strong password requirements, obtained using esc_html__().\n\t\t\t\t\t */\n\t\t\t\t\t'i18n_password_hint'   => apply_filters( 'user_registration_strong_password_message', esc_html__( 'Hint: To make password stronger, use upper and lower case letters, numbers, and symbols like ! \" ? $ % ^ & ).', 'user-registration' ) ),\n\t\t\t\t\t'i18n_password_hint_1' => esc_html__( 'Hint: Minimum one uppercase letter and must be 4 characters and no repetitive words or common words', 'user-registration' ),\n\t\t\t\t\t'i18n_password_hint_2' => esc_html__( 'Hint: Minimum one uppercase letter, a number, must be 7 characters and no repetitive words or common words', 'user-registration' ),\n\t\t\t\t\t'i18n_password_hint_3' => esc_html__( 'Hint: Minimum one uppercase letter, a number, a special character, must be 9 characters and no repetitive words or common words', 'user-registration' ),\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\tcase 'ur-login':\n\t\t\t\treturn array(\n\t\t\t\t\t'ajax_url'                    => admin_url( 'admin-ajax.php' ),\n\t\t\t\t\t'ur_login_form_save_nonce'    => wp_create_nonce( 'ur_login_form_save_nonce' ),\n\t\t\t\t\t'ajax_submission_on_ur_login' => ur_option_checked( 'ur_login_ajax_submission', false ),\n\t\t\t\t\t'recaptcha_type'              => get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' ),\n\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function localize_printed_scripts() {"}, {"role": "assistant", "content": "Function content: foreach ( self::$scripts as $handle ) {\n\t\t\tself::localize_script( $handle );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'init', array( __CLASS__, 'check_version' ), 5 );\n\t\tadd_action( 'init', array( __CLASS__, 'init_background_updater' ), 5 );\n\t\tadd_action( 'admin_init', array( __CLASS__, 'install_actions' ) );\n\t\tadd_action( 'in_plugin_update_message-user-registration/user-registration.php', array( __CLASS__, 'in_plugin_update_message' ) );\n\t\tadd_filter( 'wpmu_drop_tables', array( __CLASS__, 'wpmu_drop_tables' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init_background_updater() {"}, {"role": "assistant", "content": "Function content: include_once __DIR__ . '/class-ur-background-updater.php';\n\t\tself::$background_updater = new UR_Background_Updater();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_version() {"}, {"role": "assistant", "content": "Function content: if ( ! defined( 'IFRAME_REQUEST' ) && version_compare( get_option( 'user_registration_version' ), UR()->version, '<' ) ) {\n\t\t\tself::install();\n\t\t\t/**\n\t\t\t * Fires an action hook after updating the User Registration plugin to a new version.\n\t\t\t */\n\t\t\tdo_action( 'user_registration_updated' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is hooked into admin_init to affect admin only.\n\t */\n\tpublic static function install_actions() {"}, {"role": "assistant", "content": "Function content: if ( ! empty( $_GET['do_update_user_registration'] ) ) { //phpcs:ignore WordPress.Security.NonceVerification\n\t\t\tself::update();\n\t\t\tUR_Admin_Notices::add_notice( 'update' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function install() {"}, {"role": "assistant", "content": "Function content: if ( ! is_blog_installed() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function remove_admin_notices() {"}, {"role": "assistant", "content": "Function content: include_once __DIR__ . '/admin/notifications/class-ur-admin-notices.php';\n\t\tUR_Admin_Notices::remove_all_notices();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function setup_environment() {"}, {"role": "assistant", "content": "Function content: UR_Post_Types::register_post_types();\n\t\tUR()->query->init_query_vars();\n\t\tUR()->query->add_endpoints();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_new_install() {"}, {"role": "assistant", "content": "Function content: return is_null( get_option( 'user_registration_version', null ) ) && is_null( get_option( 'user_registration_db_version', null ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function needs_db_update() {"}, {"role": "assistant", "content": "Function content: $current_db_version = get_option( 'user_registration_db_version', null );\n\t\t$updates            = self::get_db_update_callbacks();\n\n\t\treturn ! is_null( $current_db_version ) && version_compare( $current_db_version, max( array_keys( $updates ) ), '<' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function maybe_enable_setup_wizard() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies a filter to determine whether to enable the setup wizard for User Registration.\n\t\t *\n\t\t * The 'user_registration_enable_setup_wizard' filter allows developers to control\n\t\t * whether the setup wizard should be enabled based on certain conditions.\n\t\t *\n\t\t * @param bool $default_value The default value indicating whether it's a new installation, obtained using self::is_new_install().\n\t\t */\n\t\tif ( apply_filters( 'user_registration_enable_setup_wizard', self::is_new_install() ) ) {\n\t\t\tUR_Admin_Notices::add_notice( 'install' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function maybe_update_db_version() {"}, {"role": "assistant", "content": "Function content: if ( self::needs_db_update() ) {\n\t\t\t/**\n\t\t\t * Checks if database updates are needed during installation and takes appropriate actions.\n\t\t\t */\n\t\t\tif ( apply_filters( 'user_registration_enable_auto_update_db', false ) ) {\n\t\t\t\tself::init_background_updater();\n\t\t\t\tself::update();\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function maybe_add_installation_date() {"}, {"role": "assistant", "content": "Function content: $installed_date = get_option( 'user_registration_activated' );\n\n\t\tif ( empty( $installed_date ) ) {\n\t\t\tupdate_option( 'user_registration_activated', current_time( 'Y-m-d' ) );\n\t\t\tupdate_option( 'user_registration_updated_at', current_time( 'Y-m-d' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function not defined.\n\t *\n\t * @return void\n\t */\n\tpublic static function maybe_run_migrations() {"}, {"role": "assistant", "content": "Function content: include_once 'functions-ur-update.php';\n\n\t\t// Migrations for User Registration ( Free ).\n\t\t$migration_updates = array(\n\t\t\t'3.0' => array(\n\t\t\t\t'ur_update_30_option_migrate',\n\t\t\t),\n\t\t);\n\n\t\tif ( defined( 'UR_PRO_ACTIVE' ) ) {\n\t\t\t// Migrations for User Registration ( Pro ).\n\t\t\t$migration_updates = array(\n\t\t\t\t'4.0' => array(\n\t\t\t\t\t'ur_update_30_option_migrate',\n\t\t\t\t\t'ur_pro_update_40_option_migrate',\n\t\t\t\t),\n\t\t\t\t'4.2.0' => array(\n\t\t\t\t\t'ur_pro_module_addons_migrate',\n\t\t\t\t),\n\t\t\t);\n\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ' . $update_callback . '() not found.' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch ( Exception $e ) {"}, {"role": "assistant", "content": "Function content: ur_get_logger()->debug( $e->getMessage() );\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_ur_version() {"}, {"role": "assistant", "content": "Function content: delete_option( 'user_registration_version' );\n\t\tadd_option( 'user_registration_version', UR()->version );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_db_update_callbacks() {"}, {"role": "assistant", "content": "Function content: $updates            = self::$db_updates;\n\t\t$current_db_version = get_option( 'user_registration_db_version' );\n\n\t\t$db_needs_update = array( '1.2.2', '1.2.3', '1.2.4' );\n\n\t\tif ( in_array( $current_db_version, $db_needs_update ) ) {\n\t\t\t$updates['1.2.5'] = array(\n\t\t\t\t'ur_update_125_usermeta',\n\t\t\t\t'ur_update_125_db_version',\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update() {"}, {"role": "assistant", "content": "Function content: $current_db_version = get_option( 'user_registration_db_version' );\n\t\t$update_queued      = false;\n\n\t\tforeach ( self::get_db_update_callbacks() as $version => $update_callbacks ) {\n\t\t\tif ( version_compare( $current_db_version, $version, '<' ) ) {\n\t\t\t\tforeach ( $update_callbacks as $update_callback ) {\n\t\t\t\t\tself::$background_updater->push_to_queue( $update_callback );\n\t\t\t\t\t$update_queued = true;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_db_version( $version = null ) {"}, {"role": "assistant", "content": "Function content: delete_option( 'user_registration_db_version' );\n\t\tadd_option( 'user_registration_db_version', is_null( $version ) ? UR()->version : $version );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_pages() {"}, {"role": "assistant", "content": "Function content: include_once __DIR__ . '/admin/functions-ur-admin.php';\n\t\t/**\n\t\t * Creates and configures pages related with customizable content.\n\t\t *\n\t\t * The 'user_registration_create_pages' filter allows developers to customize the pages\n\t\t * created during the setup process. By default, it includes a 'My Account' page with the\n\t\t * 'user_registration_my_account' shortcode, and if a default registration form page is set,\n\t\t * it includes a 'Registration' page with the 'user_registration_form' shortcode.\n\t\t *\n\t\t * Developers can customize the page structure and content using this filter.\n\t\t */\n\t\t$pages = apply_filters(\n\t\t\t'user_registration_create_pages',\n\t\t\tarray(\n\t\t\t\t'myaccount' => array(\n\t\t\t\t\t'name'    => _x( 'my-account', 'Page slug', 'user-registration' ),\n\t\t\t\t\t'title'   => _x( 'My Account', 'Page title', 'user-registration' ),\n\t\t\t\t\t'content' => '[' . apply_filters( 'user_registration_my_account_shortcode_tag', 'user_registration_my_account' ) . ']',\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\n\t\t$default_form_page_id = get_option( 'user_registration_default_form_page_id' );\n\n\t\tif ( $default_form_page_id ) {\n\t\t\t$pages['registration'] = array(\n\t\t\t\t'name'    => _x( 'registration', 'Page slug', 'user-registration' ),\n\t\t\t\t'title'   => _x( 'Registration', 'Page title', 'user-registration' ),\n\t\t\t\t/**\n\t\t\t\t * Applies a filter to customize the shortcode tag used for the User Registration form.\n\t\t\t\t *\n\t\t\t\t * The 'user_registration_form_shortcode_tag' filter allows developers to modify\n\t\t\t\t * the default shortcode tag ('user_registration_form') used to render the registration form.\n\t\t\t\t * Developers can use this filter to change the tag or add additional attributes to the form shortcode.\n\t\t\t\t *\n\t\t\t\t * @param string $default_shortcode_tag The default shortcode tag for the User Registration form.\n\t\t\t\t */\n\t\t\t\t'content' => '[' . apply_filters( 'user_registration_form_shortcode_tag', 'user_registration_form' ) . ' id=\"' . esc_attr( $default_form_page_id ) . '\"]',\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_options() {"}, {"role": "assistant", "content": "Function content: // Include settings so that we can run through defaults.\n\t\tinclude_once __DIR__ . '/admin/class-ur-admin-settings.php';\n\n\t\t$settings = UR_Admin_Settings::get_settings_pages();\n\n\t\tif ( ! empty( $settings ) ) {\n\t\t\tforeach ( $settings as $section ) {\n\t\t\t\tif ( ! method_exists( $section, 'get_settings' ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_form() {"}, {"role": "assistant", "content": "Function content: $hasposts = get_posts( 'post_type=user_registration' );\n\n\t\tif ( 0 === count( $hasposts ) ) {\n\t\t\tupdate_option( 'user_registration_first_time_activation_flag', true );\n\t\t\t$post_content = '[[[{\"field_key\":\"user_login\",\"general_setting\":{\"label\":\"Username\",\"description\":\"\",\"field_name\":\"user_login\",\"placeholder\":\"\",\"required\":\"1\",\"hide_label\":\"false\"}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_tables() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\t$wpdb->hide_errors();\n\n\t\t$collate = '';\n\n\t\tif ( $wpdb->has_cap( 'collation' ) ) {\n\t\t\t$collate = $wpdb->get_charset_collate();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_tables() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\t\t$prefix = $wpdb->prefix;\n\t\tif (is_multisite()) {\n\t\t\t$prefix = $wpdb->base_prefix;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function drop_tables() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\t$tables = self::get_tables();\n\n\t\tforeach ( $tables as $table ) {\n\t\t\t$wpdb->query( \"DROP TABLE IF EXISTS {$table}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function wpmu_drop_tables( $tables ) {"}, {"role": "assistant", "content": "Function content: return array_merge( $tables, self::get_tables() );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_roles() {"}, {"role": "assistant", "content": "Function content: global $wp_roles;\n\n\t\tif ( ! class_exists( 'WP_Roles' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_core_capabilities() {"}, {"role": "assistant", "content": "Function content: $capabilities = array();\n\n\t\t$capabilities['core'] = array(\n\t\t\t'manage_user_registration',\n\t\t);\n\n\t\t$capability_types = array( 'user_registration' );\n\n\t\tforeach ( $capability_types as $capability_type ) {\n\n\t\t\t$capabilities[ $capability_type ] = array(\n\t\t\t\t// Post type.\n\t\t\t\t\"edit_{$capability_type}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function remove_roles() {"}, {"role": "assistant", "content": "Function content: global $wp_roles;\n\n\t\tif ( ! class_exists( 'WP_Roles' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function create_files() {"}, {"role": "assistant", "content": "Function content: // Bypass if filesystem is read-only and/or non-standard upload system is used.\n\t\tif ( apply_filters( 'user_registration_install_skip_create_files', false ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function in_plugin_update_message( $args ) {"}, {"role": "assistant", "content": "Function content: $transient_name = 'ur_upgrade_notice_' . $args['Version'];\n\t\t$upgrade_notice = get_transient( $transient_name );\n\n\t\tif ( false === $upgrade_notice ) {\n\t\t\t$response = wp_safe_remote_get( 'https://plugins.svn.wordpress.org/user-registration/trunk/readme.txt' );\n\n\t\t\tif ( ! is_wp_error( $response ) && ! empty( $response['body'] ) ) {\n\t\t\t\t$upgrade_notice = self::parse_update_notice( $response['body'], $args['new_version'] );\n\t\t\t\tset_transient( $transient_name, $upgrade_notice, DAY_IN_SECONDS );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function parse_update_notice( $content, $new_version ) {"}, {"role": "assistant", "content": "Function content: // Output Upgrade Notice.\n\t\t$matches        = null;\n\t\t$regexp         = '~==\\s*Upgrade Notice\\s*==\\s*=\\s*(.*)\\s*=(.*)(=\\s*' . preg_quote( UR_VERSION ) . '\\s*=|$)~Uis';\n\t\t$upgrade_notice = '';\n\n\t\tif ( preg_match( $regexp, $content, $matches ) ) {\n\t\t\t$version = trim( $matches[1] );\n\t\t\t$notices = (array) preg_split( '~[\\r\\n]+~', trim( $matches[2] ) );\n\n\t\t\t// Check the latest stable version and ignore trunk.\n\t\t\tif ( $version === $new_version && version_compare( UR_VERSION, $version, '<' ) ) {\n\n\t\t\t\t$upgrade_notice .= '<div class=\"ur_plugin_upgrade_notice\">';\n\n\t\t\t\tforeach ( $notices as $index => $line ) {\n\t\t\t\t\t$upgrade_notice .= wp_kses_post( preg_replace( '~\\[([^\\]]*)\\]\\(([^\\)]*)\\)~', '<a href=\"${2}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_valid_level( $level ) {"}, {"role": "assistant", "content": "Function content: return array_key_exists( strtolower( $level ), self::$level_to_severity );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_level_severity( $level ) {"}, {"role": "assistant", "content": "Function content: if ( self::is_valid_level( $level ) ) {\n\t\t\t$severity = self::$level_to_severity[ strtolower( $level ) ];\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_severity_level( $severity ) {"}, {"role": "assistant", "content": "Function content: if ( array_key_exists( $severity, self::$severity_to_level ) ) {\n\t\t\treturn self::$severity_to_level[ $severity ];\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct( $handlers = null, $threshold = null ) {"}, {"role": "assistant", "content": "Function content: if ( null === $handlers ) {\n\t\t\t/**\n\t\t\t * Filter to modify the log handlers.\n\t\t\t * Default value is empty array.\n\t\t\t */\n\t\t\t$handlers = apply_filters( 'user_registration_register_log_handlers', array() );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function should_handle( $level ) {"}, {"role": "assistant", "content": "Function content: if ( null === $this->threshold ) {\n\t\t\treturn true;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add( $handle, $message, $level = UR_Log_Levels::NOTICE ) {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter to modify the logger message.\n\t\t *\n\t\t * @param string $message Logger message.\n\t\t * @param string $handle Logger handler.\n\t\t */\n\t\t$message = apply_filters( 'user_registration_logger_add_message', $message, $handle );\n\t\t$this->log(\n\t\t\t$level,\n\t\t\t$message,\n\t\t\tarray(\n\t\t\t\t'source'  => $handle,\n\t\t\t\t'_legacy' => true,\n\t\t\t)\n\t\t);\n\n\t\treturn true;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function log( $level, $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: if ( ! UR_Log_Levels::is_valid_level( $level ) ) {\n\t\t\t/* translators: %s - Log Level */\n\t\t\tur_doing_it_wrong( __METHOD__, sprintf( __( 'UR_Logger::log was called with an invalid level \"%s\".', 'user-registration' ), $level ), '3.0' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function emergency( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::EMERGENCY, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function alert( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::ALERT, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function critical( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::CRITICAL, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function error( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::ERROR, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function warning( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::WARNING, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function notice( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::NOTICE, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function info( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::INFO, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function debug( $message, $context = array() ) {"}, {"role": "assistant", "content": "Function content: $this->log( UR_Log_Levels::DEBUG, $message, $context );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function clear( $handle ) {"}, {"role": "assistant", "content": "Function content: $handler = new UR_Log_Handler_File();\n\n\t\treturn $handler->clear( $handle );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: $this->init_updates( UR_PLUGIN_FILE );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init_updates( $_plugin_file ) {"}, {"role": "assistant", "content": "Function content: $this->plugin_file = $_plugin_file;\n\t\t$this->plugin_slug = str_replace( '.php', '', basename( $this->plugin_file ) );\n\t\t$this->plugin_name = basename( dirname( $this->plugin_file ) ) . '/' . $this->plugin_slug . '.php';\n\n\t\tregister_activation_hook( $this->plugin_name, array( $this, 'plugin_activation' ), 10 );\n\t\tregister_deactivation_hook( $this->plugin_name, array( $this, 'plugin_deactivation' ), 10 );\n\n\t\tadd_filter( 'block_local_requests', '__return_false' );\n\t\tadd_action( 'admin_init', array( $this, 'admin_init' ) );\n\n\t\t// Include required files.\n\t\tinclude_once __DIR__ . '/admin/updater/class-ur-plugin-updater-api.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function admin_init() {"}, {"role": "assistant", "content": "Function content: $this->load_errors();\n\n\t\tadd_action( 'shutdown', array( $this, 'store_errors' ) );\n\n\t\t$this->api_key     = get_option( $this->plugin_slug . '_license_key' );\n\t\t$this->plugin_data = get_plugin_data( $this->plugin_file );\n\n\t\t// Check if pro is activated to display license notices.\n\t\tif ( ( file_exists( WP_PLUGIN_DIR . '/user-registration-pro/user-registration.php' ) && is_plugin_active( 'user-registration-pro/user-registration.php' ) ) && current_user_can( 'update_plugins' ) ) {\n\n\t\t\t$this->plugin_requests();\n\t\t\tadd_action( 'in_admin_header', array( $this, 'user_registration_upgrade_to_pro_notice' ) );\n\t\t\t$this->plugin_license_view();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_requests() {"}, {"role": "assistant", "content": "Function content: if ( ! current_user_can( 'manage_options' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function activate_license_request() {"}, {"role": "assistant", "content": "Function content: $license_key = sanitize_text_field( $_POST[ $this->plugin_slug . '_license_key' ] ); // phpcs:ignore\n\n\t\tif ( $this->activate_license( $license_key ) ) {\n\t\t\t$this->install_extension();\n\t\t\twp_redirect( remove_query_arg( array( 'deactivated_license', $this->plugin_slug . '_deactivate_license' ), add_query_arg( 'activated_license', $this->plugin_slug ) ) );\n\t\t\texit;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function install_extension() {"}, {"role": "assistant", "content": "Function content: $status = ur_install_extensions( 'User Registration PRO', 'user-registration-pro' );\n\n\t\tif ( $status['success'] ) {\n\t\t\tadd_action( 'admin_notices', array( $this, 'user_registration_extension_download_success_notice' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function deactivate_license_request() {"}, {"role": "assistant", "content": "Function content: $this->deactivate_license();\n\t\twp_redirect( remove_query_arg( array( 'activated_license', $this->plugin_slug . '_deactivate_license' ), add_query_arg( 'deactivated_license', $this->plugin_slug ) ) );\n\t\texit;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_license_view() {"}, {"role": "assistant", "content": "Function content: if ( ! $this->api_key ) {\n\t\t\tadd_action( 'after_plugin_row', array( $this, 'plugin_license_form' ) );\n\t\t\t$this->add_notice( array( $this, 'key_notice' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_notice( $callback ) {"}, {"role": "assistant", "content": "Function content: add_action( 'admin_notices', $callback );\n\t\tadd_action( 'network_admin_notices', $callback );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_error( $message, $type = '' ) {"}, {"role": "assistant", "content": "Function content: if ( $type ) {\n\t\t\t$this->errors[ $type ] = $message;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function load_errors() {"}, {"role": "assistant", "content": "Function content: $this->errors = get_option( $this->plugin_slug . '_errors', array() );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function store_errors() {"}, {"role": "assistant", "content": "Function content: if ( count( $this->errors ) > 0 ) {\n\t\t\tupdate_option( $this->plugin_slug . '_errors', $this->errors );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function for error notices.\n\t *\n\t * @deprecated 2.0.6\n\t */\n\tpublic function error_notices() {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'UR_Admin_Profile::error_notices', '1.4.1', 'UR_Plugin_Updater::user_registration_error_notices' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_error_notices() {"}, {"role": "assistant", "content": "Function content: if ( ! empty( $this->errors ) ) {\n\t\t\tforeach ( $this->errors as $key => $error ) {\n\t\t\t\tinclude __DIR__ . '/admin/notifications/views/html-notice-error.php';\n\t\t\t\tif ( 'invalid_key' !== $key && did_action( 'all_admin_notices' ) ) {\n\t\t\t\t\tunset( $this->errors[ $key ] );\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_activation() {"}, {"role": "assistant", "content": "Function content: delete_option( $this->plugin_slug . '_hide_key_notice' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_deactivation() {"}, {"role": "assistant", "content": "Function content: delete_option( 'user_registration_activated' );\n\t\t$this->deactivate_license();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_license_form( $plugin_file ) {"}, {"role": "assistant", "content": "Function content: $slug = $this->plugin_slug;\n\n\t\tif ( is_plugin_active( 'user-registration-pro/user-registration.php' ) ) {\n\t\t\t$slug .= '-pro';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function plugin_action_links( $actions ) {"}, {"role": "assistant", "content": "Function content: $new_actions = array(\n\t\t\t'deactivate_license' => '<a href=\"' . wp_nonce_url( remove_query_arg( array( 'deactivated_license', 'activated_license' ), add_query_arg( $this->plugin_slug . '_deactivate_license', 1 ) ), '_ur_license_nonce' ) . '\" class=\"deactivate-license\" style=\"color: #a00;\" title=\"' . esc_attr( __( 'Deactivate License Key', 'user-registration' ) ) . '\">' . __( 'Deactivate License', 'user-registration' ) . '</a>',\n\t\t);\n\n\t\treturn array_merge( $actions, $new_actions );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function activate_license( $license_key ) {"}, {"role": "assistant", "content": "Function content: try {\n\n\t\t\tif ( empty( $license_key ) ) {\n\t\t\t\tthrow new Exception( 'Please enter your license key' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function deactivate_license() {"}, {"role": "assistant", "content": "Function content: if ( get_transient( 'user_registration_pro_activated' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function key_notice() {"}, {"role": "assistant", "content": "Function content: if ( count( $this->errors ) === 0 && ! get_option( $this->plugin_slug . '_hide_key_notice' ) ) {\n\t\t\tinclude __DIR__ . '/admin/notifications/views/html-notice-key-unvalidated.php';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function activated_key_notice() {"}, {"role": "assistant", "content": "Function content: include __DIR__ . '/admin/notifications/views/html-notice-key-activated.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function deactivated_key_notice() {"}, {"role": "assistant", "content": "Function content: include __DIR__ . '/admin/notifications/views/html-notice-key-deactivated.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_failed_extension_install() {"}, {"role": "assistant", "content": "Function content: $ur_pro_plugins_path = WP_PLUGIN_DIR . '/user-registration-pro/user-registration.php';\n\t\t$message             = get_option( 'user_registration_failed_installing_extensions_message', '' );\n\n\t\tif ( ! file_exists( $ur_pro_plugins_path ) ) {\n\t\t\t$message = $message . esc_html__( ' Please manually download <strong>User Registration PRO</strong>.', 'user-registration' );\n\n\t\t\techo '<div class=\"error updated notice is-dismissible\"><p>' . wp_kses_post( $message ) . '</p></div>';\n\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_upgrade_to_pro_notice() {"}, {"role": "assistant", "content": "Function content: // Donot show notice on form builder page.\n\t\tif ( isset( $_REQUEST['page'] ) && 'add-new-registration' === $_REQUEST['page'] ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_extension_download_success_notice() {"}, {"role": "assistant", "content": "Function content: $notice_html = __( 'User Registration Pro has been installed successfully.', 'user-registration' );\n\t\tinclude __DIR__ . '/admin/notifications/views/html-notice-key-activated.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: add_action( 'init', array( __CLASS__, 'register_post_types' ), 5 );\n\t\tadd_action( 'user_registration_after_register_post_type', array( __CLASS__, 'maybe_flush_rewrite_rules' ) );\n\t\tadd_action( 'user_registration_flush_rewrite_rules', array( __CLASS__, 'flush_rewrite_rules' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function register_post_types() {"}, {"role": "assistant", "content": "Function content: if ( ! is_blog_installed() || post_type_exists( 'user_registration' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function maybe_flush_rewrite_rules() {"}, {"role": "assistant", "content": "Function content: if ( ur_option_checked( 'user_registration_queue_flush_rewrite_rules' ) ) {\n\t\t\tupdate_option( 'user_registration_queue_flush_rewrite_rules', 'no' );\n\t\t\tself::flush_rewrite_rules();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function flush_rewrite_rules() {"}, {"role": "assistant", "content": "Function content: flush_rewrite_rules();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_action( 'init', array( $this, 'init' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: if ( is_user_logged_in() && ! is_admin() ) {\n\t\t\tif ( isset( $_GET['ur_preview'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\t\tadd_filter( 'edit_post_link', array( $this, 'edit_form_link' ) );\n\t\t\t\tadd_action( 'pre_get_posts', array( $this, 'pre_get_posts' ) );\n\t\t\t\tadd_filter( 'home_template_hierarchy', array( $this, 'template_include' ) );\n\t\t\t\tadd_filter( 'frontpage_template_hierarchy', array( $this, 'template_include' ) );\n\t\t\t\tadd_action( 'template_redirect', array( $this, 'handle_preview' ) );\n\t\t\t\tadd_filter( 'astra_remove_entry_header_content', '__return_true' ); // Need to remove in next version, If astra release the patches.\n\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function edit_form_link( $link ) {"}, {"role": "assistant", "content": "Function content: $form_id       = isset( $_GET['form_id'] ) ? absint( $_GET['form_id'] ) : 0; // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t$edit_form_url = add_query_arg(\n\t\t\tarray(\n\t\t\t\t'page'              => 'add-new-registration',\n\t\t\t\t'edit-registration' => $form_id,\n\t\t\t),\n\t\t\tadmin_url( 'admin.php' )\n\t\t);\n\n\t\t$link = '<a class=\"post-edit-link\" href=\"' . esc_url( $edit_form_url ) . '\">' . __( 'Edit Form', 'user-registration' ) . '</a>';\n\t\treturn $link;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function pre_get_posts( $q ) {"}, {"role": "assistant", "content": "Function content: // Limit one post to query.\n\t\tif ( $q->is_main_query() ) {\n\t\t\t$q->set( 'posts_per_page', 1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function template_include( $templates ) {"}, {"role": "assistant", "content": "Function content: return array( 'page.php', 'single.php', 'index.php' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function handle_preview() {"}, {"role": "assistant", "content": "Function content: if ( ! is_user_logged_in() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function form_preview_title( $title ) {"}, {"role": "assistant", "content": "Function content: $form_id   = isset( $_GET['form_id'] ) ? absint( $_GET['form_id'] ) : 0 ; // @codingStandardsIgnoreLine\n\n\t\tif ( $form_id && in_the_loop() ) {\n\t\t\t$form_data = UR()->form->get_form( $form_id );\n\n\t\t\tif ( ! empty( $form_data ) ) {\n\t\t\t\t/* translators: %s - Form name. */\n\t\t\t\treturn sprintf( esc_html__( '%s &ndash; Preview', 'user-registration' ), sanitize_text_field( $form_data->post_title ) );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function form_preview_content( $content ) {"}, {"role": "assistant", "content": "Function content: $form_id = isset( $_GET['form_id'] ) ? absint( $_GET['form_id'] ) : 0; // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\n\t\tremove_filter( 'the_content', array( $this, 'form_preview_content' ) );\n\t\tif ( function_exists( 'apply_shortcodes' ) ) {\n\t\t\t$content = apply_shortcodes( '[user_registration_form id=\"' . $form_id . '\"]' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function handle_login_preview() {"}, {"role": "assistant", "content": "Function content: if ( ! is_user_logged_in() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function login_form_preview_title( $title ) {"}, {"role": "assistant", "content": "Function content: if ( in_the_loop() ) {\n\t\t\t/* translators: %s - Form name. */\n\t\t\treturn sprintf( esc_html__( '%s &ndash; Preview', 'user-registration' ), sanitize_text_field( 'Login Form' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function login_form_preview_content( $content ) {"}, {"role": "assistant", "content": "Function content: remove_filter( 'the_content', array( $this, 'form_preview_content' ) );\n\n\t\twp_enqueue_script( 'ur-my-account' );\n\t\t$recaptcha_enabled = ur_option_checked( 'user_registration_login_options_enable_recaptcha', false );\n\t\t$recaptcha_node    = ur_get_recaptcha_node( 'login', $recaptcha_enabled );\n\n\t\tob_start();\n\t\techo '<div id=\"user-registration\">';\n\t\tur_get_template(\n\t\t\t'myaccount/form-login.php',\n\t\t\tarray(\n\t\t\t\t'recaptcha_node' => $recaptcha_node,\n\t\t\t\t'redirect'       => '',\n\t\t\t)\n\t\t);\n\t\techo '</div>';\n\t\treturn ob_get_clean();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function handle_email_preview() {"}, {"role": "assistant", "content": "Function content: if ( ! is_user_logged_in() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_action( 'admin_init', array( $this, 'add_privacy_message' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_privacy_message() {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'wp_add_privacy_policy_content' ) ) {\n\t\t\t$content = $this->get_privacy_message();\n\n\t\t\tif ( $content ) {\n\t\t\t\twp_add_privacy_policy_content( 'User Registration', $this->get_privacy_message() );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_privacy_message() {"}, {"role": "assistant", "content": "Function content: $content = '\n\t\t\t<div contenteditable=\"false\">' .\n\t\t\t\t'<p class=\"wp-policy-help\">' .\n\t\t\t\t\t__( 'This sample policy includes the basics around what personal data you may be collecting, storing and sharing, as well as who may have access to that data. Depending on what settings are enabled and which additional plugins are used, the specific information shared by your form will vary. We recommend consulting with a lawyer when deciding what information to disclose on your privacy policy.', 'user-registration' ) .\n\t\t\t\t'</p>' .\n\t\t\t'</div>' .\n\t\t\t'<p>' . __( 'We collect information about the user during the user registration form submission process on our site.', 'user-registration' ) . '</p>' .\n\t\t\t'<h2>' . __( 'What we collect and store', 'user-registration' ) . '</h2>' .\n\t\t\t'<p>' . __( 'While you visit our site, we\u2019ll track:', 'user-registration' ) . '</p>' .\n\t\t\t'<ul>' .\n\t\t\t\t'<li>' . __( 'Form Fields Data: Forms Fields data includes the available field types when creating a form. We\u2019ll use this to, for example, collect informations like Name, Email and other available fields.', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Location, IP address and browser type: we\u2019ll use this for purposes like geolocating users and reducing fraudulent activities.', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Transaction Details: we\u2019ll ask you to enter this so we can, for instance, provide subscription packs, and keep track of your payment details for subscription packs!', 'user-registration' ) . '</li>' .\n\t\t\t'</ul>' .\n\t\t\t'<p>' . __( 'When you fill up a form, we\u2019ll ask you to provide information including your name, address, email, phone number, payment details and optional account information like username and password and any other form fields available in the registration form. We\u2019ll use this information for purposes, such as, to:', 'user-registration' ) . '</p>' .\n\t\t\t'<ul>' .\n\t\t\t\t'<li>' . __( 'Send you information about your account and order', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Respond to your requests, including transaction details and complaints', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Process payments and prevent fraud', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Set up your account for our site', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Comply with any legal obligations we have, such as calculating taxes', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Improve our form offerings', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Send you marketing messages, if you choose to receive them', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Or any other service the built form was created to comply with and it\u2019s necessary information', 'user-registration' ) . '</li>' .\n\t\t\t'</ul>' .\n\t\t\t'<p>' . __( 'If you create an account, we will store your name, address, email and phone number, which will be used to populate the form fields for future submissions.', 'user-registration' ) . '</p>' .\n\t\t\t'<p>' . __( 'We generally store information about you for as long as we need the information for the purposes for which we collect and use it, and we are not legally required to continue to keep it. For example, we will store form submission information for XXX years for geolocating and marketting purposes. This includes your name, address, email, phone number.', 'user-registration' ) . '</p>' .\n\t\t\t'<h2>' . __( 'Who on our team has access', 'user-registration' ) . '</h2>' .\n\t\t\t'<p>' . __( 'Members of our team have access to the information you provide us. For example, both Administrators and Editors can access:', 'user-registration' ) . '</p>' .\n\t\t\t'<ul>' .\n\t\t\t\t'<li>' . __( 'Form submission information and other details related to it', 'user-registration' ) . '</li>' .\n\t\t\t\t'<li>' . __( 'Customer information like your name, email and address information.', 'user-registration' ) . '</li>' .\n\t\t\t'</ul>' .\n\t\t\t'<p>' . __( 'Our team members have access to this information to help fulfill entries and support you.', 'user-registration' ) . '</p>' .\n\t\t\t'<h2>' . __( 'What we share with others', 'user-registration' ) . '</h2>' .\n\t\t\t'<div contenteditable=\"false\">' .\n\t\t\t\t'<p class=\"wp-policy-help\">' . __( 'In this section you should list who you\u2019re sharing data with, and for what purpose. This could include, but may not be limited to, analytics, marketing, payment gateways, shipping providers, and third party embeds.', 'user-registration' ) . '</p>' .\n\t\t\t'</div>' .\n\t\t\t'<p>' . __( 'We share information with third parties who help us provide our orders and store services to you; for example --', 'user-registration' ) . '</p>' .\n\t\t\t'<h3>' . __( 'Payments', 'user-registration' ) . '</h3>' .\n\t\t\t'<div contenteditable=\"false\">' .\n\t\t\t\t'<p class=\"wp-policy-help\">' . __( 'In this subsection you should list which third party payment processors you\u2019re using to take payments on your site since these may handle customer data. We\u2019ve included PayPal as an example, but you should remove this if you\u2019re not using PayPal.', 'user-registration' ) . '</p>' .\n\t\t\t'</div>' .\n\t\t\t'<p>' . __( 'We accept payments through PayPal. When processing payments, some of your data will be passed to PayPal, including information required to process or support the payment, such as the purchase total and billing information.', 'user-registration' ) . '</p>' .\n\t\t\t'<p>' . __( 'Please see the <a href=\"https://www.paypal.com/us/webapps/mpp/ua/privacy-full\">PayPal Privacy Policy</a> for more details.', 'user-registration' ) . '</p>' .\n\t\t\t'<h3>' . __( 'Available Modules', 'user-registration' ) . '</h3>' .\n\t\t\t'<div contenteditable=\"false\">' .\n\t\t\t\t'<p class=\"wp-policy-help\">' . __( 'In this subsection you should list which third party modules you\u2019re using to increase functionality on your site since these may handle customer data. We\u2019ve included MailChimp as an example, but you should remove this if you\u2019re not using MailChimp.', 'user-registration' ) . '</p>' .\n\t\t\t'</div>' .\n\t\t\t'<p>' . __( 'We send beautiful email through MailChimp. When processing emails, some of your data will be passed to MailChimp, including information required to process or support the email marketing services, such as the name, email address and any other information that you intend to pass or collect including all collected information through subscription.', 'user-registration' ) . '</p>' .\n\t\t\t'<p>' . __( 'Please see the <a href=\"https://mailchimp.com/legal/privacy/\">MailChimp Privacy Policy</a> for more details.', 'user-registration' ) . '</p>';\n\t\t/**\n\t\t * Applies filter to modify the privacy policy content.\n\t\t *\n\t\t * @param string $content The privacy policy content.\n\t\t */\n\t\treturn apply_filters( 'user_registration_privacy_policy_content', $content );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_action( 'init', array( $this, 'add_endpoints' ) );\n\t\tif ( ! is_admin() ) {\n\t\t\tadd_action( 'wp_loaded', array( $this, 'get_errors' ), 20 );\n\t\t\tadd_filter( 'query_vars', array( $this, 'add_query_vars' ), 0 );\n\t\t\tadd_action( 'parse_request', array( $this, 'parse_request' ), 0 );\n\t\t\tadd_action( 'pre_get_posts', array( $this, 'pre_get_posts' ) );\n\t\t\tadd_action( 'wp', array( $this, 'remove_post_query' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_errors() {"}, {"role": "assistant", "content": "Function content: $error = ! empty( $_GET['ur_error'] ) ? sanitize_text_field( wp_unslash( $_GET['ur_error'] ) ) : ''; // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\n\t\tif ( $error && ! ur_has_notice( $error, 'error' ) ) {\n\t\t\tur_add_notice( $error, 'error' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init_query_vars() {"}, {"role": "assistant", "content": "Function content: // Query vars to add to WP.\n\t\t$this->query_vars = array(\n\t\t\t// My account actions.\n\t\t\t'edit-password'    => get_option( 'user_registration_myaccount_change_password_endpoint', 'edit-password' ),\n\t\t\t'edit-profile'     => get_option( 'user_registration_myaccount_edit_profile_endpoint', 'edit-profile' ),\n\t\t\t'ur-lost-password' => get_option( 'user_registration_myaccount_lost_password_endpoint', 'lost-password' ),\n\t\t\t'user-logout'      => get_option( 'user_registration_logout_endpoint', 'user-logout' ),\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_endpoint_title( $endpoint ) {"}, {"role": "assistant", "content": "Function content: switch ( $endpoint ) {\n\t\t\tcase 'edit-password':\n\t\t\t\t$title = __( 'Change Password', 'user-registration' );\n\t\t\t\tbreak;\n\t\t\tcase 'edit-profile':\n\t\t\t\t$title = __( 'Profile Details', 'user-registration' );\n\t\t\t\tbreak;\n\t\t\tcase 'ur-lost-password':\n\t\t\t\t$title = __( 'Lost password', 'user-registration' );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$title = '';\n\t\t\t\tbreak;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_endpoints_mask() {"}, {"role": "assistant", "content": "Function content: if ( 'page' === get_option( 'show_on_front' ) ) {\n\t\t\t$page_on_front     = get_option( 'page_on_front' );\n\t\t\t$myaccount_page_id = get_option( 'user_registration_myaccount_page_id' );\n\n\t\t\tif ( in_array( $page_on_front, array( $myaccount_page_id ), true ) ) {\n\t\t\t\treturn EP_ROOT | EP_PAGES;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_endpoints() {"}, {"role": "assistant", "content": "Function content: $mask = $this->get_endpoints_mask();\n\n\t\tforeach ( $this->get_query_vars() as $key => $var ) {\n\t\t\tif ( ! empty( $var ) ) {\n\t\t\t\tadd_rewrite_endpoint( $var, $mask );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_query_vars( $vars ) {"}, {"role": "assistant", "content": "Function content: foreach ( $this->get_query_vars() as $key => $var ) {\n\t\t\t$vars[] = $key;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_query_vars() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies filter to modify the query vars.\n\t\t *\n\t\t * @param array $this->query_vars List of query vars.\n\t\t */\n\t\treturn apply_filters( 'user_registration_get_query_vars', $this->query_vars );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_current_endpoint() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\tforeach ( $this->get_query_vars() as $key => $value ) {\n\t\t\tif ( isset( $wp->query_vars[ $key ] ) ) {\n\t\t\t\treturn $key;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function parse_request() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\t// Map query vars to their keys, or get them if endpoints are not supported.\n\t\tforeach ( $this->get_query_vars() as $key => $var ) {\n\t\t\tif ( isset( $_GET[ $var ] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\t\t$wp->query_vars[ $key ] = sanitize_text_field( wp_unslash( $_GET[ $var ] ) ); // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_showing_page_on_front( $q ) {"}, {"role": "assistant", "content": "Function content: return $q->is_home() && 'page' === get_option( 'show_on_front' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function page_on_front_is( $page_id ) {"}, {"role": "assistant", "content": "Function content: return absint( get_option( 'page_on_front' ) ) === absint( $page_id );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function pre_get_posts( $q ) {"}, {"role": "assistant", "content": "Function content: // We only want to affect the main query.\n\t\tif ( ! $q->is_main_query() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function remove_post_query() {"}, {"role": "assistant", "content": "Function content: remove_action( 'pre_get_posts', array( $this, 'pre_get_posts' ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\t\t/**\n\t\t * Applies a filter to customize the session cookie name for User Registration.\n\t\t *\n\t\t * The 'user_registration_cookie' filter allows developers to modify the default session cookie name\n\t\t * used by the User Registration class. By default, it appends 'wp_user_registration_session_' with COOKIEHASH.\n\t\t * Developers can use this filter to change the cookie name based on their specific requirements.\n\t\t *\n\t\t * @param string $default_cookie_name The default session cookie name.\n\t\t */\n\t\t$this->_cookie = apply_filters( 'user_registrtaion_cookie', 'wp_user_registration_session_' . COOKIEHASH );\n\t\t$prefix = $wpdb->prefix;\n\t\tif (is_multisite()) {\n\t\t\t$prefix = $wpdb->base_prefix;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_customer_session_cookie( $set ) {"}, {"role": "assistant", "content": "Function content: if ( $set ) {\n\t\t\t// Set/renew our cookie.\n\t\t\t$to_hash           = $this->_customer_id . '|' . $this->_session_expiration;\n\t\t\t$cookie_hash       = hash_hmac( 'md5', $to_hash, wp_hash( $to_hash ) );\n\t\t\t$cookie_value      = $this->_customer_id . '||' . $this->_session_expiration . '||' . $this->_session_expiring . '||' . $cookie_hash;\n\t\t\t$this->_has_cookie = true;\n\n\t\t\t// Set the cookie.\n\t\t\t/**\n\t\t\t * Applies a filter to determine whether to use a secure session cookie.\n\t\t\t *\n\t\t\t * The 'ur_session_use_secure_cookie' filter allows developers to customize the decision\n\t\t\t * on whether to use a secure cookie when setting/renewing the customer session cookie.\n\t\t\t * By default, it sets the cookie without using a secure connection. Developers can use\n\t\t\t * this filter to modify the behavior based on their security requirements or environment.\n\t\t\t *\n\t\t\t * @param bool $default_use_secure_cookie The default decision to use a secure cookie, initially set to false.\n\t\t\t */\n\t\t\tur_setcookie( $this->_cookie, $cookie_value, $this->_session_expiration, apply_filters( 'ur_session_use_secure_cookie', false ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function has_session() {"}, {"role": "assistant", "content": "Function content: return isset( $_COOKIE[ $this->_cookie ] ) || $this->_has_cookie || is_user_logged_in();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_session_expiration() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies a filter to customize the duration before User Registration session expiration.\n\t\t *\n\t\t * @param int $default_duration The default duration before session expiration in seconds.\n\t\t */\n\t\t$this->_session_expiring = time() + intval( apply_filters( 'ur_session_expiring', 60 * 60 * 47 ) ); // 47 Hours.\n\t\t/**\n\t\t * Applies a filter to customize the duration User Registration session expiration.\n\t\t *\n\t\t * @param int $default_duration The default duration session expiration in seconds.\n\t\t */\n\t\t$this->_session_expiration = time() + intval( apply_filters( 'ur_session_expiration', 60 * 60 * 48 ) ); // 48 Hours.\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function generate_customer_id() {"}, {"role": "assistant", "content": "Function content: if ( is_user_logged_in() ) {\n\n\t\t\treturn get_current_user_id();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_session_cookie() {"}, {"role": "assistant", "content": "Function content: if ( empty( $_COOKIE[ $this->_cookie ] ) || ! is_string( $_COOKIE[ $this->_cookie ] ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_session_data() {"}, {"role": "assistant", "content": "Function content: return $this->has_session() ? (array) $this->get_session( $this->_customer_id, array() ) : array();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_cache_prefix( $group = UR_SESSION_CACHE_GROUP ) {"}, {"role": "assistant", "content": "Function content: // Get cache key.\n\t\t$prefix = wp_cache_get( 'ur_' . $group . '_cache_prefix', $group );\n\n\t\tif ( false === $prefix ) {\n\t\t\t$prefix = 1;\n\t\t\twp_cache_set( 'ur_' . $group . '_cache_prefix', $prefix, $group );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function incr_cache_prefix( $group = UR_SESSION_CACHE_GROUP ) {"}, {"role": "assistant", "content": "Function content: wp_cache_incr( 'ur_' . $group . '_cache_prefix', 1, $group );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function save_data() {"}, {"role": "assistant", "content": "Function content: // Dirty if something changed - prevents saving nothing new.\n\t\tif ( $this->_dirty && $this->has_session() ) {\n\t\t\tglobal $wpdb;\n\n\t\t\t$wpdb->replace(\n\t\t\t\t$this->_table,\n\t\t\t\tarray(\n\t\t\t\t\t'session_key'    => $this->_customer_id,\n\t\t\t\t\t'session_value'  => maybe_serialize( $this->_data ),\n\t\t\t\t\t'session_expiry' => $this->_session_expiration,\n\t\t\t\t),\n\t\t\t\tarray(\n\t\t\t\t\t'%s',\n\t\t\t\t\t'%s',\n\t\t\t\t\t'%d',\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// Set cache.\n\t\t\twp_cache_set( $this->get_cache_prefix() . $this->_customer_id, $this->_data, UR_SESSION_CACHE_GROUP, $this->_session_expiration - time() );\n\n\t\t\t// Mark session clean after saving.\n\t\t\t$this->_dirty = false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function destroy_session() {"}, {"role": "assistant", "content": "Function content: // Clear cookie.\n\t\t/**\n\t\t * Applies a filter to determine whether to use a secure session cookie during User Registration session destruction.\n\t\t *\n\t\t * @param bool $default_use_secure_cookie The default decision to use a secure cookie, initially set to false.\n\t\t */\n\t\tur_setcookie( $this->_cookie, '', time() - YEAR_IN_SECONDS, apply_filters( 'ur_session_use_secure_cookie', false ) );\n\n\t\t$this->delete_session( $this->_customer_id );\n\n\t\t// Clear data.\n\t\t$this->_data        = array();\n\t\t$this->_dirty       = false;\n\t\t$this->_customer_id = $this->generate_customer_id();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function nonce_user_logged_out( $uid ) {"}, {"role": "assistant", "content": "Function content: return $this->has_session() && $this->_customer_id ? $this->_customer_id : $uid;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function cleanup_sessions() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\tif ( ! defined( 'WP_SETUP_CONFIG' ) && ! defined( 'WP_INSTALLING' ) ) {\n\n\t\t\t// Delete expired sessions.\n\t\t\t$wpdb->query( $wpdb->prepare( \"DELETE FROM `{$this->_table}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function get_session( $customer_id, $default = false ) {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\tif ( defined( 'WP_SETUP_CONFIG' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function delete_session( $customer_id ) {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\twp_cache_delete( $this->get_cache_prefix() . $customer_id, UR_SESSION_CACHE_GROUP );\n\n\t\t$wpdb->delete(\n\t\t\t$this->_table,\n\t\t\tarray(\n\t\t\t\t'session_key' => $customer_id,\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_session_timestamp( $customer_id, $timestamp ) {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t\t$wpdb->update(\n\t\t\t$this->_table,\n\t\t\tarray(\n\t\t\t\t'session_expiry' => $timestamp,\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'session_key' => $customer_id,\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'%d',\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: $shortcodes = array(\n\t\t\t'user_registration_form'          => __CLASS__ . '::form', // change it to user_registration_form.\n\t\t\t'user_registration_my_account'    => __CLASS__ . '::my_account',\n\t\t\t'user_registration_login'         => __CLASS__ . '::login',\n\t\t\t'user_registration_edit_profile'  => __CLASS__ . '::edit_profile',\n\t\t\t'user_registration_edit_password' => __CLASS__ . '::edit_password',\n\t\t);\n\t\tadd_filter( 'pre_do_shortcode_tag', array( UR_Shortcode_My_Account::class, 'pre_do_shortcode_tag' ), 10, 4 ); // phpcs:ignore\n\n\t\tforeach ( $shortcodes as $shortcode => $function ) {\n\t\t\t/**\n\t\t\t * Applies filters to customize User Registration shortcode tags.\n\t\t\t *\n\t\t\t * The \"{$shortcode}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function );\n\t\t}\n\t}\n\n\t/**\n\t * Shortcode Wrapper.\n\t *\n\t * @param string[] $function Callback function.\n\t * @param array    $atts (default: array()) Extra attributes.\n\t * @param array    $wrapper Shortcode wrapper.\n\t *\n\t * @return string\n\t */\n\tpublic static function shortcode_wrapper(\n\t\t$function,\n\t\t$atts = array(),\n\t\t$wrapper = array(\n\t\t\t'class'  => 'user-registration',\n\t\t\t'before' => null,\n\t\t\t'after'  => null,\n\t\t)\n\t) {"}, {"role": "assistant", "content": "Function content: ob_start();\n\t\tinclude_once UR_ABSPATH . 'includes/functions-ur-notice.php';\n\t\t$notices = ur_get_notices();\n\t\tur_print_notices();\n\t\t$wrap_before = empty( $wrapper['before'] ) ? '<div id=\"user-registration\" class=\"' . esc_attr( $wrapper['class'] ) . '\">' : $wrapper['before'];\n\t\techo wp_kses_post( $wrap_before );\n\t\tcall_user_func( $function, $atts );\n\t\t$wrap_after = empty( $wrapper['after'] ) ? '</div>' : $wrapper['after'];\n\t\techo wp_kses_post( $wrap_after );\n\n\t\treturn ob_get_clean();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function my_account( $atts ) {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Enqueues scripts and applies filters for User Registration 'my_account' shortcode.\n\t\t *\n\t\t * The 'user_registration_my_account_enqueue_scripts' action allows developers to enqueue scripts\n\t\t * before rendering the 'my_account' shortcode. The 'user_registration_my_account_shortcode' filter\n\t\t * lets developers customize shortcode attributes like class, before, and after.\n\t\t */\n\t\tdo_action( 'user_registration_my_account_enqueue_scripts', array(), 0 );\n\t\twp_enqueue_script( 'ur-login' );\n\n\t\treturn self::shortcode_wrapper(\n\t\t\tarray( 'UR_Shortcode_My_Account', 'output' ),\n\t\t\t$atts,\n\t\t\t/**\n\t\t\t * Applies a filter to customize attributes for the User Registration 'my_account' shortcode.\n\t\t\t *\n\t\t\t * The 'user_registration_my_account_shortcode' filter allows developers to modify\n\t\t\t * shortcode attributes like class, before, and after before rendering the 'my_account' shortcode.\n\t\t\t *\n\t\t\t * @param array $default_attributes Default attributes for the 'my_account' shortcode.\n\t\t\t */\n\t\t\tapply_filters(\n\t\t\t\t'user_registration_my_account_shortcode',\n\t\t\t\tarray(\n\t\t\t\t\t'class'  => 'user-registration',\n\t\t\t\t\t'before' => null,\n\t\t\t\t\t'after'  => null,\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function login( $atts ) {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Enqueues scripts and applies filters for User Registration 'login' shortcode.\n\t\t *\n\t\t * The 'user_registration_my_account_enqueue_scripts' action allows developers to enqueue scripts\n\t\t * before rendering the 'login' shortcode. The 'user_registration_login_shortcode' filter\n\t\t * lets developers customize shortcode attributes like class, before, and after.\n\t\t */\n\t\tdo_action( 'user_registration_my_account_enqueue_scripts', array(), 0 );\n\t\twp_enqueue_script( 'ur-login' );\n\n\t\treturn self::shortcode_wrapper(\n\t\t\tarray( 'UR_Shortcode_Login', 'output' ),\n\t\t\t$atts,\n\t\t\t/**\n\t\t\t * Applies a filter to customize attributes for the User Registration 'login' shortcode.\n\t\t\t *\n\t\t\t * The 'user_registration_login_shortcode' filter allows developers to modify\n\t\t\t * shortcode attributes like class, before, and after before rendering the 'login' shortcode.\n\t\t\t *\n\t\t\t * @param array $default_attributes Default attributes for the 'login' shortcode.\n\t\t\t */\n\t\t\tapply_filters(\n\t\t\t\t'user_registration_login_shortcode',\n\t\t\t\tarray(\n\t\t\t\t\t'class'  => 'user-registration',\n\t\t\t\t\t'before' => null,\n\t\t\t\t\t'after'  => null,\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function edit_password( $atts ) {"}, {"role": "assistant", "content": "Function content: return self::shortcode_wrapper( array( __CLASS__, 'render_edit_password' ), $atts );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function render_edit_password() {"}, {"role": "assistant", "content": "Function content: if ( is_user_logged_in() ) {\n\t\t\tinclude_once 'shortcodes/class-ur-shortcode-my-account.php';\n\t\t\tUR_Shortcode_My_Account::edit_password();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function edit_profile( $atts ) {"}, {"role": "assistant", "content": "Function content: return self::shortcode_wrapper( array( __CLASS__, 'render_edit_profile' ), $atts );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function render_edit_profile() {"}, {"role": "assistant", "content": "Function content: $user_id = get_current_user_id();\n\t\t\t$form_id = get_user_meta( $user_id, 'ur_form_id', true );\n\t\t\t/**\n\t\t\t * Enqueues scripts for customizing 'my_account' shortcode rendering.\n\t\t\t *\n\t\t\t * The 'user_registration_my_account_enqueue_scripts' action allows developers\n\t\t\t * to enqueue custom scripts before rendering the 'my_account' shortcode.\n\t\t\t *\n\t\t\t * @param array $empty_array Empty array passed for customization.\n\t\t\t * @param int   $form_id      ID of the associated registration form.\n\t\t\t */\n\t\t\tdo_action( 'user_registration_my_account_enqueue_scripts', array(), $form_id );\n\t\t\t$has_flatpickr = ur_has_flatpickr_field( $form_id );\n\n\t\tif ( true === $has_flatpickr ) {\n\t\t\twp_enqueue_style( 'flatpickr' );\n\t\t\twp_enqueue_script( 'flatpickr' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function form( $atts ) {"}, {"role": "assistant", "content": "Function content: if ( empty( $atts ) || ! isset( $atts['id'] ) ) {\n\t\t\treturn '';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function render_form( $form_id ) {"}, {"role": "assistant", "content": "Function content: $form_data_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\t\t$form_json_data  = wp_json_encode( $form_data_array );\n\n\t\t$values = array(\n\t\t\t'form_id' => $form_id,\n\t\t);\n\t\t/**\n\t\t * Applies a filter to process smart tags in the User Registration content.\n\t\t *\n\t\t * @param string $default_content Default content before processing smart tags.\n\t\t * @param mixed  $form_json_data   Form JSON data.\n\t\t * @param array  $values           User input values.\n\t\t */\n\t\t$content         = apply_filters( 'user_registration_process_smart_tags', $form_json_data, $values, array() );\n\t\t$form_data_array = json_decode( $content );\n\t\t$form_row_ids    = '';\n\n\t\tif ( ! empty( $form_data_array ) ) {\n\t\t\t$form_row_ids  = get_post_meta( $form_id, 'user_registration_form_row_ids', true );\n\t\t\t$form_row_data = get_post_meta( $form_id, 'user_registration_form_row_data', true );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_is_valid_redirect_url( $redirect_url ) {"}, {"role": "assistant", "content": "Function content: if ( filter_var( $redirect_url, FILTER_VALIDATE_URL ) === false ) {\n\t\t\t$all_page_slug = ur_get_all_page_slugs();\n\t\t\tif ( in_array( $redirect_url, $all_page_slug, true ) ) {\n\t\t\t\t$redirect_url = site_url( $redirect_url );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: add_filter( 'user_registration_process_smart_tags', array( $this, 'process' ), 10, 3 );\n\t\tadd_filter( 'ur_smart_tags_list_in_general', array( $this, 'select_smart_tags_in_general' ), 10, 1 );\n\t\tadd_filter( 'ur_pattern_validation_list_in_advanced_settings', array( $this, 'select_pattern_validation' ), 10, 1 );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function smart_tags_list() {"}, {"role": "assistant", "content": "Function content: $smart_tags = array_merge( self::ur_unauthenticated_parsable_smart_tags_list(), self::ur_authenticated_parsable_smart_tags_list() );\n\t\t/**\n\t\t * The 'user_registration_smart_tags' filter allows developers to modify the list\n\t\t * of smart tags available in User Registration for customization.\n\t\t *\n\t\t * @param array  $smart_tags List of smart tags before applying the filter.\n\t\t */\n\t\treturn apply_filters( 'user_registration_smart_tags', $smart_tags );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_authenticated_parsable_smart_tags_list() {"}, {"role": "assistant", "content": "Function content: $smart_tags = array(\n\t\t\t'{{user_id}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_unauthenticated_parsable_smart_tags_list() {"}, {"role": "assistant", "content": "Function content: $smart_tags = array(\n\t\t\t'{{blog_info}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function process( $content = '', $values = array(), $name_value = array() ) {"}, {"role": "assistant", "content": "Function content: if ( ! empty( $values['email'] ) ) {\n\t\t\t$process_type   = isset( $values['process_type'] ) && 'ur_parse_after_meta_update' === $values['process_type'] ? true : false;\n\t\t\t$default_values = array();\n\t\t\t/**\n\t\t\t * Applies a filter to add or modify smart tags for User Registration.\n\t\t\t *\n\t\t\t * The 'user_registration_add_smart_tags' filter allows developers to customize\n\t\t\t * the default values by adding or modifying smart tags based on the provided email.\n\t\t\t *\n\t\t\t * @param array  $default_values Default values before adding or modifying smart tags.\n\t\t\t * @param string $email          Email address associated with the values.\n\t\t\t */\n\t\t\t$default_values = apply_filters( 'user_registration_add_smart_tags', $default_values, $values['email'] );\n\n\t\t\t$values    = wp_parse_args( $values, $default_values );\n\t\t\t$user_data = UR_Emailer::user_data_smart_tags( $values['email'] );\n\t\t\tif ( is_array( $name_value ) && ! empty( $name_value ) ) {\n\t\t\t\t$user_data = array_merge( $user_data, $name_value );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ( &$value, $key ) {"}, {"role": "assistant", "content": "Function content: if ( 'user_pass' === $key ) {\n\t\t\t\t\t\t$value = esc_html__( 'Chosen Password', 'user-registration' );\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ( &$value ) {"}, {"role": "assistant", "content": "Function content: $value = '{{' . trim( $value, '{}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function select_smart_tags_in_general( $smart_tags ) {"}, {"role": "assistant", "content": "Function content: $smart_tags_list = self::ur_unauthenticated_parsable_smart_tags_list();\n\n\t\t$selector  = '<a id=\"ur-smart-tags-selector\">';\n\t\t$selector .= '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n\t\t<path d=\"M10 3.33203L14.2 7.53203C14.3492 7.68068 14.4675 7.85731 14.5483 8.05179C14.629 8.24627 14.6706 8.45478 14.6706 8.66536C14.6706 8.87595 14.629 9.08446 14.5483 9.27894C14.4675 9.47342 14.3492 9.65005 14.2 9.7987L11.3333 12.6654\" stroke=\"#6B6B6B\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t<path d=\"M6.39132 3.7227C6.14133 3.47263 5.80224 3.33211 5.44865 3.33203H2.00065C1.82384 3.33203 1.65427 3.40227 1.52925 3.52729C1.40422 3.65232 1.33398 3.82189 1.33398 3.9987V7.4467C1.33406 7.80029 1.47459 8.13938 1.72465 8.38937L5.52732 12.192C5.83033 12.4931 6.24015 12.6621 6.66732 12.6621C7.09449 12.6621 7.50431 12.4931 7.80732 12.192L10.194 9.80537C10.4951 9.50236 10.6641 9.09253 10.6641 8.66537C10.6641 8.2382 10.4951 7.82837 10.194 7.52537L6.39132 3.7227Z\" stroke=\"#6B6B6B\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t<path d=\"M4.33333 6.66667C4.51743 6.66667 4.66667 6.51743 4.66667 6.33333C4.66667 6.14924 4.51743 6 4.33333 6C4.14924 6 4 6.14924 4 6.33333C4 6.51743 4.14924 6.66667 4.33333 6.66667Z\" fill=\"#6B6B6B\" stroke=\"#6B6B6B\" stroke-width=\"1.33333\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\t\t</svg>';\n\t\t$selector .= esc_html__( 'Add Smart Tags', 'user-registration' );\n\t\t$selector .= '</a>';\n\t\t$selector .= '<select id=\"select-smart-tags\" style=\"display: none;\">';\n\t\t$selector .= '<option></option>';\n\n\t\tforeach ( $smart_tags_list as $key => $value ) {\n\t\t\t$selector .= '<option class=\"ur-select-smart-tag\" value=\"' . esc_attr( $key ) . '\"> ' . esc_html( $value ) . '</option>';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_pattern_validation_lists() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Applies a filter to customize the pattern validation lists.\n\t\t *\n\t\t * The 'user_registration_pattern_validation_lists' filter allows developers to modify\n\t\t * the pattern validation lists used for field validation in User Registration.\n\t\t *\n\t\t * @param array $pattern_lists Default pattern validation lists.\n\t\t */\n\t\t$pattern_lists = apply_filters(\n\t\t\t'user_registration_pattern_validation_lists',\n\t\t\tarray(\n\t\t\t\t'^[a-zA-Z]+$'                             => __( 'Alpha', 'user-registration' ),\n\t\t\t\t'^[a-zA-Z0-9]+$'                          => __( 'Alphanumeric', 'user-registration' ),\n\t\t\t\t'^#?([a-fA-F0-9]{6}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function select_pattern_validation( $pattern_lists ) {"}, {"role": "assistant", "content": "Function content: $pattern_validation_list = self::ur_pattern_validation_lists();\n\t\t$pattern_lists          .= '<a href=\"#\" class=\"button ur-smart-tags-list-button\"><span class=\"dashicons dashicons-editor-code\"></span></a>';\n\t\t$pattern_lists          .= '<div class=\"ur-smart-tags-list\" style=\"display: none\">';\n\t\t$pattern_lists          .= '<div class=\"smart-tag-title ur-smart-tag-title\">Regular Expression</div><ul class=\"ur-smart-tags\">';\n\t\tforeach ( $pattern_validation_list as $key => $value ) {\n\t\t\t$pattern_lists .= '<li class=\"ur-select-smart-tag\" data-key = \"' . esc_attr( $key ) . '\">' . esc_html( $value ) . '</li>';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function __construct() {"}, {"role": "assistant", "content": "Function content: // -------------------- ACTIONS & FILTERS --------------------\n\t\t// Additional checks\n\t\tadd_action( 'after_setup_theme', array( $this, 'check_status_on_page' ) );\n\n\t\t// Handle user Sign in.\n\t\tadd_action( 'user_registration_after_register_user_action', array( $this, 'set_user_status' ), 10, 3 );\n\t\tadd_action( 'user_register', array( $this, 'send_request_notification_to_admin' ), 10, 1 );\n\t\tadd_filter( 'wp_login_errors', array( $this, 'registration_completed_message' ) );\n\n\t\t// Handle user Sign on.\n\t\tadd_action( 'wp_login', array( $this, 'track_first_login' ), 10, 2 );\n\t\tadd_filter( 'wp_authenticate_user', array( $this, 'check_status_on_login' ), 10, 2 );\n\n\t\t// Handle Lost Password Page.\n\t\tadd_filter( 'allow_password_reset', array( $this, 'allow_password_reset' ), 10, 2 );\n\n\t\t// When the approval status of an user change.\n\t\tadd_action(\n\t\t\t'ur_user_status_updated',\n\t\t\tarray(\n\t\t\t\t$this,\n\t\t\t\t'send_notification_to_user_about_status_changing',\n\t\t\t),\n\t\t\t10,\n\t\t\t3\n\t\t);\n\t\tadd_action( 'ur_user_user_denied', array( $this, 'disconnect_user_session' ) );\n\t\t/**\n\t\t * Executes an action when constructing a user.\n\t\t *\n\t\t * The 'ur_user_construct' action is triggered during the construction of a user.\n\t\t */\n\t\tdo_action( 'ur_user_construct' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function registration_completed_message( $errors ) {"}, {"role": "assistant", "content": "Function content: if ( ! ( isset( $_GET['checkemail'] ) && 'registered' === $_GET['checkemail'] ) ) { // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t\t\treturn $errors;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function track_first_login( $user_login, $user ) {"}, {"role": "assistant", "content": "Function content: $form_id = ur_get_form_id_by_userid( $user->ID );\n\n\t\tif ( 'admin_approval' === ur_get_user_login_option( $user->ID ) ) {\n\t\t\t$user_manager = new UR_Admin_User_Manager( $user );\n\t\t\t$user_manager->save_first_access_flag();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_notification_to_user_about_status_changing( $status, $user_id, $alert_user ) {"}, {"role": "assistant", "content": "Function content: $form_id = ur_get_form_id_by_userid( $user_id );\n\n\t\tif ( ! $alert_user && 'admin_approval' !== ur_get_user_login_option( $user_id ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function send_request_notification_to_admin( $user_id ) {"}, {"role": "assistant", "content": "Function content: // If the user is created by admin or if the admin alert is disabled, doesn't send the email to the admin.\n\t\tif ( $this->is_admin_creation_process() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function set_user_status( $form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: if ( 'admin_approval' === ur_get_user_login_option( $user_id ) ) {\n\n\t\t\t$status = UR_Admin_User_Manager::PENDING;\n\t\t\t// If the user is created by admin in the backend, than automatically approve him.\n\t\t\tif ( $this->is_admin_creation_process() ) {\n\t\t\t\t$status = UR_Admin_User_Manager::APPROVED;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_status_on_login( $user, $password ) {"}, {"role": "assistant", "content": "Function content: if ( ! $user instanceof WP_User ) {\n\t\t\treturn $user;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_user_membership( $user ) {"}, {"role": "assistant", "content": "Function content: $is_membership_active = is_plugin_active( 'user-registration-membership/user-registration-membership.php' );\n\t\tif ( $is_membership_active ) {\n\t\t\t$members_repository = new \\WPEverest\\URMembership\\Admin\\Repositories\\MembersRepository();\n\t\t\t$membership         = $members_repository->get_member_membership_by_id( $user->ID );\n\t\t\tif ( empty( $membership ) ) {\n\t\t\t\treturn $user;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_status_on_page() {"}, {"role": "assistant", "content": "Function content: if ( ! is_user_logged_in() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_admin_creation_process() {"}, {"role": "assistant", "content": "Function content: return ( isset( $_REQUEST['action'] ) && 'createuser' == $_REQUEST['action'] ); // phpcs:ignore WordPress.Security.NonceVerification.Recommended\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function disconnect_user_session( $user_id ) {"}, {"role": "assistant", "content": "Function content: if ( 'admin_approval' === ur_get_user_login_option( $user_id ) ) {\n\t\t\t// get all sessions for user with ID $user_id.\n\t\t\t$sessions = WP_Session_Tokens::get_instance( $user_id );\n\n\t\t\t// we have got the sessions, destroy them all!\n\t\t\t$sessions->destroy_all();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function allow_password_reset( $result, $user_id ) {"}, {"role": "assistant", "content": "Function content: $user_manager = new UR_Admin_User_Manager( $user_id );\n\n\t\tif ( ! $user_manager->is_approved() ) {\n\t\t\t$error_message = __( 'Your account is still pending approval. Reset Password is not allowed.', 'user-registration' );\n\t\t\t$result        = new WP_Error( 'user_not_approved', $error_message );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function hide_not_approved_users_in_frontend( $query ) {"}, {"role": "assistant", "content": "Function content: // If this is not a frontend page, then do nothing.\n\t\tif ( is_admin() ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_show_current_user_attachments( $query ) {"}, {"role": "assistant", "content": "Function content: $user_id = get_current_user_id();\n\n\tif ( $user_id && ! current_user_can( 'edit_others_posts' ) ) {\n\t\t$query['author'] = $user_id;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_login_error_message( $error ) {"}, {"role": "assistant", "content": "Function content: // Don't change login error messages on admin site .\n\tif ( isset( $_POST['redirect_to'] ) && false !== strpos( wp_unslash( $_POST['redirect_to'] ), network_admin_url() ) ) {  // phpcs:ignore WordPress.Security.NonceVerification, WordPress.Security.ValidatedSanitizedInput.InputNotSanitized\n\t\treturn $error;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_lostpassword_url( $default_url = '' ) {"}, {"role": "assistant", "content": "Function content: // Don't redirect to the user registration endpoint on global network admin lost passwords.\n\tif ( is_multisite() && isset( $_GET['redirect_to'] ) && false !== strpos( wp_unslash( $_GET['redirect_to'] ), network_admin_url() ) ) { // phpcs:ignore WordPress.Security.NonceVerification, WordPress.Security.ValidatedSanitizedInput.InputNotSanitized\n\t\treturn $default_url;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_account_menu_items() {"}, {"role": "assistant", "content": "Function content: $endpoints = array(\n\t\t'edit-profile'  => get_option( 'user_registration_myaccount_edit_profile_endpoint', 'edit-profile' ),\n\t\t'edit-password' => get_option( 'user_registration_myaccount_change_password_endpoint', 'edit-password' ),\n\t\t'user-logout'   => get_option( 'user_registration_logout_endpoint', 'user-logout' ),\n\t);\n\n\t$items = array(\n\t\t'dashboard'     => __( 'Dashboard', 'user-registration' ),\n\t\t'edit-profile'  => __( 'Profile Details', 'user-registration' ),\n\t\t'edit-password' => __( 'Change Password', 'user-registration' ),\n\t\t'user-logout'   => __( 'Logout', 'user-registration' ),\n\t);\n\n\t$user_id = get_current_user_id();\n\t$form_id = ur_get_form_id_by_userid( $user_id );\n\n\t$profile = user_registration_form_data( $user_id, $form_id );\n\n\tif ( count( $profile ) < 1 ) {\n\t\tunset( $items['edit-profile'] );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_account_menu_item_classes( $endpoint ) {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t$classes = array(\n\t\t'user-registration-MyAccount-navigation-link',\n\t\t'user-registration-MyAccount-navigation-link--' . $endpoint,\n\t);\n\n\t// Set current item class.\n\t$current = isset( $wp->query_vars[ $endpoint ] );\n\tif ( 'dashboard' === $endpoint && ( isset( $wp->query_vars['page'] ) || empty( $wp->query_vars ) ) ) {\n\t\t$current = true; // Dashboard is not an endpoint, so needs a custom check.\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_account_endpoint_url( $endpoint ) {"}, {"role": "assistant", "content": "Function content: if ( 'dashboard' === $endpoint ) {\n\t\treturn ur_get_page_permalink( 'myaccount' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function to override get_gavatar function.\n *\n * @param [type] $avatar Avatar of user.\n * @param [type] $id_or_email ID or email of user.\n * @param [type] $size Size of avatar.\n * @param [type] $default Default avatar.\n * @param [type] $alt Alt.\n * @param array  $args Args.\n */\nfunction ur_replace_gravatar_image( $avatar, $id_or_email, $size, $default, $alt, $args = array() ) {"}, {"role": "assistant", "content": "Function content: global $wp_filter;\n\n\tremove_all_filters( 'get_avatar' );\n\n\tadd_filter( 'get_avatar', 'ur_replace_gravatar_image', 100, 6 );\n\n\t// Process the user identifier.\n\t$user = false;\n\tif ( is_numeric( $id_or_email ) ) {\n\t\t$user = get_user_by( 'id', absint( $id_or_email ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_login_option( $user_id = 0 ) {"}, {"role": "assistant", "content": "Function content: $user_id = (int) $user_id;\n\n\t\tif ( 1 > $user_id ) {\n\t\t\treturn '';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_maybe_define_constant( $name, $value ) {"}, {"role": "assistant", "content": "Function content: if ( ! defined( $name ) ) {\n\t\tdefine( $name, $value );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_ur_endpoint_url( $endpoint = false ) {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\t$ur_endpoints = UR()->query->get_query_vars();\n\n\t\tif ( false !== $endpoint ) {\n\t\t\tif ( ! isset( $ur_endpoints[ $endpoint ] ) ) {\n\t\t\t\treturn false;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_ur_account_page() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter hook to modify the result of determining if the current page is an\n\t\t * account page in user registration.\n\t\t *\n\t\t * @param bool $is_account_page The result of determining if the current page is\n\t\t * a user registration account page. Default is false.\n\t\t */\n\t\treturn is_page( ur_get_page_id( 'myaccount' ) ) || ur_post_content_has_shortcode( 'user_registration_my_account' ) || apply_filters( 'user_registration_is_account_page', false );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_ur_login_page() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter hook to modify the result of determining if the current page is an\n\t\t * login page in user registration.\n\t\t *\n\t\t * @param bool $is_login_page The result of determining if the current page is\n\t\t * a user registration login page. Default is false.\n\t\t */\n\t\treturn is_page( ur_get_page_id( 'login' ) ) || ur_post_content_has_shortcode( 'user_registration_login' ) || apply_filters( 'user_registration_is_login_page', false );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_ur_edit_account_page() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\treturn ( is_ur_account_page() && isset( $wp->query_vars['edit-password'] ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_ur_lost_password_page() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\treturn ( is_ur_account_page() && isset( $wp->query_vars['ur-lost-password'] ) );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_clean( $var ) {"}, {"role": "assistant", "content": "Function content: if ( is_array( $var ) ) {\n\t\treturn array_map( 'ur_clean', $var );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_sanitize_tooltip( $var ) {"}, {"role": "assistant", "content": "Function content: return htmlspecialchars(\n\t\twp_kses(\n\t\t\thtml_entity_decode( $var ),\n\t\t\tarray(\n\t\t\t\t'br'     => array(),\n\t\t\t\t'em'     => array(),\n\t\t\t\t'strong' => array(),\n\t\t\t\t'small'  => array(),\n\t\t\t\t'span'   => array(),\n\t\t\t\t'ul'     => array(),\n\t\t\t\t'li'     => array(),\n\t\t\t\t'ol'     => array(),\n\t\t\t\t'p'      => array(),\n\t\t\t)\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_sanitize_dimension_unit( $dimensions = array(), $unit = 'px' ) {"}, {"role": "assistant", "content": "Function content: return ur_array_to_string( ur_suffix_array( $dimensions, $unit ) );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_suffix_array( $array = array(), $suffix = '' ) {"}, {"role": "assistant", "content": "Function content: return preg_filter( '/$/', $suffix, $array );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_array_to_string( $array = array(), $glue = ' ' ) {"}, {"role": "assistant", "content": "Function content: return is_string( $array ) ? $array : implode( $glue, array_filter( $array ) );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_string_to_array( $string, $delimiter = ',' ) {"}, {"role": "assistant", "content": "Function content: return is_array( $string ) ? $string : array_filter( explode( $delimiter, $string ) );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_string_to_bool( $string ) {"}, {"role": "assistant", "content": "Function content: return is_bool( $string ) ? $string : ( ( 'yes' === $string || 'on' === $string || 1 === $string || 'true' === $string || '1' === $string || 'today' === $string || 'range' === $string ) ? true : ( null === $string ? '0' : false ) );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_bool_to_string( $bool ) {"}, {"role": "assistant", "content": "Function content: if ( ! is_bool( $bool ) ) {\n\t\t$bool = ur_string_to_bool( $bool );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_template( $template_name, $args = array(), $template_path = '', $default_path = '' ) {"}, {"role": "assistant", "content": "Function content: if ( ! empty( $args ) && is_array( $args ) ) {\n\t\textract( $args ); // phpcs:ignore.\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_locate_template( $template_name, $template_path = '', $default_path = '' ) {"}, {"role": "assistant", "content": "Function content: if ( ! $template_path ) {\n\t\t$template_path = UR()->template_path();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_help_tip( $tip, $allow_html = false, $classname = 'user-registration-help-tip' ) {"}, {"role": "assistant", "content": "Function content: if ( $allow_html ) {\n\t\t$tip = ur_sanitize_tooltip( $tip );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_post_content_has_shortcode( $tag = '' ) {"}, {"role": "assistant", "content": "Function content: global $post;\n\t$new_shortcode = '';\n\t$wp_version    = '5.0';\n\tif ( version_compare( $GLOBALS['wp_version'], $wp_version, '>=' ) ) {\n\t\tif ( is_object( $post ) ) {\n\t\t\t$blocks = parse_blocks( $post->post_content );\n\t\t\tforeach ( $blocks as $block ) {\n\n\t\t\t\tif ( ( 'core/shortcode' === $block['blockName'] || 'core/paragraph' === $block['blockName'] ) && isset( $block['innerHTML'] ) ) {\n\t\t\t\t\t$new_shortcode = ( 'core/shortcode' === $block['blockName'] ) ? $block['innerHTML'] : wp_strip_all_tags( $block['innerHTML'] );\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function Callback function name.\n * @param  string $message Message to display.\n * @param  string $version Version of the plugin.\n */\nfunction ur_doing_it_wrong( $function, $message, $version ) {"}, {"role": "assistant", "content": "Function content: $message .= ' Backtrace: ' . wp_debug_backtrace_summary();\n\n\tif ( defined( 'DOING_AJAX' ) ) {\n\t\t/**\n\t\t * The 'doing_it_wrong_run' action is triggered when the function is called incorrectly.\n\t\t *\n\t\t * @param string $function The function that was called incorrectly.\n\t\t * @param string $message Error message providing details about the incorrect usage.\n\t\t * @param string $version The version when the incorrect usage was introduced.\n\t\t */\n\t\tdo_action( 'doing_it_wrong_run', $function, $message, $version );\n\t\terror_log( \"{$function}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ), esc_html( $message ), esc_html( $version ) );\n\t}\n}\n\n/**\n * Set a cookie - wrapper for setcookie using WP constants.\n *\n * @param  string  $name   Name of the cookie being set.\n * @param  string  $value  Value of the cookie.\n * @param  integer $expire Expiry of the cookie.\n * @param  string  $secure Whether the cookie should be served only over https.\n */\nfunction ur_setcookie( $name, $value, $expire = 0, $secure = false ) {"}, {"role": "assistant", "content": "Function content: if ( ! headers_sent() ) {\n\t\tsetcookie( $name, $value, $expire, COOKIEPATH ? COOKIEPATH : '/', COOKIE_DOMAIN, $secure );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_enable_ur_plugin_headers( $headers ) {"}, {"role": "assistant", "content": "Function content: if ( ! class_exists( 'UR_Plugin_Updates', false ) ) {\n\t\tinclude_once __DIR__ . '/admin/updater/class-ur-plugin-updates.php';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_field_type( $field_key ) {"}, {"role": "assistant", "content": "Function content: $fields = ur_get_registered_form_fields();\n\tif ( function_exists( 'ur_pro_is_coupons_addon_activated' ) ) {\n\t\tif ( ur_pro_is_coupons_addon_activated() ) {\n\t\t\t$fields[] = 'coupon';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_table_fields() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the user table fields before rendering or processing.\n\t *\n\t * @param array $user_table_fields An array of user table fields to be displayed\n\t * or processed during user registration.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_user_table_fields',\n\t\tarray(\n\t\t\t'user_email',\n\t\t\t'user_pass',\n\t\t\t'user_login',\n\t\t\t'user_url',\n\t\t\t'display_name',\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_required_fields() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of required form fields during user registration.\n\t *\n\t * @param array $required_form_fields An array of user fields that are required.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_required_form_fields',\n\t\tarray(\n\t\t\t'user_email',\n\t\t\t'user_pass',\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_one_time_draggable_fields() {"}, {"role": "assistant", "content": "Function content: $form_fields = ur_get_user_field_only();\n\t/**\n\t * Filters the list of one-time draggable form fields during user registration.\n\t *\n\t * @param array $form_fields An array of user fields to be used as one-time draggable form fields.\n\t */\n\treturn apply_filters( 'user_registration_one_time_draggable_form_fields', $form_fields );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_exclude_profile_details_fields() {"}, {"role": "assistant", "content": "Function content: $fields_to_exclude = array(\n\t\t'user_pass',\n\t\t'user_confirm_password',\n\t\t'user_confirm_email',\n\t\t'invite_code',\n\t\t'learndash_course',\n\t);\n\n\t// Check if the my account page contains [user_registration_my_account] shortcode.\n\tif ( ur_post_content_has_shortcode( 'user_registration_my_account' ) || ur_post_content_has_shortcode( 'user_registration_edit_profile' ) ) {\n\t\t// Push profile_picture field to fields_to_exclude array.\n\t\tarray_push( $fields_to_exclude, 'profile_picture' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_readonly_profile_details_fields() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of readonly profile fields during user registration.\n\t *\n\t * @param array $readonly_profile_fields An associative array where keys are the\n\t *                                       profile fields to be marked as readonly,\n\t *                                       and values are arrays containing optional\n\t *                                       messages or values associated with each field.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_readonly_profile_fields',\n\t\tarray(\n\t\t\t'user_login'            => array(\n\t\t\t\t'message' => __( 'Username can not be changed.', 'user-registration' ),\n\t\t\t),\n\t\t\t'user_pass'             => array(\n\t\t\t\t'value'   => 'password',\n\t\t\t\t'message' => __( 'Passowrd can not be changed.', 'user-registration' ),\n\t\t\t),\n\t\t\t'user_confirm_password' => array(\n\t\t\t\t'value'   => 'password',\n\t\t\t\t'message' => __( 'Confirm password can not be changed.', 'user-registration' ),\n\t\t\t),\n\t\t\t'user_confirm_email'    => array(\n\t\t\t\t'message' => __( 'Confirm email can not be changed.', 'user-registration' ),\n\t\t\t),\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_account_details_fields() {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'ur_get_account_details_fields', '1.4.1', 'ur_exclude_profile_details_fields' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_profile_field_only() {"}, {"role": "assistant", "content": "Function content: $user_fields = array_diff( ur_get_registered_form_fields(), ur_exclude_profile_details_fields() );\n\t/**\n\t * Filters the list of user profile fields during user registration.\n\t *\n\t * @param array $user_fields An array of user profile fields to be used during user registration.\n\t */\n\treturn apply_filters( 'user_registration_user_profile_field_only', $user_fields );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_fields_without_prefix() {"}, {"role": "assistant", "content": "Function content: $fields = ur_get_user_field_only();\n\t/**\n\t * Filters the list of user registration fields without the field prefix.\n\t *\n\t * @param array $fields An array of user registration fields without the field prefix.\n\t */\n\treturn apply_filters( 'user_registration_fields_without_prefix', $fields );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_field_only() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of user form fields during user registration.\n\t *\n\t * @param array $user_form_fields An array of user form fields to be used during user registration.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_user_form_fields',\n\t\tarray(\n\t\t\t'user_email',\n\t\t\t'user_confirm_email',\n\t\t\t'user_pass',\n\t\t\t'user_confirm_password',\n\t\t\t'user_login',\n\t\t\t'nickname',\n\t\t\t'first_name',\n\t\t\t'last_name',\n\t\t\t'user_url',\n\t\t\t'display_name',\n\t\t\t'description',\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_other_form_fields() {"}, {"role": "assistant", "content": "Function content: $registered  = ur_get_registered_form_fields();\n\t$user_fields = ur_get_user_field_only();\n\t$result      = array_diff( $registered, $user_fields );\n\t/**\n\t * Filters the list of other form fields during user registration.\n\t *\n\t * @param mixed $result The result of processing other form fields during user registration.\n\t */\n\treturn apply_filters( 'user_registration_other_form_fields', $result );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_registered_user_meta_fields() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of user meta fields for a registered user during user registration.\n\t *\n\t * @param array $registered_user_meta_fields An array of user meta fields associated with a registered user.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_registered_user_meta_fields',\n\t\tarray(\n\t\t\t'nickname',\n\t\t\t'first_name',\n\t\t\t'last_name',\n\t\t\t'description',\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_field_name_with_prefix_usermeta( $field_name ) {"}, {"role": "assistant", "content": "Function content: $default_fields = array_merge_recursive( ur_get_user_table_fields(), ur_get_registered_user_meta_fields() );\n\t\tif ( ! in_array( $field_name, $default_fields ) ) {\n\t\t\t$field_name = 'user_registration_' . $field_name;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_registered_form_fields() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of form fields for a registered user during user registration.\n\t *\n\t * @param array $registered_form_fields An array of form fields associated with a registered user during registration.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_registered_form_fields',\n\t\tarray(\n\t\t\t'user_email',\n\t\t\t'user_confirm_email',\n\t\t\t'user_pass',\n\t\t\t'user_confirm_password',\n\t\t\t'user_login',\n\t\t\t'nickname',\n\t\t\t'first_name',\n\t\t\t'last_name',\n\t\t\t'user_url',\n\t\t\t'display_name',\n\t\t\t'description',\n\t\t\t'text',\n\t\t\t'password',\n\t\t\t'email',\n\t\t\t'select',\n\t\t\t'country',\n\t\t\t'textarea',\n\t\t\t'number',\n\t\t\t'date',\n\t\t\t'checkbox',\n\t\t\t'privacy_policy',\n\t\t\t'radio',\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_registered_form_fields_with_default_labels() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the list of form fields for a registered user with default labels during user registration.\n\t *\n\t * @param array $registered_form_fields_with_labels An associative array where keys\n\t *                                                  are form field keys, and values are\n\t *                                                  the corresponding default labels.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_registered_form_fields_with_default_labels',\n\t\tarray(\n\t\t\t'user_email'            => __( 'User Email', 'user-registration' ),\n\t\t\t'user_confirm_email'    => __( 'User Confirm Email', 'user-registration' ),\n\t\t\t'user_pass'             => __( 'User Pass', 'user-registration' ),\n\t\t\t'user_confirm_password' => __( 'User Confirm Password', 'user-registration' ),\n\t\t\t'user_login'            => __( 'User Login', 'user-registration' ),\n\t\t\t'nickname'              => __( 'Nickname', 'user-registration' ),\n\t\t\t'first_name'            => __( 'First Name', 'user-registration' ),\n\t\t\t'last_name'             => __( 'Last Name', 'user-registration' ),\n\t\t\t'user_url'              => __( 'User URL', 'user-registration' ),\n\t\t\t'display_name'          => __( 'Display Name', 'user-registration' ),\n\t\t\t'description'           => __( 'Description', 'user-registration' ),\n\t\t\t'text'                  => __( 'Text', 'user-registration' ),\n\t\t\t'password'              => __( 'Password', 'user-registration' ),\n\t\t\t'email'                 => __( 'Secondary Email', 'user-registration' ),\n\t\t\t'select'                => __( 'Select', 'user-registration' ),\n\t\t\t'country'               => __( 'Country', 'user-registration' ),\n\t\t\t'textarea'              => __( 'Textarea', 'user-registration' ),\n\t\t\t'number'                => __( 'Number', 'user-registration' ),\n\t\t\t'date'                  => __( 'Date', 'user-registration' ),\n\t\t\t'checkbox'              => __( 'Checkbox', 'user-registration' ),\n\t\t\t'privacy_policy'        => __( 'Privacy Policy', 'user-registration' ),\n\t\t\t'radio'                 => __( 'Radio', 'user-registration' ),\n\t\t\t'hidden'                => __( 'Hidden', 'user-registration' ),\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_general_settings( $id ) {"}, {"role": "assistant", "content": "Function content: $general_settings = array(\n\t\t'label'       => array(\n\t\t\t'setting_id'  => 'label',\n\t\t\t'type'        => 'text',\n\t\t\t'label'       => __( 'Label', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[label]',\n\t\t\t'placeholder' => __( 'Label', 'user-registration' ),\n\t\t\t'required'    => true,\n\t\t\t'tip'         => __( 'Enter text for the form field label. This is recommended and can be hidden in the Advanced Settings.', 'user-registration' ),\n\t\t),\n\t\t'description' => array(\n\t\t\t'setting_id'  => 'description',\n\t\t\t'type'        => 'textarea',\n\t\t\t'label'       => __( 'Description', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[description]',\n\t\t\t'placeholder' => __( 'Description', 'user-registration' ),\n\t\t\t'required'    => true,\n\t\t\t'tip'         => __( 'Enter text for the form field description.', 'user-registration' ),\n\t\t),\n\t\t'field_name'  => array(\n\t\t\t'setting_id'  => 'field-name',\n\t\t\t'type'        => 'text',\n\t\t\t'label'       => __( 'Field Name', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[field_name]',\n\t\t\t'placeholder' => __( 'Field Name', 'user-registration' ),\n\t\t\t'required'    => true,\n\t\t\t'tip'         => __( 'Unique key for the field.', 'user-registration' ),\n\t\t),\n\n\t\t'placeholder' => array(\n\t\t\t'setting_id'  => 'placeholder',\n\t\t\t'type'        => 'text',\n\t\t\t'label'       => __( 'Placeholder', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[placeholder]',\n\t\t\t'placeholder' => __( 'Placeholder', 'user-registration' ),\n\t\t\t'required'    => true,\n\t\t\t'tip'         => __( 'Enter placeholder for the field.', 'user-registration' ),\n\t\t),\n\t\t'required'    => array(\n\t\t\t'setting_id'  => 'required',\n\t\t\t'type'        => 'toggle',\n\t\t\t'label'       => __( 'Required', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[required]',\n\t\t\t'placeholder' => '',\n\t\t\t'required'    => true,\n\t\t\t'default'     => 'false',\n\t\t\t'tip'         => __( 'Check this option to mark the field required. A form will not submit unless all required fields are provided.', 'user-registration' ),\n\t\t),\n\t\t'hide_label'  => array(\n\t\t\t'setting_id'  => 'hide-label',\n\t\t\t'type'        => 'toggle',\n\t\t\t'label'       => __( 'Hide Label', 'user-registration' ),\n\t\t\t'name'        => 'ur_general_setting[hide_label]',\n\t\t\t'placeholder' => '',\n\t\t\t'required'    => true,\n\t\t\t'default'     => 'false',\n\t\t\t'tip'         => __( 'Check this option to hide the label of this field.', 'user-registration' ),\n\t\t),\n\t);\n\t/**\n\t * Filters the list of form field types to exclude placeholders.\n\t *\n\t * @param array $exclude_placeholder_fields An array of form field types to exclude placeholders.\n\t */\n\t$exclude_placeholder = apply_filters(\n\t\t'user_registration_exclude_placeholder',\n\t\tarray(\n\t\t\t'checkbox',\n\t\t\t'privacy_policy',\n\t\t\t'radio',\n\t\t\t'file',\n\t\t\t'mailchimp',\n\t\t\t'hidden',\n\t\t\t'signature',\n\t\t)\n\t);\n\t$strip_id            = str_replace( 'user_registration_', '', $id );\n\n\tif ( in_array( $strip_id, $exclude_placeholder, true ) ) {\n\t\tunset( $general_settings['placeholder'] );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_insert_after_helper( $items, $new_items, $after ) {"}, {"role": "assistant", "content": "Function content: // Search for the item position and +1 since is after the selected item key.\n\t$position = array_search( $after, array_keys( $items ), true ) + 1;\n\n\t// Insert the new item.\n\t$return_items  = array_slice( $items, 0, $position, true );\n\t$return_items += $new_items;\n\t$return_items += array_slice( $items, $position, count( $items ) - $position, true );\n\n\treturn $return_items;\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_load_form_field_class( $class_key ) {"}, {"role": "assistant", "content": "Function content: $exploded_class = explode( '_', $class_key );\n\t$class_path     = UR_FORM_PATH . 'class-ur-' . join( '-', array_map( 'strtolower', $exploded_class ) ) . '.php';\n\t$class_name     = 'UR_Form_Field_' . join( '_', array_map( 'ucwords', $exploded_class ) );\n\t/**\n\t * Filter the path of the form field class file and class name before loading.\n\t *\n\t * Dynamic portion of hook name, $class_key.\n\t *\n\t * @param string $class_path The path to the form field class file.\n\t * @param string $class_key  The key identifying the form field class.\n\t */\n\t$class_path = apply_filters( 'user_registration_form_field_' . $class_key . '_path', $class_path );\n\t/* Backward Compat since 1.4.0 */\n\tif ( null != $class_path && file_exists( $class_path ) ) {\n\t\t$class_name = 'UR_' . join( '_', array_map( 'ucwords', $exploded_class ) );\n\t\tif ( ! class_exists( $class_name ) ) {\n\t\t\tinclude_once $class_path;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_default_admin_roles() {"}, {"role": "assistant", "content": "Function content: global $wp_roles;\n\n\tif ( ! class_exists( 'WP_Roles' ) ) {\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_random_number() {"}, {"role": "assistant", "content": "Function content: return time();\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_admin_form_settings_fields( $form_id ) {"}, {"role": "assistant", "content": "Function content: $all_roles = ur_get_default_admin_roles();\n\n\t$arguments = array(\n\t\t'form_id'      => $form_id,\n\n\t\t'setting_data' => array(\n\t\t\tarray(\n\t\t\t\t'label'             => __( 'User Approval And Login Option', 'user-registration' ),\n\t\t\t\t'description'       => __( 'This option lets you choose login option after user registration.', 'user-registration' ),\n\t\t\t\t'id'                => 'user_registration_form_setting_login_options',\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_login_options', get_option( 'user_registration_general_setting_login_options' ) ),\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'required'          => false,\n\t\t\t\t'options'           => ur_login_option(),\n\t\t\t\t'tip'               => __( 'Login method that should be used by the users registered through this form.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'label'             => __( 'Default User Role', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_default_user_role',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'options'           => $all_roles,\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_default_user_role', get_option( 'user_registration_form_setting_default_user_role', 'subscriber' ) ),\n\t\t\t\t'tip'               => __( 'Default role for the users registered through this form.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'toggle',\n\t\t\t\t'label'             => __( 'Enable Strong Password', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_enable_strong_password',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_enable_strong_password', ur_string_to_bool( get_option( 'user_registration_form_setting_enable_strong_password', 1 ) ) ),\n\t\t\t\t'tip'               => __( 'Make strong password compulsary.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'radio-group',\n\t\t\t\t'label'             => __( 'Minimum Password Strength', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_minimum_password_strength',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'options'           => array(\n\t\t\t\t\t'0' => __( 'Very Weak', 'user-registration' ),\n\t\t\t\t\t'1' => __( 'Weak', 'user-registration' ),\n\t\t\t\t\t'2' => __( 'Medium', 'user-registration' ),\n\t\t\t\t\t'3' => __( 'Strong', 'user-registration' ),\n\t\t\t\t),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_minimum_password_strength', get_option( 'user_registration_form_setting_minimum_password_strength', '3' ) ),\n\t\t\t\t'tip'               => __( 'Set minimum required password strength.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'text',\n\t\t\t\t'label'             => __( 'Submit Button Class', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_form_submit_class',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_form_submit_class', '' ),\n\t\t\t\t'tip'               => __( 'Enter CSS class names for the Submit Button. Multiple class names should be separated with spaces.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'text',\n\t\t\t\t'label'             => __( 'Submit Button Text', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_form_submit_label',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_form_submit_label', 'Submit' ),\n\t\t\t\t'tip'               => __( 'Enter desired text for the Submit Button.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'label'             => __( 'Success message display', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_success_message_position',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'options'           => array(\n\t\t\t\t\t'0' => esc_html__( 'Top', 'user-registration' ),\n\t\t\t\t\t'1' => esc_html__( 'Bottom', 'user-registration' ),\n\t\t\t\t\t'2' => esc_html__( 'Hide Form After Successful Submission', 'user-registration' ),\n\t\t\t\t),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_success_message_position', '1' ),\n\t\t\t\t'tip'               => __( 'Display success message either at the top or bottom after successful registration.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'toggle',\n\n\t\t\t\t/* translators: 1: Link tag open 2:: Link content 3:: Link tag close */\n\t\t\t\t'label'             => sprintf( __( 'Enable &nbsp; %1$s %2$s Captcha %3$s &nbsp; Support', 'user-registration' ), '<a title=\"', 'Please make sure the site key and secret are not empty in setting page.\" href=\"' . admin_url() . 'admin.php?page=user-registration-settings&tab=captcha\" target=\"_blank\">', '</a>' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_enable_recaptcha_support',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_string_to_bool( ur_get_single_post_meta( $form_id, 'user_registration_form_setting_enable_recaptcha_support', false ) ),\n\t\t\t\t'tip'               => __( 'Enable Captcha for strong security from spams and bots.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'label'             => __( 'Form Template', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_template',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'options'           => array(\n\t\t\t\t\t'Default'      => __( 'Default', 'user-registration' ),\n\t\t\t\t\t'Bordered'     => __( 'Bordered', 'user-registration' ),\n\t\t\t\t\t'Flat'         => __( 'Flat', 'user-registration' ),\n\t\t\t\t\t'Rounded'      => __( 'Rounded', 'user-registration' ),\n\t\t\t\t\t'Rounded Edge' => __( 'Rounded Edge', 'user-registration' ),\n\t\t\t\t),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_template', ucwords( str_replace( '_', ' ', get_option( 'user_registration_form_template', 'default' ) ) ) ),\n\t\t\t\t'tip'               => __( 'Choose form template to use.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'text',\n\t\t\t\t'label'             => __( 'Form Class', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_custom_class',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_custom_class' ),\n\t\t\t\t'tip'               => __( 'Enter CSS class names for the Form Wrapper. Multiple class names should be separated with spaces.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'label'             => __( 'Redirect After Registration', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_redirect_after_registration',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t/**\n\t\t\t\t * Filters the redirection options after user registration.\n\t\t\t\t *\n\t\t\t\t * @param array $redirection_options An associative array where keys represent\n\t\t\t\t *                                   the option values, and values represent the labels\n\t\t\t\t *                                   for the redirection options.\n\t\t\t\t */\n\t\t\t\t'options'           => apply_filters(\n\t\t\t\t\t'user_registration_redirect_after_registration_options',\n\t\t\t\t\tarray(\n\t\t\t\t\t\t'no-redirection' => __( 'No Redirection', 'user-registration' ),\n\t\t\t\t\t\t'internal-page'  => __( 'Internal Page', 'user-registration' ),\n\t\t\t\t\t\t'external-url'   => __( 'External URL', 'user-registration' ),\n\t\t\t\t\t\t'previous-page'  => __( 'Previous Page', 'user-registration' ),\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_redirect_after_registration', 'no-redirection' ),\n\t\t\t\t'tip'               => __( 'Choose where to redirect the user after successful registration.', 'user-registration' ),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'select',\n\t\t\t\t'label'             => __( 'Custom Page', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_redirect_page',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'options'           => ur_get_all_pages(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_redirect_page', '' ),\n\t\t\t\t'tip'               => __( 'Choose the custom page to redirect after registration', 'user-registration' ),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'text',\n\t\t\t\t'label'             => __( 'Redirect URL', 'user-registration' ),\n\t\t\t\t'id'                => 'user_registration_form_setting_redirect_options',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_redirect_options', get_option( 'user_registration_general_setting_redirect_options', '' ) ),  // Getting redirect options from global settings for backward compatibility.\n\t\t\t\t'tip'               => __( 'This option lets you enter redirect path after successful user registration.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'number',\n\t\t\t\t'label'             => __( 'Waiting Period Before Redirection ( In seconds )', 'user-registration' ),\n\t\t\t\t'description'       => '',\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_form_setting_redirect_after',\n\t\t\t\t'class'             => array(),\n\t\t\t\t'input_class'       => array(),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'min'               => '0',\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_form_setting_redirect_after', '2' ),\n\t\t\t\t'tip'               => __( 'Time to wait after registration before redirecting user to another page.', 'user-registration' ),\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'              => 'toggle',\n\t\t\t\t'label'             => __( 'Activate Spam Protection By Akismet', 'user-registration' ),\n\t\t\t\t'required'          => false,\n\t\t\t\t'id'                => 'user_registration_enable_akismet',\n\t\t\t\t'class'             => array( 'ur-enhanced-select' ),\n\t\t\t\t'custom_attributes' => array(),\n\t\t\t\t'default'           => ur_get_single_post_meta( $form_id, 'user_registration_enable_akismet', false ),\n\t\t\t\t'tip'               => __( 'Enable anti-spam for this form with akismet.', 'user-registration' ),\n\n\t\t\t),\n\t\t\tarray(\n\t\t\t\t'type'        => 'label',\n\t\t\t\t'id'          => 'user_registration_akismet_warning',\n\t\t\t\t'description' => ur_check_akismet_installation(),\n\t\t\t),\n\t\t),\n\t);\n\t/**\n\t * Filters the form settings before processing or rendering.\n\t *\n\t * @param array $arguments An array of form settings.\n\t */\n\t$arguments = apply_filters( 'user_registration_get_form_settings', $arguments );\n\n\treturn $arguments['setting_data'];\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_login_option() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the login options available during user registration.\n\t *\n\t * @param array $login_options An associative array where keys represent the\n\t *                             option values, and values represent the labels\n\t *                             for the login options.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_login_options',\n\t\tarray(\n\t\t\t'default'            => __( 'Auto approval and manual login', 'user-registration' ),\n\t\t\t'auto_login'         => __( 'Auto approval and auto login ', 'user-registration' ),\n\t\t\t'admin_approval'     => __( 'Admin approval', 'user-registration' ),\n\t\t\t'email_confirmation' => __( 'Auto approval after email confirmation', 'user-registration' ),\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_login_option_with() {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters the login options with specific identification types during login.\n\t *\n\t * @param array $login_options_with An associative array where keys represent the\n\t *                                  identification types, and values represent the labels\n\t *                                  for the corresponding login options.\n\t */\n\treturn apply_filters(\n\t\t'user_registration_login_options_with',\n\t\tarray(\n\t\t\t'default'  => __( 'Username or Email', 'user-registration' ),\n\t\t\t'username' => __( 'Username', 'user-registration' ),\n\t\t\t'email'    => __( 'Email', 'user-registration' ),\n\t\t)\n\t);\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_single_post_meta( $post_id, $meta_key, $default = null ) {"}, {"role": "assistant", "content": "Function content: $post_meta = get_post_meta( $post_id, $meta_key );\n\n\tif ( isset( $post_meta[0] ) ) {\n\t\tif (\n\t\t\t'user_registration_form_setting_enable_recaptcha_support' === $meta_key || 'user_registration_form_setting_enable_strong_password' === $meta_key\n\t\t\t|| 'user_registration_pdf_submission_to_admin' === $meta_key || 'user_registration_pdf_submission_to_user' === $meta_key || 'user_registration_form_setting_enable_assign_user_role_conditionally' === $meta_key\n\t\t) {\n\t\t\t$post_meta[0] = ur_string_to_bool( $post_meta[0] );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_setting_by_key( $form_id, $meta_key, $default = '' ) {"}, {"role": "assistant", "content": "Function content: $fields = ur_admin_form_settings_fields( $form_id );\n\t$value  = '';\n\n\tforeach ( $fields as $field ) {\n\n\t\tif ( isset( $field['id'] ) && $meta_key == $field['id'] ) {\n\t\t\t$value = isset( $field['default'] ) ? sanitize_text_field( $field['default'] ) : $default;\n\t\t\tbreak;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_approval_status( $user_id ) {"}, {"role": "assistant", "content": "Function content: $user_status = 1;\n\n\t$login_option = ur_get_user_login_option( $user_id );\n\n\tif ( 'admin_approval' === $login_option ) {\n\n\t\t$user_status = get_user_meta( $user_id, 'ur_user_status', true );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_data_by_key( $form_data, $key = null ) {"}, {"role": "assistant", "content": "Function content: $form_data_array = array();\n\n\tforeach ( $form_data as $data ) {\n\t\tforeach ( $data as $single_data ) {\n\t\t\tforeach ( $single_data as $field_data ) {\n\n\t\t\t\t$field_key = isset( $field_data->field_key ) && null !== $field_data->field_key ? $field_data->field_key : '';\n\n\t\t\t\tif ( ! empty( $field_key ) ) {\n\t\t\t\t\t$field_name = isset( $field_data->general_setting->field_name ) && null !== $field_data->general_setting->field_name ? $field_data->general_setting->field_name : '';\n\n\t\t\t\t\tif ( null === $key ) {\n\n\t\t\t\t\t\tif ( ! empty( $field_name ) ) {\n\t\t\t\t\t\t\t$form_data_array[ $field_name ] = $field_data;\n\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_log_file_path( $handle ) {"}, {"role": "assistant", "content": "Function content: return UR_Log_Handler_File::get_log_file_path( $handle );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_register_default_log_handler( $handlers ) {"}, {"role": "assistant", "content": "Function content: if ( defined( 'UR_LOG_HANDLER' ) && class_exists( UR_LOG_HANDLER ) ) {\n\t\t$handler_class   = UR_LOG_HANDLER;\n\t\t$default_handler = new $handler_class();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_logger() {"}, {"role": "assistant", "content": "Function content: static $logger = null;\n\tif ( null === $logger ) {\n\t\t/**\n\t\t * Applies the 'user_registration_logging_class' filter to customize the logger class.\n\t\t *\n\t\t * @since 1.1.0\n\t\t *\n\t\t * @param string|object $class The class name or an instance of the logger.\n\t\t */\n\t\t$class      = apply_filters( 'user_registration_logging_class', 'UR_Logger' );\n\t\t$implements = class_implements( $class );\n\t\tif ( is_array( $implements ) && in_array( 'UR_Logger_Interface', $implements ) ) {\n\t\t\tif ( is_object( $class ) ) {\n\t\t\t\t$logger = $class;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_addon_updater( $file, $item_id, $addon_version, $beta = false ) {"}, {"role": "assistant", "content": "Function content: $api_endpoint = 'https://wpeverest.com/edd-sl-api/';\n\t$license_key  = trim( get_option( 'user-registration_license_key' ) );\n\tif ( class_exists( 'UR_AddOn_Updater' ) ) {\n\t\tnew UR_AddOn_Updater(\n\t\t\tesc_url_raw( $api_endpoint ),\n\t\t\t$file,\n\t\t\tarray(\n\t\t\t\t'version' => $addon_version,\n\t\t\t\t'license' => $license_key,\n\t\t\t\t'item_id' => $item_id,\n\t\t\t\t'author'  => 'WPEverest',\n\t\t\t\t'url'     => home_url(),\n\t\t\t\t'beta'    => $beta,\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function check_username( $username ) {"}, {"role": "assistant", "content": "Function content: if ( username_exists( $username ) ) {\n\t\tpreg_match_all( '/\\d+$/m', $username, $matches );\n\n\t\tif ( isset( $matches[0][0] ) ) {\n\t\t\t$last_char       = $matches[0][0];\n\t\t\t$strip_last_char = substr( $username, 0, - ( strlen( (string) $last_char ) ) );\n\t\t\t++$last_char;\n\t\t\t$username = $strip_last_char . $last_char;\n\t\t\t$username = check_username( $username );\n\n\t\t\treturn $username;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_all_user_registration_form( $post_count = -1 ) {"}, {"role": "assistant", "content": "Function content: $args        = array(\n\t\t'status'      => 'publish',\n\t\t'numberposts' => $post_count,\n\t\t'order'       => 'ASC',\n\t);\n\t$posts_array = UR()->form->get_form( '', $args );\n\t$all_forms   = array();\n\n\tforeach ( $posts_array as $post ) {\n\t\t$all_forms[ $post->ID ] = $post->post_title;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_recaptcha_node( $context, $recaptcha_enabled = false ) {"}, {"role": "assistant", "content": "Function content: $recaptcha_type      = get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' );\n\t$invisible_recaptcha = ur_option_checked( 'user_registration_captcha_setting_invisible_recaptcha_v2', false );\n\t$theme_mod           = '';\n\n\tif ( 'v2' === $recaptcha_type && ! $invisible_recaptcha ) {\n\t\t$recaptcha_site_key    = get_option( 'user_registration_captcha_setting_recaptcha_site_key' );\n\t\t$recaptcha_site_secret = get_option( 'user_registration_captcha_setting_recaptcha_site_secret' );\n\t\t$enqueue_script        = 'ur-google-recaptcha';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_meta_key_label( $form_id ) {"}, {"role": "assistant", "content": "Function content: $key_label = array();\n\n\t$post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\tforeach ( $post_content_array as $post_content_row ) {\n\t\tforeach ( $post_content_row as $post_content_grid ) {\n\t\t\tforeach ( $post_content_grid as $field ) {\n\t\t\t\tif ( isset( $field->field_key ) && isset( $field->general_setting->field_name ) ) {\n\t\t\t\t\t$key_label[ $field->general_setting->field_name ] = $field->general_setting->label;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_extra_fields( $user_id ) {"}, {"role": "assistant", "content": "Function content: $name_value = array();\n\n\t$admin_profile = new UR_Admin_Profile();\n\t$extra_data    = $admin_profile->get_user_meta_by_form_fields( $user_id );\n\t$form_fields   = isset( array_column( $extra_data, 'fields' )[0] ) ? array_column( $extra_data, 'fields' )[0] : array(); //phpcs:ignore.\n\tif ( ! empty( $form_fields ) ) {\n\t\tforeach ( $form_fields as $field_key => $field_data ) {\n\t\t\t$value     = get_user_meta( $user_id, $field_key, true );\n\t\t\t$field_key = str_replace( 'user_registration_', '', $field_key );\n\n\t\t\tif ( is_serialized( $value ) ) {\n\t\t\t\t$value = unserialize( $value, array( 'allowed_classes' => false ) ); //phpcs:ignore.\n\t\t\t\t$value = implode( ',', $value );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_status( $user_status, $user_email_status ) {"}, {"role": "assistant", "content": "Function content: $status = array();\n\tif ( '0' === $user_status || '0' === $user_email_status ) {\n\t\tarray_push( $status, 'Pending' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_back_link( $label, $url ) {"}, {"role": "assistant", "content": "Function content: return '<small class=\"ur-admin-breadcrumb\"><a href=\"' . esc_url( $url ) . '\" aria-label=\"' . esc_attr( $label ) . '\">&#x2934;</a></small>';\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function wp_doing ajax() is introduced in core @since 4.7,\n */\nif ( ! function_exists( 'wp_doing_ajax' ) ) {"}, {"role": "assistant", "content": "Function content: /**\n\t * Filters whether the current request is a WordPress Ajax request.\n\t */\n\tfunction wp_doing_ajax() {\n\t\treturn apply_filters( 'wp_doing_ajax', defined( 'DOING_AJAX' ) && DOING_AJAX );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_json( $str ) {"}, {"role": "assistant", "content": "Function content: if ( ! is_string( $str ) ) {\n\t\treturn false;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_has_date_field( $form_id ) {"}, {"role": "assistant", "content": "Function content: ur_deprecated_function( 'ur_has_date_field', '3.1.3', 'ur_has_flatpickr_field' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_has_flatpickr_field( $form_id ) {"}, {"role": "assistant", "content": "Function content: $post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\tif ( ! empty( $post_content_array ) ) {\n\t\tforeach ( $post_content_array as $post_content_row ) {\n\t\t\tforeach ( $post_content_row as $post_content_grid ) {\n\t\t\t\tforeach ( $post_content_grid as $field ) {\n\t\t\t\t\tif ( isset( $field->field_key ) && ( 'date' === $field->field_key || 'timepicker' === $field->field_key ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_shortcode_attr( $content ) {"}, {"role": "assistant", "content": "Function content: $pattern = get_shortcode_regex();\n\n\t$keys   = array();\n\t$result = array();\n\n\tif ( preg_match_all( '/' . $pattern . '/s', $content, $matches ) ) {\n\n\t\tforeach ( $matches[0] as $key => $value ) {\n\n\t\t\t// $matches[ 3 ] return the shortcode attribute as string.\n\t\t\t// replace space with '&' for parse_str() function.\n\t\t\t$get = str_replace( ' ', '&', $matches[3][ $key ] );\n\t\t\tparse_str( $get, $output );\n\n\t\t\t// Get all shortcode attribute keys.\n\t\t\t$keys     = array_unique( array_merge( $keys, array_keys( $output ) ) );\n\t\t\t$result[] = $output;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_print_js() {"}, {"role": "assistant", "content": "Function content: global $ur_queued_js;\n\n\tif ( ! empty( $ur_queued_js ) ) {\n\t\t// Sanitize.\n\t\t$ur_queued_js = wp_check_invalid_utf8( $ur_queued_js );\n\t\t$ur_queued_js = preg_replace( '/&#(x)?0*(?(1)27|39);?/i', \"'\", $ur_queued_js );\n\t\t$ur_queued_js = str_replace( \"\\r\", '', $ur_queued_js );\n\n\t\t$js = \"<!-- User Registration JavaScript -->\\n<script type=\\\"text/javascript\\\">\\njQuery(function($) { $ur_queued_js }"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_enqueue_js( $code ) {"}, {"role": "assistant", "content": "Function content: global $ur_queued_js;\n\n\tif ( empty( $ur_queued_js ) ) {\n\t\t$ur_queued_js = '';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_delete_expired_transients() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t$rows = $wpdb->query(\n\t\t$wpdb->prepare(\n\t\t\t\"DELETE a, b FROM $wpdb->options a, $wpdb->options b\n\t\t\tWHERE a.option_name LIKE %s\n\t\t\tAND a.option_name NOT LIKE %s\n\t\t\tAND b.option_name = CONCAT( '_transient_timeout_', SUBSTRING( a.option_name, 12 ) )\n\t\t\tAND b.option_value < %d\",\n\t\t\t$wpdb->esc_like( '_transient_' ) . '%',\n\t\t\t$wpdb->esc_like( '_transient_timeout_' ) . '%',\n\t\t\ttime()\n\t\t)\n\t);\n\n\t$rows2 = $wpdb->query(\n\t\t$wpdb->prepare(\n\t\t\t\"DELETE a, b FROM $wpdb->options a, $wpdb->options b\n\t\t\tWHERE a.option_name LIKE %s\n\t\t\tAND a.option_name NOT LIKE %s\n\t\t\tAND b.option_name = CONCAT( '_site_transient_timeout_', SUBSTRING( a.option_name, 17 ) )\n\t\t\tAND b.option_value < %d\",\n\t\t\t$wpdb->esc_like( '_site_transient_' ) . '%',\n\t\t\t$wpdb->esc_like( '_site_transient_timeout_' ) . '%',\n\t\t\ttime()\n\t\t)\n\t);\n\n\treturn absint( $rows + $rows2 );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_string_translation( $form_id, $field_id, $variable ) {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'icl_register_string' ) ) {\n\t\ticl_register_string( isset( $form_id ) && 0 !== $form_id ? 'user_registration_' . absint( $form_id ) : 'user-registration', isset( $field_id ) ? $field_id : '', $variable );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_id_by_userid( $user_id ) {"}, {"role": "assistant", "content": "Function content: $form_id_array = get_user_meta( $user_id, 'ur_form_id' );\n\t$form_id       = 0;\n\n\tif ( isset( $form_id_array[0] ) ) {\n\t\t$form_id = $form_id_array[0];\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_registration_source_id( $user_id ) {"}, {"role": "assistant", "content": "Function content: $user_metas = get_user_meta( $user_id );\n\n\tif ( isset( $user_metas['user_registration_social_connect_bypass_current_password'] ) ) {\n\t\t$networks = array( 'facebook', 'linkedin', 'google', 'twitter' );\n\n\t\tforeach ( $networks as $network ) {\n\n\t\t\tif ( isset( $user_metas[ 'user_registration_social_connect_' . $network . '_username' ] ) ) {\n\t\t\t\treturn $network;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_falls_in_date_range( $target_date, $start_date = null, $end_date = null ) {"}, {"role": "assistant", "content": "Function content: $start_ts       = strtotime( $start_date );\n\t$end_ts         = strtotime( $end_date . ' +1 Day' );\n\t$target_date_ts = strtotime( $target_date );\n\n\t// If the starting and the ending date are set as same.\n\tif ( $start_ts === $end_ts ) {\n\t\t$datetime = new DateTime();\n\t\t$datetime->setTimestamp( $end_ts );\n\n\t\tdate_add( $datetime, date_interval_create_from_date_string( '23 hours 59 mins 59 secs' ) );\n\t\t$end_ts = $datetime->getTimestamp();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_post_content( $form_id ) {"}, {"role": "assistant", "content": "Function content: $args      = array(\n\t\t'post_type'   => 'user_registration',\n\n\t\t'post_status' => 'publish',\n\n\t\t'post__in'    => array( $form_id ),\n\t);\n\t$post_data = get_posts( $args );\n\n\tif ( isset( $post_data[0]->post_content ) ) {\n\n\t\treturn json_decode( $post_data[0]->post_content );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_parse_args( &$args, $defaults ) {"}, {"role": "assistant", "content": "Function content: $args     = (array) $args;\n\t$defaults = (array) $defaults;\n\t$result   = $defaults;\n\tforeach ( $args as $k => &$v ) {\n\t\tif ( is_array( $v ) && isset( $result[ $k ] ) ) {\n\t\t\t$result[ $k ] = ur_parse_args( $v, $result[ $k ] );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_email_content_overrider( $form_id, $settings, $message, $subject ) {"}, {"role": "assistant", "content": "Function content: // Check if email templates addon is active.\n\tif ( class_exists( 'User_Registration_Email_Templates' ) ) {\n\t\t$email_content_override = ur_get_single_post_meta( $form_id, 'user_registration_email_content_override', '' );\n\n\t\t// Check if the post meta exists and have contents.\n\t\tif ( $email_content_override ) {\n\n\t\t\t$auto_password_template_overrider = isset( $email_content_override[ $settings->id ] ) ? $email_content_override[ $settings->id ] : '';\n\n\t\t\t// Check if the email override is enabled.\n\t\t\tif ( '' !== $auto_password_template_overrider && ur_string_to_bool( $auto_password_template_overrider['override'] ) ) {\n\t\t\t\t$message = $auto_password_template_overrider['content'];\n\t\t\t\t$subject = $auto_password_template_overrider['subject'];\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_valid_form_data_format( $new_string, $post_key, $profile, $value ) {"}, {"role": "assistant", "content": "Function content: $valid_form_data = array();\n\tif ( isset( $profile[ $post_key ] ) ) {\n\t\t$field_type = $profile[ $post_key ]['type'];\n\n\t\tif ( 'repeater' === $field_type ) {\n\t\t\treturn $valid_form_data;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_resolve_conflicting_shortcodes_with_aioseo( $conflict_shortcodes ) {"}, {"role": "assistant", "content": "Function content: $ur_shortcodes = array(\n\t\t'User Registration My Account' => '[user_registration_my_account]',\n\t\t'User Registration Login'      => '[user_registration_login]',\n\t);\n\n\t$conflict_shortcodes = array_merge( $conflict_shortcodes, $ur_shortcodes );\n\treturn $conflict_shortcodes;\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_parse_name_values_for_smart_tags( $user_id, $form_id, $valid_form_data ) {"}, {"role": "assistant", "content": "Function content: $name_value = array();\n\t$data_html  = '<table class=\"user-registration-email__entries\" cellpadding=\"0\" cellspacing=\"0\"><tbody>';\n\n\t// Generate $data_html string to replace for {{all_fields}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_field_data_by_field_name( $form_id, $field_name ) {"}, {"role": "assistant", "content": "Function content: $field_data = array();\n\n\t$post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\tforeach ( $post_content_array as $post_content_row ) {\n\t\tforeach ( $post_content_row as $post_content_grid ) {\n\t\t\tif ( is_array( $post_content_grid ) || is_object( $post_content_grid ) ) {\n\t\t\t\tforeach ( $post_content_grid as $field ) {\n\t\t\t\t\tif ( isset( $field->field_key ) && isset( $field->general_setting->field_name ) && $field->general_setting->field_name === $field_name ) {\n\t\t\t\t\t\t$field_data = array(\n\t\t\t\t\t\t\t'field_key'       => $field->field_key,\n\t\t\t\t\t\t\t'general_setting' => $field->general_setting,\n\t\t\t\t\t\t\t'advance_setting' => $field->advance_setting,\n\t\t\t\t\t\t);\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_pro_get_conditional_fields_by_form_id( $form_id, $selected_field_key ) {"}, {"role": "assistant", "content": "Function content: $args      = array(\n\t\t\t'post_type'   => 'user_registration',\n\t\t\t'post_status' => 'publish',\n\t\t\t'post__in'    => array( $form_id ),\n\t\t);\n\t\t$post_data = get_posts( $args );\n\t\t// wrap all fields in array.\n\t\t$fields = array();\n\t\tif ( isset( $post_data[0]->post_content ) ) {\n\t\t\t$post_content_array = json_decode( $post_data[0]->post_content );\n\n\t\t\tif ( ! is_null( $post_content_array ) ) {\n\t\t\t\tforeach ( $post_content_array as $data ) {\n\t\t\t\t\tforeach ( $data as $single_data ) {\n\t\t\t\t\t\tforeach ( $single_data as $field_data ) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tisset( $field_data->general_setting->field_name )\n\t\t\t\t\t\t\t\t&& isset( $field_data->general_setting->label )\n\t\t\t\t\t\t\t) {\n\n\t\t\t\t\t\t\t\t$strip_fields = array(\n\t\t\t\t\t\t\t\t\t'section_title',\n\t\t\t\t\t\t\t\t\t'html',\n\t\t\t\t\t\t\t\t\t'wysiwyg',\n\t\t\t\t\t\t\t\t\t'billing_address_title',\n\t\t\t\t\t\t\t\t\t'shipping_address_title',\n\t\t\t\t\t\t\t\t\t'stripe_gateway',\n\t\t\t\t\t\t\t\t\t'profile_picture',\n\t\t\t\t\t\t\t\t\t'file',\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif ( in_array( $field_data->field_key, $strip_fields, true ) ) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_pro_render_conditional_logic( $connection, $integration, $form_id ) {"}, {"role": "assistant", "content": "Function content: $output  = '<div class=\"ur_conditional_logic_container\">';\n\t\t$output .= '<h4>' . esc_html__( 'Conditional Logic', 'user-registration' ) . '</h4>';\n\t\t$output .= '<div class=\"ur_use_conditional_logic_wrapper ur-check\">';\n\t\t$checked = '';\n\n\t\tif ( isset( $connection['enable_conditional_logic'] ) && ur_string_to_bool( $connection['enable_conditional_logic'] ) ) {\n\n\t\t\t$checked = 'checked=checked';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_pro_get_checkbox_choices( $form_id, $field_name ) {"}, {"role": "assistant", "content": "Function content: $form_data = (object) user_registration_pro_get_field_data( $form_id, $field_name );\n\t\t/* Backward Compatibility. Modified since 1.5.7. To be removed later. */\n\t\t$advance_setting_choices = isset( $form_data->advance_setting->choices ) ? $form_data->advance_setting->choices : '';\n\t\t$advance_setting_options = isset( $form_data->advance_setting->options ) ? $form_data->advance_setting->options : '';\n\t\t/* Bacward Compatibility end.*/\n\n\t\t$choices = isset( $form_data->general_setting->options ) ? $form_data->general_setting->options : '';\n\n\t\t/* Backward Compatibility. Modified since 1.5.7. To be removed later. */\n\t\tif ( ! empty( $advance_setting_choices ) ) {\n\t\t\t$choices = explode( ',', $advance_setting_choices );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_pro_get_field_data( $form_id, $field_name ) {"}, {"role": "assistant", "content": "Function content: $args      = array(\n\t\t\t'post_type'   => 'user_registration',\n\t\t\t'post_status' => 'publish',\n\t\t\t'post__in'    => array( $form_id ),\n\t\t);\n\t\t$post_data = get_posts( $args );\n\n\t\tif ( isset( $post_data[0]->post_content ) ) {\n\t\t\t$post_content_array = json_decode( $post_data[0]->post_content );\n\n\t\t\tforeach ( $post_content_array as $data ) {\n\t\t\t\tforeach ( $data as $single_data ) {\n\t\t\t\t\tforeach ( $single_data as $field_data ) {\n\t\t\t\t\t\tisset( $field_data->general_setting->field_name ) ? $field_data->general_setting->field_name : '';\n\t\t\t\t\t\tif ( $field_data->general_setting->field_name === $field_name ) {\n\t\t\t\t\t\t\treturn $field_data;\n\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function return boolean according to string to avoid colision of 1, true, yes.\n\t *\n\t * @param [string] $name Name of the extension.\n\t * @param [string] $slug Slug of the extension.\n\t * @throws Exception Extension Download and activation unsuccessful message.\n\t */\n\tfunction ur_install_extensions( $name, $slug ) {"}, {"role": "assistant", "content": "Function content: try {\n\n\t\t\t$plugin = 'user-registration-pro' === $slug ? plugin_basename( sanitize_text_field( wp_unslash( $slug . '/user-registration.php' ) ) ) : plugin_basename( sanitize_text_field( wp_unslash( $slug . '/' . $slug . '.php' ) ) );\n\t\t\t$status = array(\n\t\t\t\t'install' => 'plugin',\n\t\t\t\t'slug'    => sanitize_key( wp_unslash( $slug ) ),\n\t\t\t);\n\n\t\t\tif ( ! current_user_can( 'install_plugins' ) ) {\n\t\t\t\t$status['errorMessage'] = esc_html__( 'Sorry, you are not allowed to install plugins on this site.', 'user-registration' );\n\n\t\t\t\t/* translators: %1$s: Activation error message */\n\t\t\t\tthrow new Exception( sprintf( __( '<strong>Activation error:</strong> %1$s', 'user-registration' ), $status['errorMessage'] ) );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_profile_picture_migration_script() {"}, {"role": "assistant", "content": "Function content: if ( ! get_option( 'ur_profile_picture_migrated', false ) ) {\n\n\t\t\t$users = get_users(\n\t\t\t\tarray(\n\t\t\t\t\t'meta_key' => 'user_registration_profile_pic_url',\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tforeach ( $users as $user ) {\n\t\t\t\t$user_registration_profile_pic_url = get_user_meta( $user->ID, 'user_registration_profile_pic_url', true );\n\n\t\t\t\tif ( ! is_numeric( $user_registration_profile_pic_url ) ) {\n\t\t\t\t\t$user_registration_profile_pic_attachment = attachment_url_to_postid( $user_registration_profile_pic_url );\n\t\t\t\t\tif ( 0 != $user_registration_profile_pic_attachment ) {\n\t\t\t\t\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_url', absint( $user_registration_profile_pic_attachment ) );\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_size_to_limit_length_migration_script() {"}, {"role": "assistant", "content": "Function content: if ( ! get_option( 'ur_size_to_limit_length_migrated', false ) ) {\n\n\t\t\t$all_forms = ur_get_all_user_registration_form();\n\n\t\t\tforeach ( $all_forms as $key => $value ) {\n\n\t\t\t\t$form_id            = $key;\n\t\t\t\t$post               = ( $form_id ) ? get_post( $form_id ) : '';\n\t\t\t\t$post_content       = isset( $post->post_content ) ? $post->post_content : '';\n\t\t\t\t$post_content_array = json_decode( $post_content );\n\n\t\t\t\tforeach ( $post_content_array as $post_content_row ) {\n\t\t\t\t\tforeach ( $post_content_row as $post_content_grid ) {\n\t\t\t\t\t\tforeach ( $post_content_grid as $field ) {\n\n\t\t\t\t\t\t\tif ( isset( $field->field_key ) && 'text' === $field->field_key ) {\n\t\t\t\t\t\t\t\tif ( isset( $field->advance_setting ) ) {\n\t\t\t\t\t\t\t\t\tif ( isset( $field->advance_setting->size ) && ! empty( $field->advance_setting->size ) ) {\n\t\t\t\t\t\t\t\t\t\t$field->advance_setting->limit_length             = true;\n\t\t\t\t\t\t\t\t\t\t$field->advance_setting->limit_length_limit_count = $field->advance_setting->size;\n\t\t\t\t\t\t\t\t\t\t$field->advance_setting->limit_length_limit_mode  = 'characters';\n\t\t\t\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_delete_user_files_on_user_delete( $user_id, $reassign, $user ) {"}, {"role": "assistant", "content": "Function content: // Return if reassign is set.\n\t\tif ( null !== $reassign ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_format_field_values( $field_meta_key, $field_value ) {"}, {"role": "assistant", "content": "Function content: if ( strpos( $field_meta_key, 'user_registration_' ) ) {\n\t\t\t$field_meta_key = substr( $field_meta_key, 0, strpos( $field_meta_key, 'user_registration_' ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_format_field_values_using_field_key( $field_key, $field_value ) {"}, {"role": "assistant", "content": "Function content: switch ( $field_key ) {\n\t\t\tcase 'checkbox':\n\t\t\tcase 'multi_select2':\n\t\t\t\tif ( empty( $field_value ) ) {\n\t\t\t\t\t$field_value = '';\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_find_my_account_in_page( $login_page_id ) {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\t\t$post_table      = $wpdb->prefix . 'posts';\n\t\t$post_meta_table = $wpdb->prefix . 'postmeta';\n\n\t\t$matched = $wpdb->get_var(\n\t\t\t$wpdb->prepare( \"SELECT COUNT(*) FROM {$post_table}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_license_plan() {"}, {"role": "assistant", "content": "Function content: $license_key = get_option( 'user-registration_license_key' );\n\n\t\tif ( ! function_exists( 'is_plugin_active' ) ) {\n\t\t\tinclude_once ABSPATH . 'wp-admin/includes/plugin.php';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_json_file_contents( $file, $to_array = false ) {"}, {"role": "assistant", "content": "Function content: if ( $to_array ) {\n\t\t\treturn json_decode( ur_file_get_contents( $file ), true );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_valid_url( $url ) {"}, {"role": "assistant", "content": "Function content: // Must start with http:// or https://.\n\t\tif ( 0 !== strpos( $url, 'http://' ) && 0 !== strpos( $url, 'https://' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_file_get_contents( $file ) {"}, {"role": "assistant", "content": "Function content: if ( $file ) {\n\t\t\tglobal $wp_filesystem;\n\t\t\trequire_once ABSPATH . '/wp-admin/includes/file.php';\n\t\t\tWP_Filesystem();\n\t\t\t$local_file = preg_replace( '/\\\\\\\\|\\/\\//', '/', plugin_dir_path( UR_PLUGIN_FILE ) . $file );\n\n\t\t\tif ( $wp_filesystem->exists( $local_file ) ) {\n\t\t\t\t$response = $wp_filesystem->get_contents( $local_file );\n\t\t\t\treturn $response;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function crypt_the_string( $string, $action = 'e' ) {"}, {"role": "assistant", "content": "Function content: $secret_key = get_option( 'ur_secret_key' );\n\t\t$secret_iv  = get_option( 'ur_secret_iv' );\n\n\t\tif ( empty( $secret_key ) || empty( $secret_iv ) ) {\n\t\t\t$secret_key = ur_generate_random_key();\n\t\t\t$secret_iv  = ur_generate_random_key();\n\t\t\tupdate_option( 'ur_secret_key', $secret_key );\n\t\t\tupdate_option( 'ur_secret_iv', $secret_iv );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_generate_random_key() {"}, {"role": "assistant", "content": "Function content: $length              = 32;\n\t\t$allow_special_chars = true;\n\t\t$key                 = wp_generate_password( $length, $allow_special_chars );\n\t\treturn $key;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_clean_tmp_files() {"}, {"role": "assistant", "content": "Function content: $files = glob( trailingslashit( ur_get_tmp_dir() ) . '*' );\n\n\t\tif ( ! is_array( $files ) || empty( $files ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_tmp_dir() {"}, {"role": "assistant", "content": "Function content: $tmp_root = UR_UPLOAD_PATH . 'temp-uploads';\n\n\t\tif ( ! file_exists( $tmp_root ) || ! wp_is_writable( $tmp_root ) ) {\n\t\t\twp_mkdir_p( $tmp_root );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_user_roles( $user_id ) {"}, {"role": "assistant", "content": "Function content: $roles = array();\n\n\t\tif ( $user_id ) {\n\t\t\t$user_meta = get_userdata( $user_id );\n\t\t\t$roles     = isset( $user_meta->roles ) ? $user_meta->roles : array();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_upload_profile_pic( $valid_form_data, $user_id ) {"}, {"role": "assistant", "content": "Function content: $attachment_id = array();\n\t\t/**\n\t\t * Filters the URL for uploading profile pictures during user registration.\n\t\t *\n\t\t * This filter hook allows developers to customize the URL for uploading profile pictures\n\t\t * during the user registration process. By default, the profile pictures are uploaded\n\t\t * to the 'profile-pictures' directory within the UR_UPLOAD_PATH constant. Developers can\n\t\t * use this filter to modify the upload URL based on specific requirements or preferences.\n\t\t *\n\t\t * @param string $upload_url The default URL for uploading profile pictures.\n\t\t */\n\t\t$upload_path = apply_filters( 'user_registration_profile_pic_upload_url', UR_UPLOAD_PATH . 'profile-pictures' ); /*Get path of upload dir of WordPress*/\n\n\t\t// Checks if the upload directory exists and create one if not.\n\t\tif ( ! file_exists( $upload_path ) ) {\n\t\t\twp_mkdir_p( $upload_path );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_valid_url( $url ) {"}, {"role": "assistant", "content": "Function content: // Must start with http:// or https://.\n\t\tif ( 0 !== strpos( $url, 'http://' ) && 0 !== strpos( $url, 'https://' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_option_checked( $option_name = '', $default = '' ) {"}, {"role": "assistant", "content": "Function content: if ( empty( $option_name ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_check_captch_keys() {"}, {"role": "assistant", "content": "Function content: $recaptcha_type      = get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' );\n\t\t$invisible_recaptcha = ur_option_checked( 'user_registration_captcha_setting_invisible_recaptcha_v2', false );\n\n\t\t$site_key   = '';\n\t\t$secret_key = '';\n\n\t\tif ( 'v2' === $recaptcha_type ) {\n\t\t\tif ( $invisible_recaptcha ) {\n\t\t\t\t$site_key   = get_option( 'user_registration_captcha_setting_recaptcha_invisible_site_key' );\n\t\t\t\t$secret_key = get_option( 'user_registration_captcha_setting_recaptcha_invisible_site_secret' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_premium_settings_tab() {"}, {"role": "assistant", "content": "Function content: $premium_tabs = array(\n\t\t\t'woocommerce'                            => array(\n\t\t\t\t'label'  => esc_html__( 'WooCommerce', 'user-registration' ),\n\t\t\t\t'plugin' => 'user-registration-woocommerce',\n\t\t\t\t'plan'   => array( 'personal', 'plus', 'professional', 'themegrill agency' ),\n\t\t\t\t'name'   => esc_html__( 'User Registration - WooCommerce', 'user-registration' ),\n\t\t\t),\n\t\t\t'file_upload'                            => array(\n\t\t\t\t'label'  => esc_html__( 'File Uploads', 'user-registration' ),\n\t\t\t\t'plugin' => 'user-registration-file-upload',\n\t\t\t\t'plan'   => array( 'personal', 'plus', 'professional', 'themegrill agency' ),\n\t\t\t\t'name'   => esc_html__( 'User Registration - File Upload', 'user-registration' ),\n\t\t\t),\n\t\t\t'user-registration-customize-my-account' => array(\n\t\t\t\t'label'  => esc_html__( 'Customize My Account', 'user-registration' ),\n\t\t\t\t'plugin' => 'user-registration-customize-my-account',\n\t\t\t\t'plan'   => array( 'plus', 'professional', 'themegrill agency' ),\n\t\t\t\t'name'   => esc_html__( 'User Registration customize my account', 'user-registration' ),\n\t\t\t),\n\t\t);\n\t\t/**\n\t\t * Filters the premium settings tabs for customization or extension.\n\t\t *\n\t\t * The 'user_registration_premium_settings_tab' filter allows developers to modify\n\t\t * or extend the premium settings tabs defined in the plugin. Developers can customize\n\t\t * the array of premium tabs based on their specific requirements, adding, removing,\n\t\t * or altering tabs as needed.\n\t\t *\n\t\t * @param array $premium_tabs An array of premium settings tabs for User Registration.\n\t\t */\n\t\treturn apply_filters( 'user_registration_premium_settings_tab', $premium_tabs );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_display_premium_settings_tab() {"}, {"role": "assistant", "content": "Function content: $license_data    = ur_get_license_plan();\n\t\t$license_plan    = ! empty( $license_data->item_plan ) ? $license_data->item_plan : false;\n\t\t$premium_tabs    = ur_premium_settings_tab();\n\t\t$tabs_to_display = array();\n\t\t$tab_html        = '';\n\n\t\tforeach ( $premium_tabs as $tab => $detail ) {\n\t\t\t$tooltip_html = '';\n\t\t\t$button       = '';\n\t\t\tif ( 'woocommerce' === $tab && ! is_plugin_active( $detail['plugin'] . '/' . $detail['plugin'] . '.php' ) ) {\n\t\t\t\tcontinue;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_ajax_login_enabled() {"}, {"role": "assistant", "content": "Function content: return ur_option_checked( 'ur_login_ajax_submission', false );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_process_login( $nonce_value ) {"}, {"role": "assistant", "content": "Function content: try {\n\t\t\t// Custom error messages.\n\t\t\t$messages = array(\n\t\t\t\t'empty_username'   => get_option( 'user_registration_message_username_required', esc_html__( 'Username is required.', 'user-registration' ) ),\n\t\t\t\t'empty_password'   => get_option( 'user_registration_message_empty_password', null ),\n\t\t\t\t'invalid_username' => get_option( 'user_registration_message_invalid_username', null ),\n\t\t\t\t'unknown_email'    => get_option( 'user_registration_message_unknown_email', esc_html__( 'A user could not be found with this email address.', 'user-registration' ) ),\n\t\t\t\t'pending_approval' => get_option( 'user_registration_message_pending_approval', null ),\n\t\t\t\t'denied_access'    => get_option( 'user_registration_message_denied_account', null ),\n\t\t\t\t'user_disabled'    => esc_html__( 'Sorry! You are disabled.Please Contact Your Administrator.', 'user-registration' ),\n\t\t\t);\n\n\t\t\t$post = $_POST; // phpcs:ignore.\n\n\t\t\t$recaptcha_value     = isset( $post['g-recaptcha-response'] ) ? ur_clean( wp_unslash( $post['g-recaptcha-response'] ) ) : '';\n\t\t\t$captcha_response    = isset( $post['CaptchaResponse'] ) ? $post['CaptchaResponse'] : ''; //phpcs:ignore.\n\t\t\t$recaptcha_enabled   = ur_option_checked( 'user_registration_login_options_enable_recaptcha', false );\n\t\t\t$recaptcha_type      = get_option( 'user_registration_captcha_setting_recaptcha_version', 'v2' );\n\t\t\t$invisible_recaptcha = ur_option_checked( 'user_registration_captcha_setting_invisible_recaptcha_v2', false );\n\n\t\t\t$login_data = array(\n\t\t\t\t'user_password' => isset( $post['password'] ) ? wp_unslash( $post['password'] ) : '', //phpcs:ignore.\n\t\t\t\t'remember'      => isset( $post['rememberme'] ),\n\t\t\t);\n\n\t\t\t$username = isset( $post['username'] ) ? trim( sanitize_user( wp_unslash( $post['username'] ) ) ) : '';\n\n\t\t\tif ( 'v2' === $recaptcha_type && ! $invisible_recaptcha ) {\n\t\t\t\t$site_key   = get_option( 'user_registration_captcha_setting_recaptcha_site_key' );\n\t\t\t\t$secret_key = get_option( 'user_registration_captcha_setting_recaptcha_site_secret' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function paypal_generate_redirect_url( $user_id ) {"}, {"role": "assistant", "content": "Function content: // Check an user was created and passed.\n\t\tif ( empty( $user_id ) ) {\n\t\t\treturn '#';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_generate_onetime_token( $user_id = 0, $action = '', $key_length = 32, $expiration_time = 60 ) {"}, {"role": "assistant", "content": "Function content: $time = time();\n\t\t$key  = wp_generate_password( $key_length, false );\n\n\t\t// Concatenate the key, action, and current time to form the token string.\n\t\t$string = $key . $action . $time;\n\n\t\t// Generate the token hash.\n\t\t$token = wp_hash( $string );\n\n\t\t// Set the token expiration time in seconds.\n\t\t$expiration = apply_filters( $action . '_onetime_token_expiration', $expiration_time * 60 );\n\n\t\t// Set the user meta values for the token and expiration time.\n\t\tupdate_user_meta( $user_id, $action . '_token' . $user_id, $token );\n\t\tupdate_user_meta( $user_id, $action . '_token_expiration' . $user_id, $time + $expiration );\n\n\t\treturn $token;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_current_page_url() {"}, {"role": "assistant", "content": "Function content: $page_url = '';\n\n\t\tif ( isset( $_SERVER['HTTPS'] ) && 'on' === $_SERVER['HTTPS'] ) {\n\t\t\t$page_url .= 'https://';\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_passwordless_login_enabled() {"}, {"role": "assistant", "content": "Function content: return ur_option_checked( 'user_registration_pro_passwordless_login', false );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_ip_address() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_SERVER['HTTP_X_REAL_IP'] ) ) { // WPCS: input var ok, CSRF ok.\n\t\t\treturn sanitize_text_field( wp_unslash( $_SERVER['HTTP_X_REAL_IP'] ) );  // WPCS: input var ok, CSRF ok.\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_all_pages() {"}, {"role": "assistant", "content": "Function content: $pages = get_pages();\n\n\t\t$pages_array = array();\n\n\t\tforeach ( $pages as $page ) {\n\t\t\t$pages_array[ $page->ID ] = $page->post_title;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_process_email_content( $email_content, $template = '' ) {"}, {"role": "assistant", "content": "Function content: // Check if email template is selected.\n\t\tif ( '' !== $template && 'none' !== $template ) {\n\t\t\t/**\n\t\t\t * Filters the email template message.\n\t\t\t *\n\t\t\t * The 'user_registration_email_template_message' filter allows developers to modify\n\t\t\t * the content of the email template used during the user registration process. It provides\n\t\t\t * an opportunity to customize the email content based on the original content and the template.\n\t\t\t *\n\t\t\t * @param string $email_content The original content of the email template.\n\t\t\t * @param string $template      The template being used for the email.\n\t\t\t */\n\t\t\t$email_content = apply_filters( 'user_registration_email_template_message', $email_content, $template );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_email_preview_link( $label, $email_id ) {"}, {"role": "assistant", "content": "Function content: $url = add_query_arg(\n\t\t\tarray(\n\t\t\t\t'ur_email_preview' => $email_id,\n\t\t\t),\n\t\t\thome_url()\n\t\t);\n\n\t\treturn '<a href=\"' . esc_url( $url ) . '\" aria-label=\"' . esc_attr( $label ) . '\" class=\"button user-registration-email-preview \" style=\"min-width:70px;\">' . esc_html( $label ) . '</a>';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_parse_and_update_hidden_field( $form_data, $form_id, $user_id ) {"}, {"role": "assistant", "content": "Function content: $values = array(\n\t\t\t'form_id'      => $form_id,\n\t\t\t'process_type' => 'ur_parse_after_meta_update',\n\t\t);\n\n\t\tforeach ( $form_data as $key => $value ) {\n\t\t\tif ( 'user_email' === $value->field_name ) {\n\t\t\t\t$values['email'] = ur_format_field_values( $value->field_name, $value->value );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_maybe_unserialize( $data, $options = array() ) {"}, {"role": "assistant", "content": "Function content: if ( is_serialized( $data ) ) {\n\t\t\tif ( version_compare( PHP_VERSION, '7.1.0', '>=' ) ) {\n\t\t\t\t$options = wp_parse_args( $options, array( 'allowed_classes' => false ) );\n\t\t\t\treturn @unserialize( trim( $data ), $options ); //phpcs:ignore.\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_conditional_user_meta_filter( $valid_form_data, $user_id, $form_id ) {"}, {"role": "assistant", "content": "Function content: if ( $user_id <= 0 ) {\n\t\t\treturn $valid_form_data;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_ip_address() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_SERVER['HTTP_X_REAL_IP'] ) ) { // WPCS: input var ok, CSRF ok.\n\t\t\treturn sanitize_text_field( wp_unslash( $_SERVER['HTTP_X_REAL_IP'] ) );  // WPCS: input var ok, CSRF ok.\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_all_page_slugs() {"}, {"role": "assistant", "content": "Function content: $args = array(\n\t\t\t'post_type'      => 'page',\n\t\t\t'posts_per_page' => -1,\n\t\t);\n\n\t\t$pages = get_pages( $args );\n\n\t\t$slugs = array();\n\n\t\tforeach ( $pages as $page ) {\n\t\t\t$slugs[] = $page->post_name;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_add_links_to_top_nav( $wp_admin_bar ) {"}, {"role": "assistant", "content": "Function content: if ( ! is_admin_bar_showing() || ! current_user_can( 'manage_user_registration' ) ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_array_clone( $array ) {"}, {"role": "assistant", "content": "Function content: if ( is_object( $array ) ) {\n\t\t\treturn clone $array;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ( $element ) {"}, {"role": "assistant", "content": "Function content: return ( ( is_array( $element ) )\n\t\t\t\t\t? array_clone( $element )\n\t\t\t\t\t: ( ( is_object( $element ) )\n\t\t\t\t\t\t? clone $element\n\t\t\t\t\t\t: $element\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_unlink_user_profile_pictures( $id ) {"}, {"role": "assistant", "content": "Function content: $profile_pic_url = get_user_meta( $id, 'user_registration_profile_pic_url', true );\n\t\t\tif ( ! empty( $profile_pic_url ) ) {\n\n\t\t\t\t$profile_id = get_post_meta( $profile_pic_url, '_wp_attachment_metadata' );\n\n\t\t\t\t// Unlink profile picture before removing users.\n\t\t\t\tif ( is_array( $profile_id ) && ! empty( $profile_id ) ) {\n\t\t\t\t\tforeach ( $profile_id as $profile ) {\n\t\t\t\t\t\tif ( is_array( $profile ) && isset( $profile['file'] ) ) {\n\t\t\t\t\t\t\t$base_dir  = wp_upload_dir()['basedir'];\n\t\t\t\t\t\t\t$file      = $profile['file'];\n\t\t\t\t\t\t\t$full_path = trailingslashit( $base_dir ) . $file;\n\n\t\t\t\t\t\t\tif ( file_exists( $full_path ) ) {\n\t\t\t\t\t\t\t\tunlink( $full_path );\n\t\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_automatic_user_login( $user ) {"}, {"role": "assistant", "content": "Function content: wp_clear_auth_cookie();\n\t\t$remember = apply_filters( 'user_registration_autologin_remember_user', false );\n\t\twp_set_auth_cookie( $user->id, $remember );\n\n\t\t/**\n\t\t * Filters the login redirection.\n\t\t *\n\t\t * @param string   $redirect The original redirect URL after successful login.\n\t\t * @param WP_User  $user     The user object representing the newly registered user.\n\t\t */\n\t\t$redirect = apply_filters( 'user_registration_login_redirect', ur_get_my_account_url(), $user );\n\n\t\twp_redirect( $redirect );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function will send email verification email to the user.\n\t *\n\t * @since 3.1.5\n\t *\n\t * @param int $user_id User ID.\n\t */\n\tfunction ur_resend_verification_email( $user_id ) {"}, {"role": "assistant", "content": "Function content: $user    = get_user_by( 'id', $user_id );\n\t\t$form_id = ur_get_form_id_by_userid( $user_id );\n\n\t\t$confirm_email = new UR_Email_Confirmation();\n\t\t$confirm_email->set_email_status( array(), $form_id, $user_id );\n\t\t/**\n\t\t * Filter hook to modify the email attachment resending token.\n\t\t * Default value is empty array.\n\t\t */\n\t\t$attachments = apply_filters( 'user_registration_email_attachment_resending_token', array() );\n\t\t$name_value  = ur_get_user_extra_fields( $user_id );\n\n\t\t// Get selected email template id for specific form.\n\t\t$template_id = ur_get_single_post_meta( $form_id, 'user_registration_select_email_template' );\n\n\t\tUR_Emailer::send_mail_to_user( $user->user_email, $user->user_login, $user_id, '', $name_value, $attachments, $template_id );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_merge_translations( $source_dir, $destination_dir, $file_extension, $text_domain ) {"}, {"role": "assistant", "content": "Function content: $source_files = glob( $source_dir . '/*.' . $file_extension );\n\n\t\tforeach ( $source_files as $source_file ) {\n\t\t\t$language_code             = basename( $source_file, '.' . $file_extension );\n\t\t\t$destination_language_code = str_replace( '-' . $text_domain, '', $language_code );\n\n\t\t\tif ( 'user-registration' === $destination_language_code ) {\n\t\t\t\t$source_file_path      = $source_dir . '/' . $language_code . '.' . $file_extension; //phpcs:ignore\n\t\t\t\t$destination_file_path = $destination_dir . '/' . $destination_language_code . '.' . $file_extension; //phpcs:ignore\n\t\t\t\tif ( ! file_exists( $destination_file_path ) ) {\n\t\t\t\t\ttouch( $destination_file_path );\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_validate_form_field_data( $data, $form_data, $form_id, $response_array, $form_field_data, $valid_form_data ) {"}, {"role": "assistant", "content": "Function content: $form_key_list = wp_list_pluck( wp_list_pluck( $form_field_data, 'general_setting' ), 'field_name' );\n\n\t\t$form_validator = new UR_Form_Validation();\n\n\t\tif ( in_array( $data->field_name, $form_key_list, true ) ) {\n\t\t\t$form_data_index    = array_search( $data->field_name, $form_key_list, true );\n\t\t\t$single_form_field  = $form_field_data[ $form_data_index ];\n\t\t\t$general_setting    = isset( $single_form_field->general_setting ) ? $single_form_field->general_setting : new stdClass();\n\t\t\t$single_field_key   = $single_form_field->field_key;\n\t\t\t$single_field_label = isset( $general_setting->label ) ? $general_setting->label : '';\n\t\t\t$single_field_value = isset( $data->value ) ? $data->value : '';\n\t\t\t$data->extra_params = array(\n\t\t\t\t'field_key' => $single_field_key,\n\t\t\t\t'label'     => $single_field_label,\n\t\t\t);\n\n\t\t\t/**\n\t\t\t * Validate form fields according to the validations set in $validations array.\n\t\t\t *\n\t\t\t * @see this->get_field_validations()\n\t\t\t */\n\n\t\t\t$validations = $form_validator->get_field_validations( $single_field_key );\n\n\t\t\tif ( $form_validator->is_field_required( $single_form_field, $form_data ) ) {\n\t\t\t\tarray_unshift( $validations, 'required' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_validate_edit_profile_form_field_data( $data, $form_data, $form_id, $form_field_data, $form_fields ) {"}, {"role": "assistant", "content": "Function content: $form_validator   = new UR_Form_Validation();\n\t\t$skippable_fields = $form_validator->get_update_profile_validation_skippable_fields( $form_field_data );\n\t\t$form_key_list    = wp_list_pluck( wp_list_pluck( $form_field_data, 'general_setting' ), 'field_name' );\n\n\t\t$single_field_name = strpos( $data->field_name, 'user_registration_' ) !== -1 ? trim( str_replace( 'user_registration_', '', $data->field_name ) ) : $data->field_name;\n\n\t\tif ( ! in_array( $single_field_name, $skippable_fields, true ) && in_array( $single_field_name, $form_key_list, true ) ) {\n\t\t\t$form_data_index   = array_search( $single_field_name, $form_key_list, true );\n\t\t\t$single_form_field = $form_field_data[ $form_data_index ];\n\n\t\t\t$general_setting    = isset( $single_form_field->general_setting ) ? $single_form_field->general_setting : new stdClass();\n\t\t\t$single_field_key   = $single_form_field->field_key;\n\t\t\t$single_field_label = isset( $general_setting->label ) ? $general_setting->label : '';\n\t\t\t$single_field_value = isset( $data->value ) ? $data->value : '';\n\t\t\t$data->extra_params = array(\n\t\t\t\t'field_key' => $single_field_key,\n\t\t\t\t'label'     => $single_field_label,\n\t\t\t);\n\n\t\t\t/**\n\t\t\t * Validate form field according to the validations set in $validations array.\n\t\t\t *\n\t\t\t * @see form_validator->get_field_validations()\n\t\t\t */\n\t\t\t$validations = $form_validator->get_field_validations( $single_field_key );\n\n\t\t\t$required = isset( $single_form_field->general_setting->required ) ? $single_form_field->general_setting->required : false;\n\n\t\t\t$urcl_hide_fields = isset( $_POST['urcl_hide_fields'] ) ? (array) json_decode( stripslashes( $_POST['urcl_hide_fields'] ), true ) : array(); //phpcs:ignore;\n\n\t\t\tif ( ! in_array( $single_field_name, $urcl_hide_fields, true ) && ur_string_to_bool( $required ) ) {\n\t\t\t\tarray_unshift( $validations, 'required' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_edit_profile_row_template( $data, $profile, $current_row = '', $row_count = '' ) {"}, {"role": "assistant", "content": "Function content: $user_id = get_current_user_id();\n\t\t$form_id = ur_get_form_id_by_userid( $user_id );\n\t\t$width   = floor( 100 / count( $data ) ) - count( $data );\n\n\t\tforeach ( $data as $grid_key => $grid_data ) {\n\t\t\t$found_field = false;\n\n\t\t\tforeach ( $grid_data as $grid_data_key => $single_item ) {\n\t\t\t\tif ( ! isset( $single_item->general_setting->field_name ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_sanitize_profile_update( $submitted_data, $field_type, $key ) {"}, {"role": "assistant", "content": "Function content: $value = '';\n\n\t\tswitch ( $field_type ) {\n\t\t\tcase 'checkbox':\n\t\t\t\tif ( isset( $submitted_data[ $key ] ) && is_array( $submitted_data[ $key ] ) ) { // phpcs:ignore\n\t\t\t\t\t$value = wp_unslash( $submitted_data[ $key ] ); // phpcs:ignore\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function will send email verification email to the user.\n\t *\n\t * @since 3.1.5\n\t *\n\t * @param int $user_id User ID.\n\t */\n\tfunction ur_get_coupon_details( $coupon ) {"}, {"role": "assistant", "content": "Function content: $posts = new WP_Query(\n\t\t\tarray(\n\t\t\t\t'post_type'  => 'ur_coupons',\n\t\t\t\t'meta_key'   => 'ur_coupon_code',\n\t\t\t\t'meta_query' => array(\n\t\t\t\t\tarray(\n\t\t\t\t\t\t'key'     => 'ur_coupon_code',\n\t\t\t\t\t\t'value'   => $coupon,\n\t\t\t\t\t\t'compare' => '=',\n\t\t\t\t\t),\n\t\t\t\t),\n\t\t\t)\n\t\t);\n\n\t\tif ( $posts->post_count > 0 ) {\n\t\t\t$posts_meta               = get_post_meta( $posts->post->ID, 'ur_coupon_meta', true );\n\t\t\t$coupon_data              = json_decode( $posts_meta, true );\n\t\t\t$coupon_data['coupon_id'] = $posts->post->ID;\n\t\t\treturn $coupon_data;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_registration_field_value_by_field_name( $field_name ) {"}, {"role": "assistant", "content": "Function content: $field_value = '';\n\n\t\tif ( isset( $_POST['form_data'] ) ) { // phpcs:ignore\n\t\t\t$form_data = json_decode( wp_unslash( $_POST['form_data'] ) ); // phpcs:ignore\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_translated_string( $string, $language_code, $field_key, $form_id = 0 ) {"}, {"role": "assistant", "content": "Function content: if ( function_exists( 'icl_translate' ) ) {\n\t\t\t$language_code     = is_array( $language_code ) ? $language_code[0] : $language_code;\n\t\t\t$translated_string = apply_filters( 'wpml_translate_single_string', $string, 'user-registration', $string, $language_code );\n\t\t\tif ( false === $translated_string || $translated_string === $language_code ) {\n\t\t\t\treturn $string;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_check_is_disabled() {"}, {"role": "assistant", "content": "Function content: $is_auto_enable = get_user_meta( get_current_user_id(), 'ur_auto_enable_time', true );\n\t\tif ( $is_auto_enable ) {\n\t\t\t$current_time = current_time( 'timestamp' );\n\t\t\tif ( $current_time >= $is_auto_enable ) {\n\t\t\t\tdelete_user_meta( get_current_user_id(), 'ur_auto_enable_time' );\n\t\t\t\tdelete_user_meta( get_current_user_id(), 'ur_disable_users' );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_check_is_auto_enable_user( $user_id = 0 ) {"}, {"role": "assistant", "content": "Function content: if ( 0 === $user_id || '' === $user_id ) {\n\t\t\treturn;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_redirect_to_addons_page() {"}, {"role": "assistant", "content": "Function content: if ( isset( $_GET['page'] ) && 'user-registration-addons' === $_GET['page'] ) {\n\t\t\twp_safe_redirect( esc_url_raw( admin_url( 'admin.php?page=user-registration-dashboard#features' ) ) );\n\t\t\texit;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_check_akismet_installation() {"}, {"role": "assistant", "content": "Function content: $warning_color = '#ffcc00';\n\n\t\tif ( ! file_exists( WP_PLUGIN_DIR . '/akismet/akismet.php' ) ) {\n\t\t\treturn sprintf(\n\t\t\t\t'<div class=\"ur-form-settings-warning\"><span style=\"color: %s;\">%s</span>%s %s %s %s</div>',\n\t\t\t\t$warning_color,\n\t\t\t\tesc_html__( 'Warning:-', 'user-registration' ),\n\t\t\t\tesc_html__( ' This feature is inactive because', 'user-registration' ),\n\t\t\t\t'<a href=\"' . esc_url_raw( 'https://wordpress.org/plugins/akismet/' ) . '\" target=\"_blank\">' . esc_html__( 'Akismet', 'user-registration' ) . '</a>',\n\t\t\t\tesc_html__( 'plugin has not been installed. For more', 'user-registration' ),\n\t\t\t\t'<a href=\"https://docs.wpuserregistration.com/docs/individual-form-settings/#10-toc-title\" target=\"_blank\">' . esc_html__( 'information.', 'user-registration' ) . '</a>'\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_is_akismet_configured() {"}, {"role": "assistant", "content": "Function content: if ( ! is_plugin_active( 'akismet/akismet.php' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function checks whether the Akismet plugin is installed and configured, and if the Akismet\n\t * validation option is enabled for a specific form. If validation is enabled, it prepares the\n\t * necessary data for the validation request and sends it to Akismet's 'registration-check' endpoint.\n\t *\n\t * @param int   $form_id The form_id to check if to validate.\n\t * @param array $form_data  values to validate.\n\t *\n\t * @return bool\n\t *   - true if the form_data is potentially spam according to Akismet.\n\t *   - false if Akismet validation is not enabled, the plugin is not properly configured, or the form_data is not considered spam.\n\t */\n\tfunction ur_get_akismet_validate( $form_id, $form_data ) {"}, {"role": "assistant", "content": "Function content: if ( ! file_exists( WP_PLUGIN_DIR . '/akismet/akismet.php' ) ) {\n\t\t\treturn false;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_data_for_akismet( $form_data ) {"}, {"role": "assistant", "content": "Function content: $field_type_allowlist = ur_get_allowed_field_for_akisment();\n\t\t$entry_data           = array();\n\t\t$form_content         = array();\n\t\t$other_content        = array();\n\n\t\tforeach ( $form_data as $key => $field ) {\n\t\t\tif ( isset( $field->extra_params['field_key'] ) ) {\n\t\t\t\t$entry_data[ $field->extra_params['field_key'] ] = $field->value;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_allowed_field_for_akisment() {"}, {"role": "assistant", "content": "Function content: $field_type_allowlist = array(\n\t\t\t'user_login',\n\t\t\t'text',\n\t\t\t'textarea',\n\t\t\t'user_email',\n\t\t\t'phone',\n\t\t\t'address',\n\t\t\t'user_url',\n\t\t\t'wysiwyg',\n\t\t\t'description',\n\t\t);\n\t\treturn $field_type_allowlist;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_current_url() {"}, {"role": "assistant", "content": "Function content: $parsed_home_url = wp_parse_url( home_url() );\n\n\t\t$url = $parsed_home_url['scheme'] . '://' . $parsed_home_url['host'];\n\n\t\tif ( ! empty( $parsed_home_url['port'] ) ) {\n\t\t\t$url .= ':' . $parsed_home_url['port'];\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function arguments to be passed to do_action().\n * @param string $version     The version of EverestForms that deprecated the hook.\n * @param string $replacement The hook that should have been used.\n * @param string $message     A message regarding the change.\n */\nfunction ur_do_deprecated_action( $tag, $args, $version, $replacement = null, $message = null ) {"}, {"role": "assistant", "content": "Function content: if ( ! has_action( $tag ) ) {\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function    Function used.\n * @param string $version     Version the message was added in.\n * @param string $replacement Replacement for the called function.\n */\nfunction ur_deprecated_function( $function, $version, $replacement = null ) {"}, {"role": "assistant", "content": "Function content: // @codingStandardsIgnoreStart\n\tif ( wp_doing_ajax() ) {\n\t\t/**\n\t\t * Fires an action when a deprecated function is run.\n\t\t *\n\t\t * The 'deprecated_function_run' action allows developers to hook into the point\n\t\t * where a deprecated function is executed. It provides information about the\n\t\t * deprecated function, its recommended replacement, and the version at which it\n\t\t * was deprecated.\n\t\t *\n\t\t * @param string $function   The name of the deprecated function being executed.\n\t\t * @param string $replacement The recommended replacement for the deprecated function.\n\t\t * @param string $version     The version at which the function was deprecated.\n\t\t */\n\t\tdo_action( 'deprecated_function_run', $function, $replacement, $version );\n\t\t$log_string  = \"The {$function}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is deprecated since version {"}, {"role": "assistant", "content": "Function content: $version}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_deprecated_hook( $hook, $version, $replacement = null, $message = null ) {"}, {"role": "assistant", "content": "Function content: // @codingStandardsIgnoreStart\n\tif ( wp_doing_ajax() ) {\n\t\t/**\n\t\t * Fires an action when a deprecated hook is run.\n\t\t *\n\t\t * The 'deprecated_hook_run' action allows developers to hook into the point\n\t\t * where a deprecated hook is executed. It provides information about the\n\t\t * deprecated hook, its recommended replacement, the version at which it was\n\t\t * deprecated, and an optional custom deprecation message.\n\t\t *\n\t\t * @param string $hook        The name of the deprecated hook being executed.\n\t\t * @param string $replacement The recommended replacement for the deprecated hook.\n\t\t * @param string $version     The version at which the hook was deprecated.\n\t\t * @param string $message     Optional. Custom deprecation message.\n\t\t */\n\t\tdo_action( 'deprecated_hook_run', $hook, $replacement, $version, $message );\n\n\t\t$message    = empty( $message ) ? '' : ' ' . $message;\n\t\t$log_string = \"{$hook}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function The function which threw exception.\n * @param array     $args The args passed to the function.\n */\nfunction ur_caught_exception( $exception_object, $function = '', $args = array() ) {"}, {"role": "assistant", "content": "Function content: // @codingStandardsIgnoreStart\n\t$message  = $exception_object->getMessage();\n\t$message .= '. Args: ' . print_r( $args, true ) . '.';\n\n\tur_do_deprecated_action( 'everest_forms_caught_exception', array(  $exception_object, $function, $args ), '1.8.6', 'user_registration_caught_exception' );\n\t/**\n\t * Fires an action when an exception is caught.\n\t *\n\t * The 'user_registration_caught_exception' action allows developers to hook into the point\n\t * where an exception is caught in the User Registration plugin. It provides information about\n\t * the exception object, the function where the exception occurred, and the arguments passed to\n\t * that function.\n\t *\n\t * @param Exception $exception_object The caught exception object.\n\t * @param string    $function         The name of the function where the exception occurred.\n\t * @param array     $args             The arguments passed to the function.\n\t */\n\tdo_action( 'user_registration_caught_exception', $exception_object, $function, $args );\n\terror_log( \"Exception caught in {$function}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function Function used.\n * @param string $message  Message to log.\n * @param string $version  Version the message was added in.\n */\nfunction ur_deprecated_doing_it_wrong( $function, $message, $version ) {"}, {"role": "assistant", "content": "Function content: // @codingStandardsIgnoreStart\n\t$message .= ' Backtrace: ' . wp_debug_backtrace_summary();\n\n\tif ( wp_doing_ajax() ) {\n\t\t/**\n\t\t * Fires an action when a deprecated function is used incorrectly.\n\t\t *\n\t\t * The 'doing_it_wrong_run' action allows developers to hook into the point where\n\t\t * a deprecated function is used incorrectly. It provides information about the\n\t\t * deprecated function, the associated error message, and the version at which it\n\t\t * was deprecated.\n\t\t *\n\t\t * @param string $function The name of the deprecated function used incorrectly.\n\t\t * @param string $message  The error message associated with using the function incorrectly.\n\t\t * @param string $version  The version at which the function was deprecated.\n\t\t */\n\t\tdo_action( 'doing_it_wrong_run', $function, $message, $version );\n\t\terror_log( \"{$function}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_deprecated_argument( $argument, $version, $message = null ) {"}, {"role": "assistant", "content": "Function content: // @codingStandardsIgnoreStart\n\tif ( wp_doing_ajax() ) {\n\t\t/**\n\t\t * Fires an action when a deprecated argument is encountered.\n\t\t *\n\t\t * The 'deprecated_argument_run' action allows developers to hook into the point\n\t\t * where a deprecated argument is encountered. It provides information about the\n\t\t * deprecated argument, the associated error message, and the version at which it\n\t\t * was deprecated.\n\t\t *\n\t\t * @param string $argument The name of the deprecated argument encountered.\n\t\t * @param string $message  The error message associated with the deprecated argument.\n\t\t * @param string $version  The version at which the argument was deprecated.\n\t\t */\n\t\tdo_action( 'deprecated_argument_run', $argument, $message, $version );\n\t\terror_log( \"The {$argument}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_fields( $form_id ) {"}, {"role": "assistant", "content": "Function content: $form_id = (int) $form_id;\n\n\t$form_fields = array();\n\n\tif ( ! empty( $form_id ) ) {\n\t\t$post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\t\tforeach ( $post_content_array as $row_index => $row ) {\n\t\t\tforeach ( $row as $grid_index => $grid ) {\n\t\t\t\tforeach ( $grid as $field_index => $field ) {\n\t\t\t\t\t$field_name = $field->general_setting->field_name;\n\n\t\t\t\t\tif ( $field_name ) {\n\t\t\t\t\t\t$form_fields[ $field_name ] = $field;\n\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_field_keys( $form_id ) {"}, {"role": "assistant", "content": "Function content: $form_fields = ur_get_form_fields( $form_id );\n\n\t$field_keys = array();\n\n\tif ( ! empty( $form_fields ) && is_array( $form_fields ) ) {\n\t\t$field_keys = array_keys( $form_fields );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_field_data( $form_id = 0 ) {"}, {"role": "assistant", "content": "Function content: $post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\t$form_field_data = UR_Frontend_Form_Handler::get_form_field_data( $post_content_array );\n\n\treturn $form_field_data;\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_notice_count( $notice_type = '' ) {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_has_notice( $message, $notice_type = 'success' ) {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_add_notice( $message, $notice_type = 'success' ) {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_set_notices( $notices ) {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_clear_notices() {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_print_notices() {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_print_notice( $message, $notice_type = 'success' ) {"}, {"role": "assistant", "content": "Function content: if ( 'success' === $notice_type ) {\n\t\t$message = apply_filters( 'user_registration_add_message', $message );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_notices( $notice_type = '' ) {"}, {"role": "assistant", "content": "Function content: if ( ! did_action( 'user_registration_init' ) ) {\n\t\tur_doing_it_wrong( __FUNCTION__, __( 'This function should not be called before user_registration_init.', 'user-registration' ), '1.0' );\n\n\t\treturn;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_add_wp_error_notices( $errors ) {"}, {"role": "assistant", "content": "Function content: if ( is_wp_error( $errors ) && $errors->get_error_messages() ) {\n\t\tforeach ( $errors->get_error_messages() as $error ) {\n\t\t\tur_add_notice( $error, 'error' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_page_endpoint_title( $title ) {"}, {"role": "assistant", "content": "Function content: global $wp_query;\n\n\tif ( ! is_null( $wp_query ) && ! is_admin() && is_main_query() && in_the_loop() && is_page() && is_ur_endpoint_url() ) {\n\t\t$endpoint       = UR()->query->get_current_endpoint();\n\t\t$endpoint_title = UR()->query->get_endpoint_title( $endpoint );\n\n\t\tif ( ! empty( $endpoint_title ) ) {\n\t\t\t$title = $endpoint_title;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_page_id( $page ) {"}, {"role": "assistant", "content": "Function content: $my_account_page_id = get_option( 'user_registration_myaccount_page_id' );\n\t$page_id            = get_the_ID();\n\n\tif ( 'myaccount' == $page || 'login' == $page ) {\n\t\t$page_id = ! empty( $my_account_page_id ) ? $my_account_page_id : $page_id;\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_wpml_page_language( $page_id ) {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\t/**\n\t * Filters the current language for WPML (WordPress Multilingual).\n\t *\n\t * The 'wpml_current_language' filter allows developers to modify the current language\n\t * used by the WPML plugin. In this instance, it sets the current language to English ('en').\n\t *\n\t * @param string $current_language The original current language.\n\t */\n\t$current_language = apply_filters( 'wpml_current_language', 'en' );\n\n\t$element_prepared = $wpdb->prepare(\n\t\t\"SELECT trid FROM {$wpdb->prefix}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_page_permalink( $page ) {"}, {"role": "assistant", "content": "Function content: $page_id = ur_get_page_id( $page );\n\t$page    = $page_id;\n\n\tif ( $page_id > 0 && function_exists( 'pll_current_language' ) ) {\n\t\t$current_language = pll_current_language();\n\t\tif ( ! empty( $current_language ) ) {\n\t\t\t$translations = pll_get_post_translations( $page_id );\n\t\t\t$page         = isset( $translations[ pll_current_language() ] ) ? $translations[ pll_current_language() ] : $page_id;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_login_url() {"}, {"role": "assistant", "content": "Function content: $my_account_page_id = absint( get_option( 'user_registration_login_options_login_redirect_url', 'unset' ) );\n\n\t\tif ( $my_account_page_id > 0 && function_exists( 'pll_current_language' ) ) {\n\t\t\t$current_language = pll_current_language();\n\t\t\tif ( ! empty( $current_language ) ) {\n\t\t\t\t$translations       = pll_get_post_translations( $my_account_page_id );\n\t\t\t\t$my_account_page_id = isset( $translations[ pll_current_language() ] ) ? $translations[ pll_current_language() ] : $my_account_page_id;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_my_account_url() {"}, {"role": "assistant", "content": "Function content: $my_account_page_id = get_option( 'user_registration_myaccount_page_id' );\n\n\t\tif ( $my_account_page_id > 0 && function_exists( 'pll_current_language' ) ) {\n\t\t\t$current_language = pll_current_language();\n\t\t\tif ( ! empty( $current_language ) ) {\n\t\t\t\t$translations       = pll_get_post_translations( $my_account_page_id );\n\t\t\t\t$my_account_page_id = isset( $translations[ pll_current_language() ] ) ? $translations[ pll_current_language() ] : $my_account_page_id;\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_current_language() {"}, {"role": "assistant", "content": "Function content: $current_language = get_bloginfo( 'language' );\n\n\t\tif ( function_exists( 'pll_current_language' ) ) {\n\t\t\t$current_language = pll_current_language();\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_endpoint_url( $endpoint, $value = '', $permalink = '' ) {"}, {"role": "assistant", "content": "Function content: if ( ! $permalink ) {\n\t\t$permalink = get_permalink();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_nav_menu_items( $items ) {"}, {"role": "assistant", "content": "Function content: if ( ! is_user_logged_in() ) {\n\t\t$customer_logout = get_option( 'user_registration_logout_endpoint', 'user-logout' );\n\n\t\tif ( ! empty( $customer_logout ) && is_array( $items ) ) {\n\t\t\tforeach ( $items as $key => $item ) {\n\t\t\t\tif ( empty( $item->url ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_template_redirect() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\tif ( isset( $wp->query_vars['user-logout'] ) && ! empty( $_REQUEST['_wpnonce'] ) && wp_verify_nonce( $_REQUEST['_wpnonce'], 'user-logout' ) ) { //PHPCS:ignore;\n\t\t// Logout.\n\t\t$redirect_url = str_replace( '/user-logout', '', $wp->request );\n\t\t/**\n\t\t * Filter the redirect after logout url.\n\t\t *\n\t\t * @param string $redirect_url The redirect url.\n\t\t */\n\t\t$redirect_url = apply_filters( 'user_registration_redirect_after_logout', $redirect_url );\n\n\t\t// Check if external url is present in URL.\n\t\tif ( isset( $_GET['redirect_to_on_logout'] ) ) {\n\t\t\twp_logout();\n\t\t\twp_redirect( esc_url_raw( wp_unslash( $_GET['redirect_to_on_logout'] ) ) );\n\t\t\texit;\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_get_form_redirect_url( $form_id = 0, $redirect_url = '', $maybe_translate = true ) {"}, {"role": "assistant", "content": "Function content: $login_option      = ur_get_form_setting_by_key( $form_id, 'user_registration_form_setting_login_options' );\n\t\t$paypal_is_enabled = ur_string_to_bool( ur_get_single_post_meta( $form_id, 'user_registration_enable_paypal_standard', false ) );\n\n\t\tif ( ! $paypal_is_enabled ) {\n\n\t\t\tif ( empty( $redirect_url ) ) {\n\t\t\t\t// Getting redirect options from global settings for backward compatibility.\n\t\t\t\t$redirect_url = get_option( 'user_registration_general_setting_redirect_options', $redirect_url );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_body_class( $classes ) {"}, {"role": "assistant", "content": "Function content: $classes   = (array) $classes;\n\t$classes[] = 'user-registration-page';\n\tif ( is_ur_account_page() ) {\n\t\t$classes[] = 'user-registration-account';\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_form_field( $key, $args, $value = null, $current_row = '' ) {"}, {"role": "assistant", "content": "Function content: /* Conditional Logic codes */\n\t\t$rules                      = array();\n\t\t$rules['conditional_rules'] = isset( $args['conditional_rules'] ) ? $args['conditional_rules'] : '';\n\t\t$rules['logic_gate']        = isset( $args['logic_gate'] ) ? $args['logic_gate'] : '';\n\t\t$rules['rules']             = isset( $args['rules'] ) ? $args['rules'] : array();\n\t\t$rules['required']          = isset( $args['required'] ) ? $args['required'] : '';\n\n\t\tforeach ( $rules['rules'] as $rules_key => $rule ) {\n\t\t\tif ( empty( $rule['field'] ) ) {\n\t\t\t\tunset( $rules['rules'][ $rules_key ] );\n\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_form_data( $user_id = 0, $form_id = 0 ) {"}, {"role": "assistant", "content": "Function content: $all_meta_value = get_user_meta( $user_id );\n\t\t$user_details   = get_user_by( 'ID', $user_id );\n\t\t$user_info      = (array) $user_details->data;\n\t\t$fields         = array();\n\n\t\t$post_content_array = ( $form_id ) ? UR()->form->get_form( $form_id, array( 'content_only' => true ) ) : array();\n\n\t\t$all_meta_value_keys = array();\n\t\tif ( gettype( $all_meta_value ) === 'array' ) {\n\t\t\t$all_meta_value_keys = array_keys( $all_meta_value );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_account_content() {"}, {"role": "assistant", "content": "Function content: global $wp;\n\n\t\tif ( ! empty( $wp->query_vars ) ) {\n\t\t\tforeach ( $wp->query_vars as $key => $value ) {\n\t\t\t\t// Ignore pagename param.\n\t\t\t\tif ( 'pagename' === $key ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_account_navigation() {"}, {"role": "assistant", "content": "Function content: ur_get_template( 'myaccount/navigation.php' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_account_dashboard() {"}, {"role": "assistant", "content": "Function content: ur_get_template(\n\t\t\t'myaccount/dashboard.php',\n\t\t\tarray(\n\t\t\t\t'current_user' => get_user_by( 'id', get_current_user_id() ),\n\t\t\t)\n\t\t);\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_account_edit_profile() {"}, {"role": "assistant", "content": "Function content: UR_Shortcode_My_Account::edit_profile();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_registration_account_edit_account() {"}, {"role": "assistant", "content": "Function content: UR_Shortcode_My_Account::edit_account();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_logout_url( $redirect = '' ) {"}, {"role": "assistant", "content": "Function content: $logout_endpoint = get_option( 'user_registration_logout_endpoint', 'user-logout' );\n\n\tglobal $post;\n\t$wp_version   = '5.0';\n\t$post_content = isset( $post->post_content ) ? $post->post_content : '';\n\n\tif ( ( ur_post_content_has_shortcode( 'user_registration_login' ) || ur_post_content_has_shortcode( 'user_registration_my_account' ) ) && is_user_logged_in() ) {\n\t\tif ( version_compare( $GLOBALS['wp_version'], $wp_version, '>=' ) ) {\n\t\t\t$blocks        = parse_blocks( $post_content );\n\t\t\t$new_shortcode = '';\n\n\t\t\tforeach ( $blocks as $block ) {\n\t\t\t\tif ( ( 'core/shortcode' === $block['blockName'] || 'core/paragraph' === $block['blockName'] ) && isset( $block['innerHTML'] ) ) {\n\t\t\t\t\t$new_shortcode = ( 'core/shortcode' === $block['blockName'] ) ? $block['innerHTML'] : wp_strip_all_tags( $block['innerHTML'] );\n\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function is_elementor_editing_page() {"}, {"role": "assistant", "content": "Function content: return ( ! empty( $_POST['action'] ) && 'elementor_ajax' === $_POST['action'] ) || //PHPCS:ignore;\n\t\t! empty( $_GET['elementor-preview'] ) || //PHPCS:ignore;\n\t\t( ! empty( $_GET['action'] ) && 'elementor' === $_GET['action'] ); //PHPCS:ignore;\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_check_external_url( $url ) {"}, {"role": "assistant", "content": "Function content: $all_page_slug = ur_get_all_page_slugs();\n\tif ( in_array( $url, $all_page_slug, true ) ) {\n\t\t$redirect_url = site_url( $url );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_100_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.0.0' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_120_usermeta() {"}, {"role": "assistant", "content": "Function content: global $wpdb;\n\n\t// Get usermeta.\n\t$usermeta = $wpdb->get_results( \"SELECT user_id, meta_key, meta_value FROM $wpdb->usermeta WHERE meta_key LIKE 'user_registration\\_%';\" );\n\n\t// Update old usermeta values.\n\tforeach ( $usermeta as $metadata ) {\n\t\t$user_id     = intval( $metadata->user_id );\n\t\t$json_val    = json_decode( $metadata->meta_value );\n\t\t$explode_val = explode( '__', $metadata->meta_value );\n\n\t\tif ( $json_val && $metadata->meta_value != $json_val ) {\n\t\t\tupdate_user_meta( $user_id, $metadata->meta_key, json_decode( $metadata->meta_value ) );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_120_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.2.0' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_125_usermeta() {"}, {"role": "assistant", "content": "Function content: $users = get_users( array( 'fields' => array( 'ID' ) ) );\n\n\tforeach ( $users as $user_id ) {\n\n\t\tif ( metadata_exists( 'user', $user_id->ID, 'user_registration_user_first_name' ) ) {\n\t\t\t$first_name = get_user_meta( $user_id->ID, 'user_registration_user_first_name', true );\n\t\t\tupdate_user_meta( $user_id->ID, 'first_name', $first_name );\n\t\t\tdelete_user_meta( $user_id->ID, 'user_registration_user_first_name' );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_125_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.2.5' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_130_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.3.0' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_130_post() {"}, {"role": "assistant", "content": "Function content: $posts = get_posts( 'post_type=user_registration' );\n\tforeach ( $posts as $post ) {\n\t\t$post_content       = isset( $post->post_content ) ? $post->post_content : '';\n\t\t$post_content_array = json_decode( $post_content );\n\n\t\tforeach ( $post_content_array as $post_content_row ) {\n\t\t\tforeach ( $post_content_row as $post_content_grid ) {\n\t\t\t\tforeach ( $post_content_grid as $field ) {\n\n\t\t\t\t\tif ( isset( $field->field_key ) && isset( $field->general_setting->field_name ) ) {\n\t\t\t\t\t\tswitch ( $field->field_key ) {\n\t\t\t\t\t\t\tcase 'user_username':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'user_login';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_password':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key  = 'user_pass';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_display_name':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'display_name';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_description':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'description';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_first_name':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'first_name';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_last_name':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'last_name';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'user_nickname':\n\t\t\t\t\t\t\t\t$field->general_setting->field_name = $field->field_key = 'nickname';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_140_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.4.0' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_140_option() {"}, {"role": "assistant", "content": "Function content: $unused_options = array(\n\t\t'user_registration_general_setting_default_user_role',\n\t\t'user_registration_general_setting_enable_strong_password',\n\t\t'user_registration_general_setting_form_submit_label',\n\t);\n\n\tforeach ( $unused_options as $unused_option ) {\n\t\tdelete_option( $unused_option );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_142_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.4.2' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_142_option() {"}, {"role": "assistant", "content": "Function content: $value = get_option( 'user_registration_myaccount_edit_account_endpoint' );\n\tupdate_option( 'user_registration_myaccount_change_password_endpoint', $value );\n\tdelete_option( 'user_registration_myaccount_edit_account_endpoint' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_1581_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.5.8.1' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_160_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.6.0' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_1581_meta_key() {"}, {"role": "assistant", "content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'profile_pic_id', true );\n\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_id', $profile_picture_id );\n\t\tdelete_user_meta( $user->ID, 'profile_pic_id' );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_160_option_migrate() {"}, {"role": "assistant", "content": "Function content: $redirect_url = get_option( 'user_registration_general_setting_redirect_options' );\n\n\t// Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t// Update global setting to all user registration posts meta.\n\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', $redirect_url );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_162_db_version() {"}, {"role": "assistant", "content": "Function content: UR_Install::update_db_version( '1.6.2' );\n}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_162_meta_key() {"}, {"role": "assistant", "content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'user_registration_profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'user_registration_profile_pic_id', true );\n\t\tif ( $profile_picture_id ) {\n\t\t\t$profile_picture_url = wp_get_attachment_thumb_url( $profile_picture_id );\n\t\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_url', $profile_picture_url );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function ur_update_30_option_migrate() {"}, {"role": "assistant", "content": "Function content: // Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t$redirect_url = ur_get_single_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', get_option( 'user_registration_general_setting_redirect_options', '' ) );\n\n\t\tif ( ! empty( $redirect_url ) ) {\n\t\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_after_registration', 'external-url' );\n\t\t}"}]}
