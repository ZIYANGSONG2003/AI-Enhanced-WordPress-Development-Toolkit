{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_160_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.6.0' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_1581_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.5.8.1' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_1581_meta_key() {"},{"role": "assistant","content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'profile_pic_id', true );\n\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_id', $profile_picture_id );\n\t\tdelete_user_meta( $user->ID, 'profile_pic_id' );\n\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_160_option_migrate() {"},{"role": "assistant","content": "Function content: $redirect_url = get_option( 'user_registration_general_setting_redirect_options' );\n\n\t// Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t// Update global setting to all user registration posts meta.\n\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', $redirect_url );\n\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_162_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.6.2' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_162_meta_key() {"},{"role": "assistant","content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'user_registration_profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'user_registration_profile_pic_id', true );\n\t\tif ( $profile_picture_id ) {\n\t\t\t$profile_picture_url = wp_get_attachment_thumb_url( $profile_picture_id );\n\t\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_url', $profile_picture_url );\n\t\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_30_option_migrate() {"},{"role": "assistant","content": "Function content: // Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t$redirect_url = ur_get_single_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', get_option( 'user_registration_general_setting_redirect_options', '' ) );\n\n\t\tif ( ! empty( $redirect_url ) ) {\n\t\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_after_registration', 'external-url' );\n\t\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Define the main plugin class with activation and deactivation hooks."},{"role": "assistant","content": "class My_Custom_Plugin {\n\tpublic function __construct() {\n\t\tadd_action('init', array($this, 'init'));\n\t\tregister_activation_hook(__FILE__, array($this, 'activate'));\n\t\tregister_deactivation_hook(__FILE__, array($this, 'deactivate'));\n\t}\n\n\tpublic function init() {\n\t\t// Initialize plugin settings\n\t}\n\n\tpublic function activate() {\n\t\t// Actions to perform on activation\n\t}\n\n\tpublic function deactivate() {\n\t\t// Actions to perform on deactivation\n\t}\n}\n\n$my_custom_plugin = new My_Custom_Plugin();"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add a shortcode that outputs a custom message."},{"role": "assistant","content": "\n\tpublic function init() {\n\t\tadd_shortcode('custom_message', array($this, 'custom_message_shortcode'));\n\t}\n\n\tpublic function custom_message_shortcode($atts) {\n\t\t$atts = shortcode_atts(array(\n\t\t\t'content' => 'Hello, World!',\n\t\t), $atts);\n\t\treturn '<div class=\"custom-message\">' . esc_html($atts['content']) . '</div>';\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add an AJAX function to handle form submissions."},{"role": "assistant","content": "\n\tpublic function __construct() {\n\t\tadd_action('wp_ajax_my_form', array($this, 'handle_form_submission'));\n\t\tadd_action('wp_ajax_nopriv_my_form', array($this, 'handle_form_submission'));\n\t}\n\n\tpublic function handle_form_submission() {\n\t\t// Verify nonce\n\t\tcheck_ajax_referer('my_form_nonce', 'security');\n\n\t\t// Handle form submission\n\t\t$response = array('success' => true, 'message' => 'Form submitted successfully!');\n\t\techo json_encode($response);\n\t\texit;\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Include scripts and styles."},{"role": "assistant","content": "\n\tpublic function __construct() {\n\t\tadd_action('wp_enqueue_scripts', array($this, 'enqueue_scripts'));\n\t}\n\n\tpublic function enqueue_scripts() {\n\t\twp_enqueue_style('my-plugin-style', plugins_url('css/style.css', __FILE__));\n\t\twp_enqueue_script('my-plugin-script', plugins_url('js/script.js', __FILE__), array('jquery'), null, true);\n\t\twp_localize_script('my-plugin-script', 'ajax_object', array('ajax_url' => admin_url('admin-ajax.php')));\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add styles for the button."},{"role": "assistant","content": "\n\tpublic function enqueue_styles() {\n\t\twp_add_inline_style('my-plugin-style', \".buttonClass {\\n\t\tfont-size: 15px;\\n\t\tfont-family: Arial;\\n\t\twidth: 140px;\\n\t\theight: 50px;\\n\t\tborder-width: 1px;\\n\t\tcolor: #fff;\\n\t\tborder-color: #18ab29;\\n\t\tborder-radius: 28px;\\n\t\ttext-shadow: 1px 1px 0px #2f6627;\\n\t\tbackground: #44c767;\\n\t}\\n\\n.buttonClass:hover {\\n\t\tbackground: #5cbf2a;\\n\t}\" );\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: self::add_ajax_events();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function search_global_settings() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_search_global_settings', 'security' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function allow_usage_dismiss() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'allow_usage_nonce', '_wpnonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_form_submit() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter to modify user capability.\n\t\t * Default value is 'create_users'.\n\t\t */\n\t\t$current_user_capability = apply_filters( 'ur_registration_user_capability', 'create_users' );\n\n\t\tif ( is_user_logged_in() && ! current_user_can( 'administrator' ) && ! current_user_can( $current_user_capability ) ) { //phpcs:ignore\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'You are already logged in.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_profile_details() {"}, {"role": "assistant", "content": "Function content: if ( ! check_ajax_referer( 'user_registration_profile_details_save_nonce', 'security', false ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function profile_pic_upload() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_profile_picture_upload_nonce', 'security' );\n\n\t\t$nonce = isset( $_REQUEST['security'] ) ? sanitize_text_field( wp_unslash( $_REQUEST['security'] ) ) : false;\n\n\t\t$flag = wp_verify_nonce( $nonce, 'user_registration_profile_picture_upload_nonce' );\n\n\t\tif ( true != $flag || is_wp_error( $flag ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function init() {"},{"role":"assistant","content":"Function content: self::add_ajax_events();\n}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function search_global_settings() {"},{"role":"assistant","content":"Function content: check_ajax_referer( 'user_registration_search_global_settings', 'security' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function allow_usage_dismiss() {"},{"role":"assistant","content":"Function content: check_ajax_referer( 'allow_usage_nonce', '_wpnonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function user_form_submit() {"},{"role":"assistant","content":"Function content: /**\n\t\t * Filter to modify user capability.\n\t\t * Default value is 'create_users'.\n\t\t */\n\t\t$current_user_capability = apply_filters( 'ur_registration_user_capability', 'create_users' );\n\n\t\tif ( is_user_logged_in() && ! current_user_can( 'administrator' ) && ! current_user_can( $current_user_capability ) ) { //phpcs:ignore\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'You are already logged in.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function update_profile_details() {"},{"role":"assistant","content":"Function content: if ( ! check_ajax_referer( 'user_registration_profile_details_save_nonce', 'security', false ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please refresh and try again.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// Process profile details update\n\t\t// ... your update logic here ...\n\t\twp_send_json_success(\n\t\t\tarray(\n\t\t\t\t'message' => __( 'Profile details updated successfully.', 'user-registration' ),\n\t\t\t)\n\t\t);\n\t}"}]}