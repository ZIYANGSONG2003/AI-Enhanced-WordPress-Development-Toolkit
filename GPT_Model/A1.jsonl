{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_160_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.6.0' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_1581_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.5.8.1' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_1581_meta_key() {"},{"role": "assistant","content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'profile_pic_id', true );\n\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_id', $profile_picture_id );\n\t\tdelete_user_meta( $user->ID, 'profile_pic_id' );\n\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_160_option_migrate() {"},{"role": "assistant","content": "Function content: $redirect_url = get_option( 'user_registration_general_setting_redirect_options' );\n\n\t// Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t// Update global setting to all user registration posts meta.\n\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', $redirect_url );\n\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_162_db_version() {"},{"role": "assistant","content": "Function content: UR_Install::update_db_version( '1.6.2' );\n}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_162_meta_key() {"},{"role": "assistant","content": "Function content: $users = get_users(\n\t\tarray(\n\t\t\t'meta_key' => 'user_registration_profile_pic_id',\n\t\t)\n\t);\n\n\tforeach ( $users as $user ) {\n\t\t$profile_picture_id = get_user_meta( $user->ID, 'user_registration_profile_pic_id', true );\n\t\tif ( $profile_picture_id ) {\n\t\t\t$profile_picture_url = wp_get_attachment_thumb_url( $profile_picture_id );\n\t\t\tupdate_user_meta( $user->ID, 'user_registration_profile_pic_url', $profile_picture_url );\n\t\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Function definition: function ur_update_30_option_migrate() {"},{"role": "assistant","content": "Function content: // Get all posts with user_registration post type.\n\t$posts = get_posts( 'post_type=user_registration' );\n\n\tforeach ( $posts as $post ) {\n\n\t\t$redirect_url = ur_get_single_post_meta( $post->ID, 'user_registration_form_setting_redirect_options', get_option( 'user_registration_general_setting_redirect_options', '' ) );\n\n\t\tif ( ! empty( $redirect_url ) ) {\n\t\t\tupdate_post_meta( $post->ID, 'user_registration_form_setting_redirect_after_registration', 'external-url' );\n\t\t}"}]}
{"messages": [{"role": "system","content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role": "user","content": "Define the main plugin class with activation and deactivation hooks."},{"role": "assistant","content": "class My_Custom_Plugin {\n\tpublic function __construct() {\n\t\tadd_action('init', array($this, 'init'));\n\t\tregister_activation_hook(__FILE__, array($this, 'activate'));\n\t\tregister_deactivation_hook(__FILE__, array($this, 'deactivate'));\n\t}\n\n\tpublic function init() {\n\t\t// Initialize plugin settings\n\t}\n\n\tpublic function activate() {\n\t\t// Actions to perform on activation\n\t}\n\n\tpublic function deactivate() {\n\t\t// Actions to perform on deactivation\n\t}\n}\n\n$my_custom_plugin = new My_Custom_Plugin();"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add a shortcode that outputs a custom message."},{"role": "assistant","content": "\n\tpublic function init() {\n\t\tadd_shortcode('custom_message', array($this, 'custom_message_shortcode'));\n\t}\n\n\tpublic function custom_message_shortcode($atts) {\n\t\t$atts = shortcode_atts(array(\n\t\t\t'content' => 'Hello, World!',\n\t\t), $atts);\n\t\treturn '<div class=\"custom-message\">' . esc_html($atts['content']) . '</div>';\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add an AJAX function to handle form submissions."},{"role": "assistant","content": "\n\tpublic function __construct() {\n\t\tadd_action('wp_ajax_my_form', array($this, 'handle_form_submission'));\n\t\tadd_action('wp_ajax_nopriv_my_form', array($this, 'handle_form_submission'));\n\t}\n\n\tpublic function handle_form_submission() {\n\t\t// Verify nonce\n\t\tcheck_ajax_referer('my_form_nonce', 'security');\n\n\t\t// Handle form submission\n\t\t$response = array('success' => true, 'message' => 'Form submitted successfully!');\n\t\techo json_encode($response);\n\t\texit;\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Include scripts and styles."},{"role": "assistant","content": "\n\tpublic function __construct() {\n\t\tadd_action('wp_enqueue_scripts', array($this, 'enqueue_scripts'));\n\t}\n\n\tpublic function enqueue_scripts() {\n\t\twp_enqueue_style('my-plugin-style', plugins_url('css/style.css', __FILE__));\n\t\twp_enqueue_script('my-plugin-script', plugins_url('js/script.js', __FILE__), array('jquery'), null, true);\n\t\twp_localize_script('my-plugin-script', 'ajax_object', array('ajax_url' => admin_url('admin-ajax.php')));\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Add styles for the button."},{"role": "assistant","content": "\n\tpublic function enqueue_styles() {\n\t\twp_add_inline_style('my-plugin-style', \".buttonClass {\\n\t\tfont-size: 15px;\\n\t\tfont-family: Arial;\\n\t\twidth: 140px;\\n\t\theight: 50px;\\n\t\tborder-width: 1px;\\n\t\tcolor: #fff;\\n\t\tborder-color: #18ab29;\\n\t\tborder-radius: 28px;\\n\t\ttext-shadow: 1px 1px 0px #2f6627;\\n\t\tbackground: #44c767;\\n\t}\\n\\n.buttonClass:hover {\\n\t\tbackground: #5cbf2a;\\n\t}\" );\n\t}"}]}
{"messages": [{"role": "user","content": "You are a WordPress code generator. Create a complete WordPress plugin with comment like counts functionality."},{"role": "assistant","content": "<?php\n\t/**\n\t * Plugin Name: Comment Like Count\n\t */\n\tclass Comment_Like_Count {\n\t\tpublic function __construct() {\n\t\t\tadd_action('wp_enqueue_scripts', array($this, 'enqueue_scripts'));\n\t\t}\n\n\t\tpublic function enqueue_scripts() {\n\t\t\twp_enqueue_style('my-plugin-style', plugins_url('css/style.css', __FILE__));\n\t\t\twp_enqueue_script('my-plugin-script', plugins_url('js/script.js', __FILE__), array('jquery'), null, true);\n\t\t\t$this->enqueue_styles();\n\t\t}\n\n\t\tpublic function enqueue_styles() {\n\t\t\twp_add_inline_style('my-plugin-style', \".fixed .column-comment_likes {\\n\t\twidth: 5.5em;\\n\t\tpadding: 8px 0;\\n\t\ttext-align: center;\\n\t}\\n\\n.fixed .column-stats {\\n\t\twidth: 5em;\\n\t}\\n\\n.fixed .column-comment_likes .comment-like-count {\\n\t\tbox-sizing: border-box;\\n\t\tdisplay: inline-block;\\n\t\tpadding: 0 8px;\\n\t\theight: 2em;\\n\t\tmargin-top: 5px;\\n\t\tborder-radius: 5px;\\n\t\tbackground-color: #787c82;\\n\t\tcolor: #fff;\\n\t\tfont-size: 11px;\\n\t\tline-height: 21px;\\n\t}\\n\\n.fixed .column-comment_likes .comment-like-count:after {\\n\t\tborder: none;\\n\t}\\n\\n.fixed .column-comment_likes .comment-like-count:hover {\\n\t\tbackground-color: #2271b1;\\n\t}\\n\\n.fixed .column-comment_likes .vers:before {\\n\t\tfont: normal 20px/1 dashicons;\\n\t\tcontent: '\\f155';\\n\t\tspeak: none;\\n\t\t-webkit-font-smoothing: antialiased;\\n\t\t-moz-osx-font-smoothing: grayscale;\\n\t}\\n\\n@media screen and (max-width: 782px) {\\n\t.fixed .column-comment_likes {\\n\t\tdisplay: none;\\n\t}\\n}\");\n\t\t}\n\n\t\tpublic function get_comment_like_counts() {\n\t\t\tjQuery(document).ready(function($) {\n\t\t\t\tvar jsonAPIbase = 'https://public-api.wordpress.com/rest/v1',\n\t\t\t\tAPIqueue = [];\n\n\t\t\t\tfunction getCommentLikeCounts() {\n\t\t\t\t\t$('.comment-like-count').each(function() {\n\t\t\t\t\t\tvar blogId = $(this).attr('data-blog-id'),\n\t\t\t\t\t\tcommentId = $(this).attr('data-comment-id');\n\n\t\t\t\t\t\tAPIqueue.push('/sites/' + blogId + '/comments/' + commentId + '/likes');\n\t\t\t\t\t});\n\n\t\t\t\t\treturn $.ajax({\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\turl: jsonAPIbase + '/batch',\n\t\t\t\t\t\tdataType: 'jsonp',\n\t\t\t\t\t\tdata: 'urls[]=' + APIqueue.map(encodeURIComponent).join('&urls[]='),\n\t\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\t\tfor (var path in response) {\n\t\t\t\t\t\t\t\tif (!response[path].error_data) {\n\t\t\t\t\t\t\t\t\tvar urlPieces = path.split('/'),\n\t\t\t\t\t\t\t\t\tcommentId = urlPieces[4],\n\t\t\t\t\t\t\t\t\tlikeCount = response[path].found;\n\n\t\t\t\t\t\t\t\t\tif (likeCount < 1) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t$('#comment-like-count-' + commentId)\n\t\t\t\t\t\t\t\t\t.find('.like-count')\n\t\t\t\t\t\t\t\t\t.hide()\n\t\t\t\t\t\t\t\t\t.text(likeCount)\n\t\t\t\t\t\t\t\t\t.fadeIn();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function() {},\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tgetCommentLikeCounts();\n\t\t\t});\n\t\t}\n\t}\n\n\t$comment_like_count = new Comment_Like_Count();\n\tadd_action('wp_footer', array($comment_like_count, 'get_comment_like_counts'));"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function init() {"}, {"role": "assistant", "content": "Function content: self::add_ajax_events();\n\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function add_ajax_events() {"}, {"role": "assistant", "content": "$ajax_events = array(\n\t\t\t'user_input_dropped'        => true,\n\t\t\t'user_form_submit'          => true,\n\t\t\t'update_profile_details'    => true,\n\t\t\t'profile_pic_upload'        => true,\n\t\t\t'ajax_login_submit'         => true,\n\t\t\t'send_test_email'           => false,\n\t\t\t'create_form'               => false,\n\t\t\t'rated'                     => false,\n\t\t\t'dashboard_widget'          => false,\n\t\t\t'dismiss_notice'            => false,\n\t\t\t'import_form_action'        => false,\n\t\t\t'template_licence_check'    => false,\n\t\t\t'captcha_setup_check'       => false,\n\t\t\t'install_extension'         => false,\n\t\t\t'profile_pic_remove'        => false,\n\t\t\t'form_save_action'          => false,\n\t\t\t'allow_usage_dismiss'       => false,\n\t\t\t'cancel_email_change'       => false,\n\t\t\t'email_setting_status'      => false,\n\t\t\t'locked_form_fields_notice' => false,\n\t\t\t'search_global_settings'    => false,\n\t\t\t'php_notice_dismiss'        => false,\n\t\t\t'locate_form_action'        => false,\n\t\t);\n\n\t\tforeach ( $ajax_events as $ajax_event => $nopriv ) {\n\t\t\tadd_action( 'wp_ajax_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\n\t\t\tif ( $nopriv ) {\n\t\t\t\tadd_action( 'wp_ajax_nopriv_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\t\t\t}\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function search_global_settings() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_search_global_settings', 'security' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function allow_usage_dismiss() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'allow_usage_nonce', '_wpnonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function user_form_submit() {"}, {"role": "assistant", "content": "Function content: /**\n\t\t * Filter to modify user capability.\n\t\t * Default value is 'create_users'.\n\t\t */\n\t\t$current_user_capability = apply_filters( 'ur_registration_user_capability', 'create_users' );\n\n\t\tif ( is_user_logged_in() && ! current_user_can( 'administrator' ) && ! current_user_can( $current_user_capability ) ) { //phpcs:ignore\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'You are already logged in.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function update_profile_details() {"}, {"role": "assistant", "content": "Function content: if ( ! check_ajax_referer( 'user_registration_profile_details_save_nonce', 'security', false ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages": [{"role": "system", "content": "You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."}, {"role": "user", "content": "Function definition: function profile_pic_upload() {"}, {"role": "assistant", "content": "Function content: check_ajax_referer( 'user_registration_profile_picture_upload_nonce', 'security' );\n\n\t\t$nonce = isset( $_REQUEST['security'] ) ? sanitize_text_field( wp_unslash( $_REQUEST['security'] ) ) : false;\n\n\t\t$flag = wp_verify_nonce( $nonce, 'user_registration_profile_picture_upload_nonce' );\n\n\t\tif ( true != $flag || is_wp_error( $flag ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please reload.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function init() {"},{"role":"assistant","content":"Function content: self::add_ajax_events();\n}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function add_ajax_events() {"},{"role":"assistant","content":"Function content: $ajax_events = array(\n\t\t\t'user_input_dropped'        => true,\n\t\t\t'user_form_submit'          => true,\n\t\t\t'update_profile_details'    => true,\n\t\t\t'profile_pic_upload'        => true,\n\t\t\t'ajax_login_submit'         => true,\n\t\t\t'send_test_email'           => false,\n\t\t\t'create_form'               => false,\n\t\t\t'rated'                     => false,\n\t\t\t'dashboard_widget'          => false,\n\t\t\t'dismiss_notice'            => false,\n\t\t\t'import_form_action'        => false,\n\t\t\t'template_licence_check'    => false,\n\t\t\t'captcha_setup_check'       => false,\n\t\t\t'install_extension'         => false,\n\t\t\t'profile_pic_remove'        => false,\n\t\t\t'form_save_action'          => false,\n\t\t\t'allow_usage_dismiss'       => false,\n\t\t\t'cancel_email_change'       => false,\n\t\t\t'email_setting_status'      => false,\n\t\t\t'locked_form_fields_notice' => false,\n\t\t\t'search_global_settings'    => false,\n\t\t\t'php_notice_dismiss'        => false,\n\t\t\t'locate_form_action'        => false,\n\t\t);\n\n\t\tforeach ( $ajax_events as $ajax_event => $nopriv ) {\n\t\t\tadd_action( 'wp_ajax_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\n\t\t\tif ( $nopriv ) {\n\t\t\t\tadd_action( 'wp_ajax_nopriv_user_registration_' . $ajax_event, array( __CLASS__, $ajax_event ) );\n\t\t\t}\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function search_global_settings() {"},{"role":"assistant","content":"Function content: check_ajax_referer( 'user_registration_search_global_settings', 'security' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function allow_usage_dismiss() {"},{"role":"assistant","content":"Function content: check_ajax_referer( 'allow_usage_nonce', '_wpnonce' );\n\n\t\tif ( ! current_user_can( 'manage_options' ) ) {\n\t\t\twp_die( -1 );\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function user_form_submit() {"},{"role":"assistant","content":"Function content: /**\n\t\t * Filter to modify user capability.\n\t\t * Default value is 'create_users'.\n\t\t */\n\t\t$current_user_capability = apply_filters( 'ur_registration_user_capability', 'create_users' );\n\n\t\tif ( is_user_logged_in() && ! current_user_can( 'administrator' ) && ! current_user_can( $current_user_capability ) ) { //phpcs:ignore\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'You are already logged in.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}"}]}
{"messages":[{"role":"system","content":"You are a WordPress code generator. You provide accurate and well-structured PHP code for WordPress plugins based on user prompts."},{"role":"user","content":"Function definition: function update_profile_details() {"},{"role":"assistant","content":"Function content: if ( ! check_ajax_referer( 'user_registration_profile_details_save_nonce', 'security', false ) ) {\n\t\t\twp_send_json_error(\n\t\t\t\tarray(\n\t\t\t\t\t'message' => __( 'Nonce error, please refresh and try again.', 'user-registration' ),\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t// Process profile details update\n\t\t// ... your update logic here ...\n\t\twp_send_json_success(\n\t\t\tarray(\n\t\t\t\t'message' => __( 'Profile details updated successfully.', 'user-registration' ),\n\t\t\t)\n\t\t);\n\t}"}]}